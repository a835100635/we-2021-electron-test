!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).wangEditor={})}(this,(function(e){"use strict";if("undefined"==typeof globalThis&&(window.globalThis=window),console.log("global==>",global,typeof global),"object"==typeof global){var t=Object.getOwnPropertyDescriptor(global,"window");global.window&&!t.set||(global.window=global,global.requestAnimationFrame=function(){},global.navigator={userAgent:""},global.location={hostname:"0.0.0.0",port:0,protocol:"http:"},global.btoa=function(){})}const n={createElement:function(e,t){return document.createElement(e,t)},createElementNS:function(e,t,n){return document.createElementNS(e,t,n)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},getTextContent:function(e){return e.textContent},isElement:function(e){return 1===e.nodeType},isText:function(e){return 3===e.nodeType},isComment:function(e){return 8===e.nodeType}};function r(e,t,n,r,o){return{sel:e,data:t,children:n,text:r,elm:o,key:void 0===t?void 0:t.key}}const o=Array.isArray;function i(e){return"string"==typeof e||"number"==typeof e}function a(e){return void 0===e}function s(e){return void 0!==e}const l=r("",{},[],void 0,void 0);function u(e,t){var n,r;const o=e.key===t.key,i=(null===(n=e.data)||void 0===n?void 0:n.is)===(null===(r=t.data)||void 0===r?void 0:r.is);return e.sel===t.sel&&o&&i}function c(e,t,n){var r;const o={};for(let i=t;i<=n;++i){const t=null===(r=e[i])||void 0===r?void 0:r.key;void 0!==t&&(o[t]=i)}return o}const d=["create","update","remove","destroy","pre","post"];function f(e,t){let f,p;const h={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},g=void 0!==t?t:n;for(f=0;f<d.length;++f)for(h[d[f]]=[],p=0;p<e.length;++p){const t=e[p][d[f]];void 0!==t&&h[d[f]].push(t)}function v(e){const t=e.id?"#"+e.id:"",n=e.getAttribute("class"),o=n?"."+n.split(" ").join("."):"";return r(g.tagName(e).toLowerCase()+t+o,{},[],void 0,e)}function m(e,t){return function(){if(0==--t){const t=g.parentNode(e);g.removeChild(t,e)}}}function y(e,t){var n,r;let u,c=e.data;if(void 0!==c){const t=null===(n=c.hook)||void 0===n?void 0:n.init;s(t)&&(t(e),c=e.data)}const d=e.children,f=e.sel;if("!"===f)a(e.text)&&(e.text=""),e.elm=g.createComment(e.text);else if(void 0!==f){const n=f.indexOf("#"),a=f.indexOf(".",n),p=n>0?n:f.length,v=a>0?a:f.length,m=-1!==n||-1!==a?f.slice(0,Math.min(p,v)):f,b=e.elm=s(c)&&s(u=c.ns)?g.createElementNS(u,m,c):g.createElement(m,c);for(p<v&&b.setAttribute("id",f.slice(p+1,v)),a>0&&b.setAttribute("class",f.slice(v+1).replace(/\./g," ")),u=0;u<h.create.length;++u)h.create[u](l,e);if(o(d))for(u=0;u<d.length;++u){const e=d[u];null!=e&&g.appendChild(b,y(e,t))}else i(e.text)&&g.appendChild(b,g.createTextNode(e.text));const w=e.data.hook;s(w)&&(null===(r=w.create)||void 0===r||r.call(w,l,e),w.insert&&t.push(e))}else e.elm=g.createTextNode(e.text);return e.elm}function b(e,t,n,r,o,i){for(;r<=o;++r){const o=n[r];null!=o&&g.insertBefore(e,y(o,i),t)}}function w(e){var t,n;const r=e.data;if(void 0!==r){null===(n=null===(t=null==r?void 0:r.hook)||void 0===t?void 0:t.destroy)||void 0===n||n.call(t,e);for(let t=0;t<h.destroy.length;++t)h.destroy[t](e);if(void 0!==e.children)for(let t=0;t<e.children.length;++t){const n=e.children[t];null!=n&&"string"!=typeof n&&w(n)}}}function x(e,t,n,r){for(var o,i;n<=r;++n){let r,a;const l=t[n];if(null!=l)if(s(l.sel)){w(l),r=h.remove.length+1,a=m(l.elm,r);for(let e=0;e<h.remove.length;++e)h.remove[e](l,a);const e=null===(i=null===(o=null==l?void 0:l.data)||void 0===o?void 0:o.hook)||void 0===i?void 0:i.remove;s(e)?e(l,a):a()}else g.removeChild(e,l.elm)}}function E(e,t,n){var r,o,i,l,d;const f=null===(r=t.data)||void 0===r?void 0:r.hook;null===(o=null==f?void 0:f.prepatch)||void 0===o||o.call(f,e,t);const p=t.elm=e.elm,v=e.children,m=t.children;if(e!==t){if(void 0!==t.data){for(let n=0;n<h.update.length;++n)h.update[n](e,t);null===(l=null===(i=t.data.hook)||void 0===i?void 0:i.update)||void 0===l||l.call(i,e,t)}a(t.text)?s(v)&&s(m)?v!==m&&function(e,t,n,r){let o,i,s,l,d=0,f=0,p=t.length-1,h=t[0],v=t[p],m=n.length-1,w=n[0],S=n[m];for(;d<=p&&f<=m;)null==h?h=t[++d]:null==v?v=t[--p]:null==w?w=n[++f]:null==S?S=n[--m]:u(h,w)?(E(h,w,r),h=t[++d],w=n[++f]):u(v,S)?(E(v,S,r),v=t[--p],S=n[--m]):u(h,S)?(E(h,S,r),g.insertBefore(e,h.elm,g.nextSibling(v.elm)),h=t[++d],S=n[--m]):u(v,w)?(E(v,w,r),g.insertBefore(e,v.elm,h.elm),v=t[--p],w=n[++f]):(void 0===o&&(o=c(t,d,p)),i=o[w.key],a(i)?g.insertBefore(e,y(w,r),h.elm):(s=t[i],s.sel!==w.sel?g.insertBefore(e,y(w,r),h.elm):(E(s,w,r),t[i]=void 0,g.insertBefore(e,s.elm,h.elm))),w=n[++f]);(d<=p||f<=m)&&(d>p?(l=null==n[m+1]?null:n[m+1].elm,b(e,l,n,f,m,r)):x(e,t,d,p))}(p,v,m,n):s(m)?(s(e.text)&&g.setTextContent(p,""),b(p,null,m,0,m.length-1,n)):s(v)?x(p,v,0,v.length-1):s(e.text)&&g.setTextContent(p,""):e.text!==t.text&&(s(v)&&x(p,v,0,v.length-1),g.setTextContent(p,t.text)),null===(d=null==f?void 0:f.postpatch)||void 0===d||d.call(f,e,t)}}return function(e,t){let n,r,o;const i=[];for(n=0;n<h.pre.length;++n)h.pre[n]();for(function(e){return void 0!==e.sel}(e)||(e=v(e)),u(e,t)?E(e,t,i):(r=e.elm,o=g.parentNode(r),y(t,i),null!==o&&(g.insertBefore(o,t.elm,g.nextSibling(r)),x(o,[e],0,0))),n=0;n<i.length;++n)i[n].data.hook.insert(i[n]);for(n=0;n<h.post.length;++n)h.post[n]();return t}}function p(e,t,n){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==t)for(let e=0;e<t.length;++e){const n=t[e].data;void 0!==n&&p(n,t[e].children,t[e].sel)}}function h(e,t,n){let a,s,l,u={};if(void 0!==n?(null!==t&&(u=t),o(n)?a=n:i(n)?s=n:n&&n.sel&&(a=[n])):null!=t&&(o(t)?a=t:i(t)?s=t:t&&t.sel?a=[t]:u=t),void 0!==a)for(l=0;l<a.length;++l)i(a[l])&&(a[l]=r(void 0,void 0,void 0,a[l],void 0));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||p(u,a,e),r(e,u,a,s,void 0)}function g(e,t){let n,r;const o=t.elm;let i=e.data.class,a=t.data.class;if((i||a)&&i!==a){for(r in i=i||{},a=a||{},i)i[r]&&!Object.prototype.hasOwnProperty.call(a,r)&&o.classList.remove(r);for(r in a)n=a[r],n!==i[r]&&o.classList[n?"add":"remove"](r)}}const v={create:g,update:g},m=/[A-Z]/g;function y(e,t){const n=t.elm;let r,o=e.data.dataset,i=t.data.dataset;if(!o&&!i)return;if(o===i)return;o=o||{},i=i||{};const a=n.dataset;for(r in o)i[r]||(a?r in a&&delete a[r]:n.removeAttribute("data-"+r.replace(m,"-$&").toLowerCase()));for(r in i)o[r]!==i[r]&&(a?a[r]=i[r]:n.setAttribute("data-"+r.replace(m,"-$&").toLowerCase(),i[r]))}const b={create:y,update:y};function w(e,t,n){if("function"==typeof e)e.call(t,n,t);else if("object"==typeof e)for(let r=0;r<e.length;r++)w(e[r],t,n)}function x(e,t){const n=e.type,r=t.data.on;r&&r[n]&&w(r[n],t,e)}function E(e,t){const n=e.data.on,r=e.listener,o=e.elm,i=t&&t.data.on,a=t&&t.elm;let s;if(n!==i){if(n&&r)if(i)for(s in n)i[s]||o.removeEventListener(s,r,!1);else for(s in n)o.removeEventListener(s,r,!1);if(i){const r=t.listener=e.listener||function e(t){x(t,e.vnode)};if(r.vnode=t,n)for(s in i)n[s]||a.addEventListener(s,r,!1);else for(s in i)a.addEventListener(s,r,!1)}}}const S={create:E,update:E,destroy:E};function k(e,t){let n,r,o;const i=t.elm;let a=e.data.props,s=t.data.props;if((a||s)&&a!==s)for(n in a=a||{},s=s||{},s)r=s[n],o=a[n],o===r||"value"===n&&i[n]===r||(i[n]=r)}const O={create:k,update:k},_="undefined"!=typeof window&&window.requestAnimationFrame.bind(window)||setTimeout;let A=!1;function T(e,t,n){!function(e){_((function(){_(e)}))}((function(){e[t]=n}))}function C(e,t){let n,r;const o=t.elm;let i=e.data.style,a=t.data.style;if(!i&&!a)return;if(i===a)return;i=i||{},a=a||{};const s="delayed"in i;for(r in i)a[r]||("-"===r[0]&&"-"===r[1]?o.style.removeProperty(r):o.style[r]="");for(r in a)if(n=a[r],"delayed"===r&&a.delayed)for(const e in a.delayed)n=a.delayed[e],s&&n===i.delayed[e]||T(o.style,e,n);else"remove"!==r&&n!==i[r]&&("-"===r[0]&&"-"===r[1]?o.style.setProperty(r,n):o.style[r]=n)}const N={pre:function(){A=!1},create:C,update:C,destroy:function(e){let t,n;const r=e.elm,o=e.data.style;if(o&&(t=o.destroy))for(n in t)r.style[n]=t[n]},remove:function(e,t){const n=e.data.style;if(!n||!n.remove)return void t();let r;A||(e.elm.offsetLeft,A=!0);const o=e.elm;let i=0;const a=n.remove;let s=0;const l=[];for(r in a)l.push(r),o.style[r]=a[r];const u=getComputedStyle(o)["transition-property"].split(", ");for(;i<u.length;++i)-1!==l.indexOf(u[i])&&s++;o.addEventListener("transitionend",(function(e){e.target===o&&--s,0===s&&t()}))}};function P(e,t){for(const n of e)null!=n&&!1!==n&&""!==n&&(Array.isArray(n)?P(n,t):"string"==typeof n||"number"==typeof n||"boolean"==typeof n?t.push(r(void 0,void 0,void 0,String(n),void 0)):t.push(n));return t}function F(e,t,...n){const r=P(n,[]);return"function"==typeof e?e(t,r):1===r.length&&!r[0].sel&&r[0].text?h(e,t,r[0].text):h(e,t,r)}
/*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */
function j(e){return!0===
/*!
   * isobject <https://github.com/jonschlinkert/isobject>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */
function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}(e)&&"[object Object]"===Object.prototype.toString.call(e)}function D(e){var t,n;return!1!==j(e)&&("function"==typeof(t=e.constructor)&&(!1!==j(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}F||(F={});var I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function M(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function R(e){var t={exports:{}};return e(t,t.exports),t.exports
/*! https://mths.be/esrever v0.2.0 by @mathias */}var L=R((function(e,t){!function(n){var r=t,o=e&&e.exports==r&&e,i="object"==typeof I&&I;i.global!==i&&i.window!==i||(n=i);var a=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,s=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,l=function(e){for(var t="",n=(e=e.replace(a,(function(e,t,n){return l(n)+t})).replace(s,"$2$1")).length;n--;)t+=e.charAt(n);return t},u={version:"0.2.0",reverse:l};if(r&&!r.nodeType)if(o)o.exports=u;else for(var c in u)u.hasOwnProperty(c)&&(r[c]=u[c]);else n.esrever=u}(I)}));function B(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function z(e){return!!e&&!!e[Oe]}function H(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&Function.toString.call(n)===_e}(e)||Array.isArray(e)||!!e[ke]||!!e.constructor[ke]||W(e)||G(e))}function U(e,t,n){void 0===n&&(n=!1),0===$(e)?(n?Object.keys:Ae)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function $(e){var t=e[Oe];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:W(e)?2:G(e)?3:0}function V(e,t){return 2===$(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function q(e,t,n){var r=$(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function W(e){return we&&e instanceof Map}function G(e){return xe&&e instanceof Set}function K(e){return e.o||e.t}function X(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Te(e);delete t[Oe];for(var n=Ae(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Z(e,t){return void 0===t&&(t=!1),J(e)||z(e)||!H(e)||($(e)>1&&(e.set=e.add=e.clear=e.delete=Y),Object.freeze(e),t&&U(e,(function(e,t){return Z(t,!0)}),!0)),e}function Y(){B(2)}function J(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Q(e){var t=Ce[e];return t||B(18,e),t}function ee(){return ye}function te(e,t){t&&(Q("Patches"),e.u=[],e.s=[],e.v=t)}function ne(e){re(e),e.p.forEach(ie),e.p=null}function re(e){e===ye&&(ye=e.l)}function oe(e){return ye={p:[],l:ye,h:e,m:!0,_:0}}function ie(e){var t=e[Oe];0===t.i||1===t.i?t.j():t.g=!0}function ae(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Q("ES5").S(t,e,r),r?(n[Oe].P&&(ne(t),B(4)),H(e)&&(e=se(t,e),t.l||ue(t,e)),t.u&&Q("Patches").M(n[Oe],e,t.u,t.s)):e=se(t,n,[]),ne(t),t.u&&t.v(t.u,t.s),e!==Se?e:void 0}function se(e,t,n){if(J(t))return t;var r=t[Oe];if(!r)return U(t,(function(o,i){return le(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ue(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=X(r.k):r.o;U(3===r.i?new Set(o):o,(function(t,i){return le(e,r,o,t,i,n)})),ue(e,o,!1),n&&e.u&&Q("Patches").R(r,n,e.u,e.s)}return r.o}function le(e,t,n,r,o,i){if(z(o)){var a=se(e,o,i&&t&&3!==t.i&&!V(t.D,r)?i.concat(r):void 0);if(q(n,r,a),!z(a))return;e.m=!1}if(H(o)&&!J(o)){if(!e.h.F&&e._<1)return;se(e,o),t&&t.A.l||ue(e,o)}}function ue(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Z(t,n)}function ce(e,t){var n=e[Oe];return(n?K(n):e)[t]}function de(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function fe(e){e.P||(e.P=!0,e.l&&fe(e.l))}function pe(e){e.o||(e.o=X(e.t))}function he(e,t,n){var r=W(t)?Q("MapSet").N(t,n):G(t)?Q("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:ee(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=Ne;n&&(o=[r],i=Pe);var a=Proxy.revocable(o,i),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):Q("ES5").J(t,n);return(n?n.A:ee()).p.push(r),r}function ge(e){return z(e)||B(22,e),function e(t){if(!H(t))return t;var n,r=t[Oe],o=$(t);if(r){if(!r.P&&(r.i<4||!Q("ES5").K(r)))return r.t;r.I=!0,n=ve(t,o),r.I=!1}else n=ve(t,o);return U(n,(function(t,o){r&&function(e,t){return 2===$(e)?e.get(t):e[t]}(r.t,t)===o||q(n,t,e(o))})),3===o?new Set(n):n}(e)}function ve(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return X(e)}var me,ye,be="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),we="undefined"!=typeof Map,xe="undefined"!=typeof Set,Ee="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Se=be?Symbol.for("immer-nothing"):((me={})["immer-nothing"]=!0,me),ke=be?Symbol.for("immer-draftable"):"__$immer_draftable",Oe=be?Symbol.for("immer-state"):"__$immer_state",_e=""+Object.prototype.constructor,Ae="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Te=Object.getOwnPropertyDescriptors||function(e){var t={};return Ae(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Ce={},Ne={get:function(e,t){if(t===Oe)return e;var n=K(e);if(!V(n,t))return function(e,t,n){var r,o=de(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!H(r)?r:r===ce(e.t,t)?(pe(e),e.o[t]=he(e.A.h,r,e)):r},has:function(e,t){return t in K(e)},ownKeys:function(e){return Reflect.ownKeys(K(e))},set:function(e,t,n){var r=de(K(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=ce(K(e),t),i=null==o?void 0:o[Oe];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,o)&&(void 0!==n||V(e.t,t)))return!0;pe(e),fe(e)}return e.o[t]===n&&"number"!=typeof n||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==ce(e.t,t)||t in e.t?(e.D[t]=!1,pe(e),fe(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=K(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){B(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){B(12)}},Pe={};U(Ne,(function(e,t){Pe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Pe.deleteProperty=function(e,t){return Ne.deleteProperty.call(this,e[0],t)},Pe.set=function(e,t,n){return Ne.set.call(this,e[0],t,n,e[0])};var Fe=new(function(){function e(e){var t=this;this.O=Ee,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&B(6),void 0!==r&&"function"!=typeof r&&B(7),H(e)){var s=oe(t),l=he(t,e,void 0),u=!0;try{a=n(l),u=!1}finally{u?ne(s):re(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return te(s,r),ae(e,s)}),(function(e){throw ne(s),e})):(te(s,r),ae(a,s))}if(!e||"object"!=typeof e){if((a=n(e))===Se)return;return void 0===a&&(a=e),t.F&&Z(a,!0),a}B(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,n,(function(e,t){r=e,o=t})),r,o];var r,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){H(e)||B(8),z(e)&&(e=ge(e));var t=oe(this),n=he(this,e,void 0);return n[Oe].C=!0,re(t),n},t.finishDraft=function(e,t){var n=(e&&e[Oe]).A;return te(n,t),ae(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Ee&&B(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=Q("Patches").$;return z(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}()),je=Fe.produce;Fe.produceWithPatches.bind(Fe),Fe.setAutoFreeze.bind(Fe),Fe.setUseProxies.bind(Fe),Fe.applyPatches.bind(Fe);var De=Fe.createDraft.bind(Fe),Ie=Fe.finishDraft.bind(Fe),Me=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n};function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le=new WeakMap,Be=new WeakMap,ze=new WeakMap,He=new WeakMap,Ue=new WeakMap,$e=new WeakMap;function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return gt.levels(t);case"insert_node":var{node:n,path:r}=e;return[...gt.levels(r),..._t.isText(n)?[]:Array.from(dt.nodes(n),(e=>{var[,t]=e;return r.concat(t)}))];case"merge_node":var{path:o}=e;return[...gt.ancestors(o),gt.previous(o)];case"move_node":var{path:i,newPath:a}=e;if(gt.equals(i,a))return[];var s=[],l=[];for(var u of gt.ancestors(i)){var c=gt.transform(u,e);s.push(c)}for(var d of gt.ancestors(a)){var f=gt.transform(d,e);l.push(f)}var p=l[l.length-1],h=a[a.length-1],g=p.concat(h);return[...s,...l,g];case"remove_node":var{path:v}=e;return[...gt.ancestors(v)];case"split_node":var{path:m}=e;return[...gt.levels(m),gt.next(m)];default:return[]}};function Ge(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ke=/\s/,Xe=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ze=/['\u2018\u2019]/,Ye=e=>{for(var t=0,n=null,r=e.charCodeAt(0);r;)if(Qe(r)){var o=et(r,e,t);if("SURR"===n||"BMP"===n)break;t+=2,n=o?"MOD":"SURR",r=e.charCodeAt(t)}else if(8205!==r)if(nt(r)){if(n&&"ZWJ"!==n&&"VAR"!==n)break;t+=1,n="BMP",r=e.charCodeAt(t)}else{if(!tt(r)){if("MOD"===n){t+=1;break}break}if(n&&"ZWJ"!==n)break;t+=1,n="VAR",r=e.charCodeAt(t)}else t+=1,n="ZWJ",r=e.charCodeAt(t);return t||1},Je=(e,t)=>{if(Ke.test(e))return!1;if(Ze.test(e)){var n=t.charAt(0),r=Ye(n);n=t.slice(0,r);var o=t.slice(r);if(Je(n,o))return!0}return!Xe.test(e)},Qe=e=>55296<=e&&e<=57343,et=(e,t,n)=>{if(55356===e){var r=t.charCodeAt(n+1);return r<=57343&&r>=57339}return!1},tt=e=>e<=65039&&e>=65024,nt=e=>10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e,rt={isAncestor:e=>D(e)&&dt.isNodeList(e.children),isElement:e=>D(e)&&dt.isNodeList(e.children)&&!st.isEditor(e),isElementList:e=>Array.isArray(e)&&e.every((e=>rt.isElement(e))),isElementProps:e=>void 0!==e.children,matches(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at=new WeakMap,st={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:n=!1,mode:r="lowest",at:o=e.selection,match:i}=t;if(o){var a=st.path(e,o),s="lowest"===r;for(var[l,u]of st.levels(e,{at:a,voids:n,match:i,reverse:s}))if(!_t.isText(l)&&!gt.equals(a,u))return[l,u]}},addMark(e,t,n){e.addMark(t,n)},after(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:st.point(e,t,{edge:"end"}),focus:st.end(e,[])},{distance:i=1}=r,a=0;for(var s of st.positions(e,it(it({},r),{},{at:o}))){if(a>i)break;0!==a&&(n=s),a++}return n},before(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:st.start(e,[]),focus:st.point(e,t,{edge:"start"})},{distance:i=1}=r,a=0;for(var s of st.positions(e,it(it({},r),{},{at:o,reverse:!0}))){if(a>i)break;0!==a&&(n=s),a++}return n},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{direction:n="forward"}=t;e.deleteFragment(n)},edges:(e,t)=>[st.start(e,t),st.end(e,t)],end:(e,t)=>st.point(e,t,{edge:"end"}),first(e,t){var n=st.path(e,t,{edge:"start"});return st.node(e,n)},fragment(e,t){var n=st.range(e,t);return dt.fragment(e,n)},hasBlocks:(e,t)=>t.children.some((t=>st.isBlock(e,t))),hasInlines:(e,t)=>t.children.some((t=>_t.isText(t)||st.isInline(e,t))),hasTexts:(e,t)=>t.children.every((e=>_t.isText(e))),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>rt.isElement(t)&&!e.isInline(t),isEditor(e){if(!D(e))return!1;var t=at.get(e);if(void 0!==t)return t;var n="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||D(e.marks))&&(null===e.selection||Et.isRange(e.selection))&&dt.isNodeList(e.children)&&ht.isOperationList(e.operations);return at.set(e,n),n},isEnd(e,t,n){var r=st.end(e,n);return bt.equals(t,r)},isEdge:(e,t,n)=>st.isStart(e,t,n)||st.isEnd(e,t,n),isEmpty(e,t){var{children:n}=t,[r]=n;return 0===n.length||1===n.length&&_t.isText(r)&&""===r.text&&!e.isVoid(t)},isInline:(e,t)=>rt.isElement(t)&&e.isInline(t),isNormalizing(e){var t=ze.get(e);return void 0===t||t},isStart(e,t,n){if(0!==t.offset)return!1;var r=st.start(e,n);return bt.equals(t,r)},isVoid:(e,t)=>rt.isElement(t)&&e.isVoid(t),last(e,t){var n=st.path(e,t,{edge:"end"});return st.node(e,n)},leaf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=st.path(e,t,n);return[dt.leaf(e,r),r]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(null==i&&(i=()=>!0),n){var a=[],s=st.path(e,n);for(var[l,u]of dt.levels(e,s))if(i(l,u)&&(a.push([l,u]),!o&&st.isVoid(e,l)))break;r&&a.reverse(),yield*a}},marks(e){var{marks:t,selection:n}=e;if(!n)return null;if(t)return t;if(Et.isExpanded(n)){var[r]=st.nodes(e,{match:_t.isText});if(r){var[o]=r;return Ge(o,["text"])}return{}}var{anchor:i}=n,{path:a}=i,[s]=st.leaf(e,a);if(0===i.offset){var l=st.previous(e,{at:a,match:_t.isText}),u=st.above(e,{match:t=>st.isBlock(e,t)});if(l&&u){var[c,d]=l,[,f]=u;gt.isAncestor(f,d)&&(s=c)}}return Ge(s,["text"])},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:o,at:i=e.selection}=t;if(i){var a=st.after(e,i,{voids:r});if(a){var[,s]=st.last(e,[]),l=[a.path,s];if(gt.isPath(i)&&0===i.length)throw new Error("Cannot get the next node from the root node!");if(null==o)if(gt.isPath(i)){var[u]=st.parent(e,i);o=e=>u.children.includes(e)}else o=()=>!0;var[c]=st.nodes(e,{at:l,match:o,mode:n,voids:r});return c}}},node(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=st.path(e,t,n);return[dt.get(e,r),r]},*nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:a=!1}=t,{match:s}=t;if(s||(s=()=>!0),n){var l,u;if(ut.isSpan(n))l=n[0],u=n[1];else{var c=st.path(e,n,{edge:"start"}),d=st.path(e,n,{edge:"end"});l=i?d:c,u=i?c:d}var f,p=dt.nodes(e,{reverse:i,from:l,to:u,pass:t=>{var[n]=t;return!a&&st.isVoid(e,n)}}),h=[];for(var[g,v]of p){var m=f&&0===gt.compare(v,f[1]);if("highest"!==r||!m)if(s(g,v))if("lowest"===r&&m)f=[g,v];else{var y="lowest"===r?f:[g,v];y&&(o?h.push(y):yield y),f=[g,v]}else if(o&&!m&&_t.isText(g))return}"lowest"===r&&f&&(o?h.push(f):yield f),o&&(yield*h)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:n=!1}=t,r=e=>Le.get(e)||[];if(st.isNormalizing(e)){if(n){var o=Array.from(dt.nodes(e),(e=>{var[,t]=e;return t}));Le.set(e,o)}0!==r(e).length&&st.withoutNormalizing(e,(()=>{for(var t of r(e))if(dt.has(e,t)){var[n,o]=st.node(e,t);if(rt.isElement(n)&&0===n.children.length){Ht.insertNodes(e,{text:""},{at:t.concat(0),voids:!0})}}for(var i=42*r(e).length,a=0;0!==r(e).length;){if(a>i)throw new Error("\n            Could not completely normalize the editor after ".concat(i," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var s=r(e).pop();if(dt.has(e,s)){var l=st.node(e,s);e.normalizeNode(l)}a++}}))}},parent(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=st.path(e,t,n),o=gt.parent(r);return st.node(e,o)},path(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:r,edge:o}=n;if(gt.isPath(t))if("start"===o){var[,i]=dt.first(e,t);t=i}else if("end"===o){var[,a]=dt.last(e,t);t=a}return Et.isRange(t)&&(t="start"===o?Et.start(t):"end"===o?Et.end(t):gt.common(t.anchor.path,t.focus.path)),bt.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},hasPath:(e,t)=>dt.has(e,t),pathRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,o={current:t,affinity:r,unref(){var{current:t}=o;return st.pathRefs(e).delete(o),o.current=null,t}};return st.pathRefs(e).add(o),o},pathRefs(e){var t=He.get(e);return t||(t=new Set,He.set(e,t)),t},point(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:r="start"}=n;if(gt.isPath(t)){var o;if("end"===r){var[,i]=dt.last(e,t);o=i}else{var[,a]=dt.first(e,t);o=a}var s=dt.get(e,o);if(!_t.isText(s))throw new Error("Cannot get the ".concat(r," point in the node at path [").concat(t,"] because it has no ").concat(r," text node."));return{path:o,offset:"end"===r?s.text.length:0}}if(Et.isRange(t)){var[l,u]=Et.edges(t);return"start"===r?l:u}return t},pointRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,o={current:t,affinity:r,unref(){var{current:t}=o;return st.pointRefs(e).delete(o),o.current=null,t}};return st.pointRefs(e).add(o),o},pointRefs(e){var t=Ue.get(e);return t||(t=new Set,Ue.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1}=t;if(n){var a=st.range(e,n),[s,l]=Et.edges(a),u=o?l:s,c=!1,d="",f=0,p=0,h=0;for(var[g,v]of st.nodes(e,{at:n,reverse:o,voids:i})){if(rt.isElement(g)){if(!i&&e.isVoid(g)){yield st.start(e,v);continue}if(e.isInline(g))continue;if(st.hasInlines(e,g)){var m=gt.isAncestor(v,l.path)?l:st.end(e,v),y=gt.isAncestor(v,s.path)?s:st.start(e,v);d=st.string(e,{anchor:y,focus:m},{voids:i}),d=o?L.reverse(d):d,c=!0}}if(_t.isText(g)){var b=gt.equals(v,u.path);for(b?(p=o?u.offset:g.text.length-u.offset,h=u.offset):(p=g.text.length,h=o?p:0),(b||c||"offset"===r)&&(yield{path:v,offset:h},c=!1);;){if(0===f){if(""===d)break;f=w(d,r),d=d.slice(f)}if(h=o?h-f:h+f,(p-=f)<0){f=-p;break}f=0,yield{path:v,offset:h}}}}}function w(e,t){return"character"===t?Ye(e):"word"===t?(e=>{for(var t,n=0,r=0,o=!1;t=e.charAt(r);){var i=Ye(t);t=e.slice(r,r+i);var a=e.slice(r+i);if(Je(t,a))o=!0,n+=i;else{if(o)break;n+=i}r+=i}return n})(e):"line"===t||"block"===t?e.length:1}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:o,at:i=e.selection}=t;if(i){var a=st.before(e,i,{voids:r});if(a){var[,s]=st.first(e,[]),l=[a.path,s];if(gt.isPath(i)&&0===i.length)throw new Error("Cannot get the previous node from the root node!");if(null==o)if(gt.isPath(i)){var[u]=st.parent(e,i);o=e=>u.children.includes(e)}else o=()=>!0;var[c]=st.nodes(e,{reverse:!0,at:l,match:o,mode:n,voids:r});return c}}},range:(e,t,n)=>Et.isRange(t)&&!n?t:{anchor:st.start(e,t),focus:st.end(e,n||t)},rangeRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,o={current:t,affinity:r,unref(){var{current:t}=o;return st.rangeRefs(e).delete(o),o.current=null,t}};return st.rangeRefs(e).add(o),o},rangeRefs(e){var t=$e.get(e);return t||(t=new Set,$e.set(e,t)),t},removeMark(e,t){e.removeMark(t)},start:(e,t)=>st.point(e,t,{edge:"start"}),string(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,o=st.range(e,t),[i,a]=Et.edges(o),s="";for(var[l,u]of st.nodes(e,{at:o,match:_t.isText,voids:r})){var c=l.text;gt.equals(u,a.path)&&(c=c.slice(0,a.offset)),gt.equals(u,i.path)&&(c=c.slice(i.offset)),s+=c}return s},unhangRange(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,[o,i]=Et.edges(t);if(0!==o.offset||0!==i.offset||Et.isCollapsed(t))return t;var a=st.above(e,{at:i,match:t=>st.isBlock(e,t)}),s=a?a[1]:[],l={anchor:st.start(e,[]),focus:i},u=!0;for(var[c,d]of st.nodes(e,{at:l,match:_t.isText,reverse:!0,voids:r}))if(u)u=!1;else if(""!==c.text||gt.isBefore(d,s)){i={path:d,offset:c.text.length};break}return{anchor:o,focus:i}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return st.above(e,it(it({},t),{},{match:t=>st.isVoid(e,t)}))},withoutNormalizing(e,t){var n=st.isNormalizing(e);ze.set(e,!1);try{t()}finally{ze.set(e,n)}st.normalize(e)}},lt={isLocation:e=>gt.isPath(e)||bt.isPoint(e)||Et.isRange(e)},ut={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(gt.isPath)},ct=new WeakMap,dt={ancestor(e,t){var n=dt.get(e,t);if(_t.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(n));return n},*ancestors(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of gt.ancestors(t,n)){var o=[dt.ancestor(e,r),r];yield o}},child(e,t){if(_t.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var n=e.children[t];if(null==n)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:r=!1}=n,o=dt.ancestor(e,t),{children:i}=o,a=r?i.length-1:0;r?a>=0:a<i.length;){var s=dt.child(o,a),l=t.concat(a);yield[s,l],a=r?a-1:a+1}},common(e,t,n){var r=gt.common(t,n);return[dt.get(e,r),r]},descendant(e,t){var n=dt.get(e,t);if(st.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(n));return n},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of dt.nodes(e,t))0!==r.length&&(yield[n,r])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of dt.nodes(e,t))rt.isElement(n)&&(yield[n,r])},extractProps:e=>rt.isAncestor(e)?Ge(e,["children"]):Ge(e,["text"]),first(e,t){for(var n=t.slice(),r=dt.get(e,n);r&&!_t.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(_t.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return je({children:e.children},(e=>{var[n,r]=Et.edges(t),o=dt.nodes(e,{reverse:!0,pass:e=>{var[,n]=e;return!Et.includes(t,n)}});for(var[,i]of o){if(!Et.includes(t,i)){var a=dt.parent(e,i),s=i[i.length-1];a.children.splice(s,1)}if(gt.equals(i,r.path)){var l=dt.leaf(e,i);l.text=l.text.slice(0,r.offset)}if(gt.equals(i,n.path)){var u=dt.leaf(e,i);u.text=u.text.slice(n.offset)}}st.isEditor(e)&&(e.selection=null)})).children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(_t.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(_t.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode:e=>_t.isText(e)||rt.isElement(e)||st.isEditor(e),isNodeList(e){if(!Array.isArray(e))return!1;var t=ct.get(e);if(void 0!==t)return t;var n=e.every((e=>dt.isNode(e)));return ct.set(e,n),n},last(e,t){for(var n=t.slice(),r=dt.get(e,n);r&&!_t.isText(r)&&0!==r.children.length;){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=dt.get(e,t);if(!_t.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(n));return n},*levels(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of gt.levels(t,n)){var o=dt.get(e,r);yield[o,r]}},matches:(e,t)=>rt.isElement(e)&&rt.isElementProps(t)&&rt.matches(e,t)||_t.isText(e)&&_t.isTextProps(t)&&_t.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,a=new Set,s=[],l=e;!i||!(r?gt.isBefore(s,i):gt.isAfter(s,i));)if(a.has(l)||(yield[l,s]),a.has(l)||_t.isText(l)||0===l.children.length||null!=n&&!1!==n([l,s])){if(0===s.length)break;if(!r){var u=gt.next(s);if(dt.has(e,u)){s=u,l=dt.get(e,s);continue}}if(r&&0!==s[s.length-1])s=gt.previous(s),l=dt.get(e,s);else s=gt.parent(s),l=dt.get(e,s),a.add(l)}else{a.add(l);var c=r?l.children.length-1:0;gt.isAncestor(s,o)&&(c=o[s.length]),s=s.concat(c),l=dt.get(e,s)}},parent(e,t){var n=gt.parent(t),r=dt.get(e,n);if(_t.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string:e=>_t.isText(e)?e.text:e.children.map(dt.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of dt.nodes(e,t))_t.isText(n)&&(yield[n,r])}};function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht={isNodeOperation:e=>ht.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!D(e))return!1;switch(e.type){case"insert_node":return gt.isPath(e.path)&&dt.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&gt.isPath(e.path);case"merge_node":return"number"==typeof e.position&&gt.isPath(e.path)&&D(e.properties);case"move_node":return gt.isPath(e.path)&&gt.isPath(e.newPath);case"remove_node":return gt.isPath(e.path)&&dt.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&gt.isPath(e.path);case"set_node":return gt.isPath(e.path)&&D(e.properties)&&D(e.newProperties);case"set_selection":return null===e.properties&&Et.isRange(e.newProperties)||null===e.newProperties&&Et.isRange(e.properties)||D(e.properties)&&D(e.newProperties);case"split_node":return gt.isPath(e.path)&&"number"==typeof e.position&&D(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every((e=>ht.isOperation(e))),isSelectionOperation:e=>ht.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>ht.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return pt(pt({},e),{},{type:"remove_node"});case"insert_text":return pt(pt({},e),{},{type:"remove_text"});case"merge_node":return pt(pt({},e),{},{type:"split_node",path:gt.previous(e.path)});case"move_node":var{newPath:t,path:n}=e;if(gt.equals(t,n))return e;if(gt.isSibling(n,t))return pt(pt({},e),{},{path:t,newPath:n});var r=gt.transform(n,e),o=gt.transform(gt.next(n),e);return pt(pt({},e),{},{path:r,newPath:o});case"remove_node":return pt(pt({},e),{},{type:"insert_node"});case"remove_text":return pt(pt({},e),{},{type:"insert_text"});case"set_node":var{properties:i,newProperties:a}=e;return pt(pt({},e),{},{properties:a,newProperties:i});case"set_selection":var{properties:s,newProperties:l}=e;return pt(pt({},e),{},null==s?{properties:l,newProperties:null}:null==l?{properties:null,newProperties:s}:{properties:l,newProperties:s});case"split_node":return pt(pt({},e),{},{type:"merge_node",path:gt.next(e.path)})}}},gt={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=gt.levels(e,t);return r=n?r.slice(1):r.slice(0,-1)},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r];if(o!==t[r])break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],a=t[n];return gt.equals(r,o)&&i>a},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return gt.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],a=t[n];return gt.equals(r,o)&&i<a},equals:(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===gt.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===gt.compare(e,t),isBefore:(e,t)=>-1===gt.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===gt.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===gt.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===gt.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===gt.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&gt.equals(n,r)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!gt.isAncestor(t,e)&&!gt.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return je(e,(r=>{var{affinity:o="forward"}=n;if(0!==e.length)switch(t.type){case"insert_node":var{path:i}=t;(gt.equals(i,r)||gt.endsBefore(i,r)||gt.isAncestor(i,r))&&(r[i.length-1]+=1);break;case"remove_node":var{path:a}=t;if(gt.equals(a,r)||gt.isAncestor(a,r))return null;gt.endsBefore(a,r)&&(r[a.length-1]-=1);break;case"merge_node":var{path:s,position:l}=t;gt.equals(s,r)||gt.endsBefore(s,r)?r[s.length-1]-=1:gt.isAncestor(s,r)&&(r[s.length-1]-=1,r[s.length]+=l);break;case"split_node":var{path:u,position:c}=t;if(gt.equals(u,r)){if("forward"===o)r[r.length-1]+=1;else if("backward"!==o)return null}else gt.endsBefore(u,r)?r[u.length-1]+=1:gt.isAncestor(u,r)&&e[u.length]>=c&&(r[u.length-1]+=1,r[u.length]-=c);break;case"move_node":var{path:d,newPath:f}=t;if(gt.equals(d,f))return;if(gt.isAncestor(d,r)||gt.equals(d,r)){var p=f.slice();return gt.endsBefore(d,f)&&d.length<f.length&&(p[d.length-1]-=1),p.concat(r.slice(d.length))}gt.isSibling(d,f)&&(gt.isAncestor(f,r)||gt.equals(f,r))?gt.endsBefore(d,r)?r[d.length-1]-=1:r[d.length-1]+=1:gt.endsBefore(f,r)||gt.equals(f,r)||gt.isAncestor(f,r)?(gt.endsBefore(d,r)&&(r[d.length-1]-=1),r[f.length-1]+=1):gt.endsBefore(d,r)&&(gt.equals(f,r)&&(r[f.length-1]+=1),r[d.length-1]-=1)}}))}},vt={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var o=gt.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt={compare(e,t){var n=gt.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter:(e,t)=>1===bt.compare(e,t),isBefore:(e,t)=>-1===bt.compare(e,t),equals:(e,t)=>e.offset===t.offset&&gt.equals(e.path,t.path),isPoint:e=>D(e)&&"number"==typeof e.offset&&gt.isPath(e.path),transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return je(e,(e=>{var{affinity:r="forward"}=n,{path:o,offset:i}=e;switch(t.type){case"insert_node":case"move_node":e.path=gt.transform(o,t,n);break;case"insert_text":gt.equals(t.path,o)&&t.offset<=i&&(e.offset+=t.text.length);break;case"merge_node":gt.equals(t.path,o)&&(e.offset+=t.position),e.path=gt.transform(o,t,n);break;case"remove_text":gt.equals(t.path,o)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if(gt.equals(t.path,o)||gt.isAncestor(t.path,o))return null;e.path=gt.transform(o,t,n);break;case"split_node":if(gt.equals(t.path,o)){if(t.position===i&&null==r)return null;(t.position<i||t.position===i&&"forward"===r)&&(e.offset-=t.position,e.path=gt.transform(o,t,yt(yt({},n),{},{affinity:"forward"})))}else e.path=gt.transform(o,t,n)}}))}},wt={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var o=bt.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}};function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Et={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return Et.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=Et.edges(e);return t},equals:(e,t)=>bt.equals(e.anchor,t.anchor)&&bt.equals(e.focus,t.focus),includes(e,t){if(Et.isRange(t)){if(Et.includes(e,t.anchor)||Et.includes(e,t.focus))return!0;var[n,r]=Et.edges(e),[o,i]=Et.edges(t);return bt.isBefore(n,o)&&bt.isAfter(r,i)}var[a,s]=Et.edges(e),l=!1,u=!1;return bt.isPoint(t)?(l=bt.compare(t,a)>=0,u=bt.compare(t,s)<=0):(l=gt.compare(t,a.path)>=0,u=gt.compare(t,s.path)<=0),l&&u},intersection(e,t){var n=Ge(e,["anchor","focus"]),[r,o]=Et.edges(e),[i,a]=Et.edges(t),s=bt.isBefore(r,i)?i:r,l=bt.isBefore(o,a)?o:a;return bt.isBefore(l,s)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({anchor:s,focus:l},n)},isBackward(e){var{anchor:t,focus:n}=e;return bt.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return bt.equals(t,n)},isExpanded:e=>!Et.isCollapsed(e),isForward:e=>!Et.isBackward(e),isRange:e=>D(e)&&bt.isPoint(e.anchor)&&bt.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=Et.edges(e);return t},transform(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:i="inward"}=o;return"inward"===i?Et.isForward(e)?(n="forward",r="backward"):(n="backward",r="forward"):"outward"===i?Et.isForward(e)?(n="backward",r="forward"):(n="forward",r="backward"):(n=i,r=i),je(e,(e=>{var o=bt.transform(e.anchor,t,{affinity:n}),i=bt.transform(e.focus,t,{affinity:r});if(!o||!i)return null;e.anchor=o,e.focus=i}))}},St={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var o=Et.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}};function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _t={equals(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:r=!1}=n;function o(e){return Ge(e,["text"])}return Me(r?o(e):e,r?o(t):t)},isText:e=>D(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&e.every((e=>_t.isText(e))),isTextProps:e=>void 0!==e.text,matches(e,t){for(var n in t)if("text"!==n&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Ot({},e)];for(var r of t){var o=Ge(r,["anchor","focus"]),[i,a]=Et.edges(r),s=[],l=0;for(var u of n){var{length:c}=u.text,d=l;if(l+=c,i.offset<=d&&a.offset>=l)Object.assign(u,o),s.push(u);else if(i.offset!==a.offset&&(i.offset===l||a.offset===d)||i.offset>l||a.offset<d||a.offset===d&&0!==d)s.push(u);else{var f=u,p=void 0,h=void 0;if(a.offset<l){var g=a.offset-d;h=Ot(Ot({},f),{},{text:f.text.slice(g)}),f=Ot(Ot({},f),{},{text:f.text.slice(0,g)})}if(i.offset>d){var v=i.offset-d;p=Ot(Ot({},f),{},{text:f.text.slice(0,v)}),f=Ot(Ot({},f),{},{text:f.text.slice(v)})}Object.assign(f,o),p&&s.push(p),s.push(f),h&&s.push(h)}}n=s}return n}};function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt={insertNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};st.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:a,match:s,select:l}=n;if(dt.isNode(t)&&(t=[t]),0!==t.length){var[u]=t;if(a||(a=e.selection?e.selection:e.children.length>0?st.end(e,[]):[0],l=!0),null==l&&(l=!1),Et.isRange(a))if(r||(a=st.unhangRange(e,a)),Et.isCollapsed(a))a=a.anchor;else{var[,c]=Et.edges(a),d=st.pointRef(e,c);Ht.delete(e,{at:a}),a=d.unref()}if(bt.isPoint(a)){null==s&&(s=_t.isText(u)?e=>_t.isText(e):e.isInline(u)?t=>_t.isText(t)||st.isInline(e,t):t=>st.isBlock(e,t));var[f]=st.nodes(e,{at:a.path,match:s,mode:i,voids:o});if(!f)return;var[,p]=f,h=st.pathRef(e,p),g=st.isEnd(e,a,p);Ht.splitNodes(e,{at:a,match:s,mode:i,voids:o});var v=h.unref();a=g?gt.next(v):v}var m=gt.parent(a),y=a[a.length-1];if(o||!st.void(e,{at:m})){for(var b of t){var w=m.concat(y);y++,e.apply({type:"insert_node",path:w,node:b})}if(l){var x=st.end(e,a);x&&Ht.select(e,x)}}}}))},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};st.withoutNormalizing(e,(()=>{var{at:n=e.selection,mode:r="lowest",voids:o=!1}=t,{match:i}=t;if(null==i&&(i=gt.isPath(n)?Dt(e,n):t=>st.isBlock(e,t)),n){var a=st.nodes(e,{at:n,match:i,mode:r,voids:o}),s=Array.from(a,(t=>{var[,n]=t;return st.pathRef(e,n)}));for(var l of s){var u=l.unref();if(u.length<2)throw new Error("Cannot lift node at a path [".concat(u,"] because it has a depth of less than `2`."));var c=st.node(e,gt.parent(u)),[d,f]=c,p=u[u.length-1],{length:h}=d.children;if(1===h){var g=gt.next(f);Ht.moveNodes(e,{at:u,to:g,voids:o}),Ht.removeNodes(e,{at:f,voids:o})}else if(0===p)Ht.moveNodes(e,{at:u,to:f,voids:o});else if(p===h-1){var v=gt.next(f);Ht.moveNodes(e,{at:u,to:v,voids:o})}else{var m=gt.next(u),y=gt.next(f);Ht.splitNodes(e,{at:m,voids:o}),Ht.moveNodes(e,{at:u,to:y,voids:o})}}}}))},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};st.withoutNormalizing(e,(()=>{var{match:n,at:r=e.selection}=t,{hanging:o=!1,voids:i=!1,mode:a="lowest"}=t;if(r){if(null==n)if(gt.isPath(r)){var[s]=st.parent(e,r);n=e=>s.children.includes(e)}else n=t=>st.isBlock(e,t);if(!o&&Et.isRange(r)&&(r=st.unhangRange(e,r)),Et.isRange(r))if(Et.isCollapsed(r))r=r.anchor;else{var[,l]=Et.edges(r),u=st.pointRef(e,l);Ht.delete(e,{at:r}),r=u.unref(),null==t.at&&Ht.select(e,r)}var[c]=st.nodes(e,{at:r,match:n,voids:i,mode:a}),d=st.previous(e,{at:r,match:n,voids:i,mode:a});if(c&&d){var[f,p]=c,[h,g]=d;if(0!==p.length&&0!==g.length){var v,m,y=gt.next(g),b=gt.common(p,g),w=gt.isSibling(p,g),x=Array.from(st.levels(e,{at:p}),(e=>{var[t]=e;return t})).slice(b.length).slice(0,-1),E=st.above(e,{at:p,mode:"highest",match:t=>x.includes(t)&&Ft(e,t)}),S=E&&st.pathRef(e,E[1]);if(_t.isText(f)&&_t.isText(h)){var k=Ge(f,["text"]);m=h.text.length,v=k}else{if(!rt.isElement(f)||!rt.isElement(h))throw new Error("Cannot merge the node at path [".concat(p,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(f)," ").concat(JSON.stringify(h)));k=Ge(f,["children"]);m=h.children.length,v=k}w||Ht.moveNodes(e,{at:p,to:y,voids:i}),S&&Ht.removeNodes(e,{at:S.current,voids:i}),rt.isElement(h)&&st.isEmpty(e,h)||_t.isText(h)&&""===h.text?Ht.removeNodes(e,{at:g,voids:i}):e.apply({type:"merge_node",path:y,position:m,properties:v}),S&&S.unref()}}}}))},moveNodes(e,t){st.withoutNormalizing(e,(()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:a}=t;if(r){null==a&&(a=gt.isPath(r)?Dt(e,r):t=>st.isBlock(e,t));var s=st.pathRef(e,n),l=st.nodes(e,{at:r,match:a,mode:o,voids:i}),u=Array.from(l,(t=>{var[,n]=t;return st.pathRef(e,n)}));for(var c of u){var d=c.unref(),f=s.current;0!==d.length&&e.apply({type:"move_node",path:d,newPath:f}),s.current&&gt.isSibling(f,d)&&gt.isAfter(f,d)&&(s.current=gt.next(s.current))}s.unref()}}))},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};st.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:r=!1,mode:o="lowest"}=t,{at:i=e.selection,match:a}=t;if(i){null==a&&(a=gt.isPath(i)?Dt(e,i):t=>st.isBlock(e,t)),!n&&Et.isRange(i)&&(i=st.unhangRange(e,i));var s=st.nodes(e,{at:i,match:a,mode:o,voids:r}),l=Array.from(s,(t=>{var[,n]=t;return st.pathRef(e,n)}));for(var u of l){var c=u.unref();if(c){var[d]=st.node(e,c);e.apply({type:"remove_node",path:c,node:d})}}}}))},setNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};st.withoutNormalizing(e,(()=>{var{match:r,at:o=e.selection}=n,{hanging:i=!1,mode:a="lowest",split:s=!1,voids:l=!1}=n;if(o){if(null==r&&(r=gt.isPath(o)?Dt(e,o):t=>st.isBlock(e,t)),!i&&Et.isRange(o)&&(o=st.unhangRange(e,o)),s&&Et.isRange(o)){var u=st.rangeRef(e,o,{affinity:"inward"}),[c,d]=Et.edges(o),f="lowest"===a?"lowest":"highest",p=st.isEnd(e,d,d.path);Ht.splitNodes(e,{at:d,match:r,mode:f,voids:l,always:!p});var h=st.isStart(e,c,c.path);Ht.splitNodes(e,{at:c,match:r,mode:f,voids:l,always:!h}),o=u.unref(),null==n.at&&Ht.select(e,o)}for(var[g,v]of st.nodes(e,{at:o,match:r,mode:a,voids:l})){var m={},y={};if(0!==v.length){for(var b in t)"children"!==b&&"text"!==b&&t[b]!==g[b]&&(g.hasOwnProperty(b)&&(m[b]=g[b]),y[b]=t[b]);0!==Object.keys(y).length&&e.apply({type:"set_node",path:v,properties:m,newProperties:y})}}}}))},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};st.withoutNormalizing(e,(()=>{var{mode:n="lowest",voids:r=!1}=t,{match:o,at:i=e.selection,height:a=0,always:s=!1}=t;if(null==o&&(o=t=>st.isBlock(e,t)),Et.isRange(i)&&(i=jt(e,i)),gt.isPath(i)){var l=i,u=st.point(e,l),[c]=st.parent(e,l);o=e=>e===c,a=u.path.length-l.length+1,i=u,s=!0}if(i){var d=st.pointRef(e,i,{affinity:"backward"}),[f]=st.nodes(e,{at:i,match:o,mode:n,voids:r});if(f){var p=st.void(e,{at:i,mode:"highest"});if(!r&&p){var[h,g]=p;if(rt.isElement(h)&&e.isInline(h)){var v=st.after(e,g);if(!v){var m=gt.next(g);Ht.insertNodes(e,{text:""},{at:m,voids:r}),v=st.point(e,m)}i=v,s=!0}a=i.path.length-g.length+1,s=!0}var y=st.pointRef(e,i),b=i.path.length-a,[,w]=f,x=i.path.slice(0,b),E=0===a?i.offset:i.path[b]+0;for(var[S,k]of st.levels(e,{at:x,reverse:!0,voids:r})){var O=!1;if(k.length<w.length||0===k.length||!r&&st.isVoid(e,S))break;var _=d.current,A=st.isEnd(e,_,k);if(s||!d||!st.isEdge(e,_,k)){O=!0;var T=dt.extractProps(S);e.apply({type:"split_node",path:k,position:E,properties:T})}E=k[k.length-1]+(O||A?1:0)}if(null==t.at){var C=y.current||st.end(e,[]);Ht.select(e,C)}d.unref(),y.unref()}}}))},unsetNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r={};for(var o of t)r[o]=null;Ht.setNodes(e,r,n)},unwrapNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};st.withoutNormalizing(e,(()=>{var{mode:n="lowest",split:r=!1,voids:o=!1}=t,{at:i=e.selection,match:a}=t;if(i){null==a&&(a=gt.isPath(i)?Dt(e,i):t=>st.isBlock(e,t)),gt.isPath(i)&&(i=st.range(e,i));var s=Et.isRange(i)?st.rangeRef(e,i):null,l=st.nodes(e,{at:i,match:a,mode:n,voids:o}),u=Array.from(l,(t=>{var[,n]=t;return st.pathRef(e,n)})),c=function(t){var n=t.unref(),[i]=st.node(e,n),a=st.range(e,n);r&&s&&(a=Et.intersection(s.current,a)),Ht.liftNodes(e,{at:a,match:e=>rt.isAncestor(i)&&i.children.includes(e),voids:o})};for(var d of u)c(d);s&&s.unref()}}))},wrapNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};st.withoutNormalizing(e,(()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{match:a,at:s=e.selection}=n;if(s){if(null==a&&(a=gt.isPath(s)?Dt(e,s):e.isInline(t)?t=>st.isInline(e,t)||_t.isText(t):t=>st.isBlock(e,t)),o&&Et.isRange(s)){var[l,u]=Et.edges(s),c=st.rangeRef(e,s,{affinity:"inward"});Ht.splitNodes(e,{at:u,match:a,voids:i}),Ht.splitNodes(e,{at:l,match:a,voids:i}),s=c.unref(),null==n.at&&Ht.select(e,s)}var d=Array.from(st.nodes(e,{at:s,match:e.isInline(t)?t=>st.isBlock(e,t):e=>st.isEditor(e),mode:"lowest",voids:i}));for(var[,f]of d){var p=Et.isRange(s)?Et.intersection(s,st.range(e,f)):s;if(p){var h=Array.from(st.nodes(e,{at:p,match:a,mode:r,voids:i}));h.length>0&&function(){var[n]=h,r=h[h.length-1],[,o]=n,[,a]=r,s=gt.equals(o,a)?gt.parent(o):gt.common(o,a),l=st.range(e,o,a),u=st.node(e,s),[c]=u,d=s.length+1,f=gt.next(a.slice(0,d)),p=Nt(Nt({},t),{},{children:[]});Ht.insertNodes(e,p,{at:f,voids:i}),Ht.moveNodes(e,{at:l,match:e=>rt.isAncestor(c)&&c.children.includes(e),to:f.concat(0),voids:i})}()}}}}))}},Ft=(e,t)=>{if(rt.isElement(t)){var n=t;return!!st.isVoid(e,t)||1===n.children.length&&Ft(e,n.children[0])}return!st.isEditor(t)},jt=(e,t)=>{if(Et.isCollapsed(t))return t.anchor;var[,n]=Et.edges(t),r=st.pointRef(e,n);return Ht.delete(e,{at:t}),r.unref()},Dt=(e,t)=>{var[n]=st.node(e,t);return e=>e===n};function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt={collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:n="anchor"}=t,{selection:r}=e;if(r)if("anchor"===n)Ht.select(e,r.anchor);else if("focus"===n)Ht.select(e,r.focus);else if("start"===n){var[o]=Et.edges(r);Ht.select(e,o)}else if("end"===n){var[,i]=Et.edges(r);Ht.select(e,i)}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:n}=e,{distance:r=1,unit:o="character",reverse:i=!1}=t,{edge:a=null}=t;if(n){"start"===a&&(a=Et.isBackward(n)?"focus":"anchor"),"end"===a&&(a=Et.isBackward(n)?"anchor":"focus");var{anchor:s,focus:l}=n,u={distance:r,unit:o},c={};if(null==a||"anchor"===a){var d=i?st.before(e,s,u):st.after(e,s,u);d&&(c.anchor=d)}if(null==a||"focus"===a){var f=i?st.before(e,l,u):st.after(e,l,u);f&&(c.focus=f)}Ht.setSelection(e,c)}},select(e,t){var{selection:n}=e;if(t=st.range(e,t),n)Ht.setSelection(e,t);else{if(!Et.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})}},setPoint(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:r}=e,{edge:o="both"}=n;if(r){"start"===o&&(o=Et.isBackward(r)?"focus":"anchor"),"end"===o&&(o=Et.isBackward(r)?"anchor":"focus");var{anchor:i,focus:a}=r,s="anchor"===o?i:a;Ht.setSelection(e,{["anchor"===o?"anchor":"focus"]:Mt(Mt({},s),t)})}},setSelection(e,t){var{selection:n}=e,r={},o={};if(n){for(var i in t)("anchor"===i&&null!=t.anchor&&!bt.equals(t.anchor,n.anchor)||"focus"===i&&null!=t.focus&&!bt.equals(t.focus,n.focus)||"anchor"!==i&&"focus"!==i&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}}},Lt={delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};st.withoutNormalizing(e,(()=>{var{reverse:n=!1,unit:r="character",distance:o=1,voids:i=!1}=t,{at:a=e.selection,hanging:s=!1}=t;if(a){if(Et.isRange(a)&&Et.isCollapsed(a)&&(a=a.anchor),bt.isPoint(a)){var l=st.void(e,{at:a,mode:"highest"});if(!i&&l){var[,u]=l;a=u}else{var c={unit:r,distance:o};a={anchor:a,focus:n?st.before(e,a,c)||st.start(e,[]):st.after(e,a,c)||st.end(e,[])},s=!0}}if(gt.isPath(a))Ht.removeNodes(e,{at:a,voids:i});else if(!Et.isCollapsed(a)){if(!s){var[,d]=Et.edges(a),f=st.end(e,[]);bt.equals(d,f)||(a=st.unhangRange(e,a,{voids:i}))}var[p,h]=Et.edges(a),g=st.above(e,{match:t=>st.isBlock(e,t),at:p,voids:i}),v=st.above(e,{match:t=>st.isBlock(e,t),at:h,voids:i}),m=g&&v&&!gt.equals(g[1],v[1]),y=gt.equals(p.path,h.path),b=i?null:st.void(e,{at:p,mode:"highest"}),w=i?null:st.void(e,{at:h,mode:"highest"});if(b){var x=st.before(e,p);x&&g&&gt.isAncestor(g[1],x.path)&&(p=x)}if(w){var E=st.after(e,h);E&&v&&gt.isAncestor(v[1],E.path)&&(h=E)}var S,k=[];for(var O of st.nodes(e,{at:a,voids:i})){var[_,A]=O;S&&0===gt.compare(A,S)||(!i&&st.isVoid(e,_)||!gt.isCommon(A,p.path)&&!gt.isCommon(A,h.path))&&(k.push(O),S=A)}var T=Array.from(k,(t=>{var[,n]=t;return st.pathRef(e,n)})),C=st.pointRef(e,p),N=st.pointRef(e,h);if(!y&&!b){var P=C.current,[F]=st.leaf(e,P),{path:j}=P,{offset:D}=p,I=F.text.slice(D);I.length>0&&e.apply({type:"remove_text",path:j,offset:D,text:I})}for(var M of T){var R=M.unref();Ht.removeNodes(e,{at:R,voids:i})}if(!w){var L=N.current,[B]=st.leaf(e,L),{path:z}=L,H=y?p.offset:0,U=B.text.slice(H,h.offset);U.length>0&&e.apply({type:"remove_text",path:z,offset:H,text:U})}!y&&m&&N.current&&C.current&&Ht.mergeNodes(e,{at:N.current,hanging:!0,voids:i});var $=n?C.unref()||N.unref():N.unref()||C.unref();null==t.at&&$&&Ht.select(e,$)}}}))},insertFragment(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};st.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:o=!1}=n,{at:i=e.selection}=n;if(t.length&&i){if(Et.isRange(i))if(r||(i=st.unhangRange(e,i)),Et.isCollapsed(i))i=i.anchor;else{var[,a]=Et.edges(i);if(!o&&st.void(e,{at:a}))return;var s=st.pointRef(e,a);Ht.delete(e,{at:i}),i=s.unref()}else gt.isPath(i)&&(i=st.start(e,i));if(o||!st.void(e,{at:i})){var l=st.above(e,{at:i,match:t=>st.isInline(e,t),mode:"highest",voids:o});if(l){var[,u]=l;if(st.isEnd(e,i,u))i=st.after(e,u);else if(st.isStart(e,i,u)){i=st.before(e,u)}}var c=st.above(e,{match:t=>st.isBlock(e,t),at:i,voids:o}),[,d]=c,f=st.isStart(e,i,d),p=st.isEnd(e,i,d),h=!f||f&&p,g=!p,[,v]=dt.first({children:t},[]),[,m]=dt.last({children:t},[]),y=[],b=t=>{var[n,r]=t;return!(h&&gt.isAncestor(r,v)&&rt.isElement(n)&&!e.isVoid(n)&&!e.isInline(n))&&!(g&&gt.isAncestor(r,m)&&rt.isElement(n)&&!e.isVoid(n)&&!e.isInline(n))};for(var w of dt.nodes({children:t},{pass:b}))w[1].length>0&&b(w)&&y.push(w);var x=[],E=[],S=[],k=!0,O=!1;for(var[_]of y)rt.isElement(_)&&!e.isInline(_)?(k=!1,O=!0,E.push(_)):k?x.push(_):S.push(_);var[A]=st.nodes(e,{at:i,match:t=>_t.isText(t)||st.isInline(e,t),mode:"highest",voids:o}),[,T]=A,C=st.isStart(e,i,T),N=st.isEnd(e,i,T),P=st.pathRef(e,p?gt.next(d):d),F=st.pathRef(e,N?gt.next(T):T);Ht.splitNodes(e,{at:i,match:t=>O?st.isBlock(e,t):_t.isText(t)||st.isInline(e,t),mode:O?"lowest":"highest",voids:o});var j=st.pathRef(e,!C||C&&N?gt.next(T):T);if(Ht.insertNodes(e,x,{at:j.current,match:t=>_t.isText(t)||st.isInline(e,t),mode:"highest",voids:o}),Ht.insertNodes(e,E,{at:P.current,match:t=>st.isBlock(e,t),mode:"lowest",voids:o}),Ht.insertNodes(e,S,{at:F.current,match:t=>_t.isText(t)||st.isInline(e,t),mode:"highest",voids:o}),!n.at){var D;D=S.length>0?gt.previous(F.current):E.length>0?gt.previous(P.current):gt.previous(j.current);var I=st.end(e,D);Ht.select(e,I)}j.unref(),P.unref(),F.unref()}}}))},insertText(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};st.withoutNormalizing(e,(()=>{var{voids:r=!1}=n,{at:o=e.selection}=n;if(o){if(gt.isPath(o)&&(o=st.range(e,o)),Et.isRange(o))if(Et.isCollapsed(o))o=o.anchor;else{var i=Et.end(o);if(!r&&st.void(e,{at:i}))return;var a=st.pointRef(e,i);Ht.delete(e,{at:o,voids:r}),o=a.unref(),Ht.setSelection(e,{anchor:o,focus:o})}if(r||!st.void(e,{at:o})){var{path:s,offset:l}=o;t.length>0&&e.apply({type:"insert_text",path:s,offset:l,text:t})}}}))}};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=zt(zt(zt(zt({},{transform(e,t){e.children=De(e.children);var n=e.selection&&De(e.selection);try{n=((e,t,n)=>{switch(n.type){case"insert_node":var{path:r,node:o}=n,i=dt.parent(e,r),a=r[r.length-1];if(a>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(a,0,o),t)for(var[s,l]of Et.points(t))t[l]=bt.transform(s,n);break;case"insert_text":var{path:u,offset:c,text:d}=n;if(0===d.length)break;var f=dt.leaf(e,u),p=f.text.slice(0,c),h=f.text.slice(c);if(f.text=p+d+h,t)for(var[g,v]of Et.points(t))t[v]=bt.transform(g,n);break;case"merge_node":var{path:m}=n,y=dt.get(e,m),b=gt.previous(m),w=dt.get(e,b),x=dt.parent(e,m),E=m[m.length-1];if(_t.isText(y)&&_t.isText(w))w.text+=y.text;else{if(_t.isText(y)||_t.isText(w))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interfaces: ").concat(y," ").concat(w));w.children.push(...y.children)}if(x.children.splice(E,1),t)for(var[S,k]of Et.points(t))t[k]=bt.transform(S,n);break;case"move_node":var{path:O,newPath:_}=n;if(gt.isAncestor(O,_))throw new Error("Cannot move a path [".concat(O,"] to new path [").concat(_,"] because the destination is inside itself."));var A=dt.get(e,O),T=dt.parent(e,O),C=O[O.length-1];T.children.splice(C,1);var N=gt.transform(O,n),P=dt.get(e,gt.parent(N)),F=N[N.length-1];if(P.children.splice(F,0,A),t)for(var[j,D]of Et.points(t))t[D]=bt.transform(j,n);break;case"remove_node":var{path:I}=n,M=I[I.length-1];if(dt.parent(e,I).children.splice(M,1),t)for(var[R,L]of Et.points(t)){var B=bt.transform(R,n);if(null!=t&&null!=B)t[L]=B;else{var z=void 0,H=void 0;for(var[U,$]of dt.texts(e)){if(-1!==gt.compare($,I)){H=[U,$];break}z=[U,$]}z?(R.path=z[1],R.offset=z[0].text.length):H?(R.path=H[1],R.offset=0):t=null}}break;case"remove_text":var{path:V,offset:q,text:W}=n;if(0===W.length)break;var G=dt.leaf(e,V),K=G.text.slice(0,q),X=G.text.slice(q+W.length);if(G.text=K+X,t)for(var[Z,Y]of Et.points(t))t[Y]=bt.transform(Z,n);break;case"set_node":var{path:J,properties:Q,newProperties:ee}=n;if(0===J.length)throw new Error("Cannot set properties on the root node!");var te=dt.get(e,J);for(var ne in ee){if("children"===ne||"text"===ne)throw new Error('Cannot set the "'.concat(ne,'" property of nodes!'));var re=ee[ne];null==re?delete te[ne]:te[ne]=re}for(var oe in Q)ee.hasOwnProperty(oe)||delete te[oe];break;case"set_selection":var{newProperties:ie}=n;if(null==ie)t=ie;else{if(null==t){if(!Et.isRange(ie))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ie)," when there is no current selection."));t=Tt({},ie)}for(var ae in ie){var se=ie[ae];if(null==se){if("anchor"===ae||"focus"===ae)throw new Error('Cannot remove the "'.concat(ae,'" selection property'));delete t[ae]}else t[ae]=se}}break;case"split_node":var{path:le,position:ue,properties:ce}=n;if(0===le.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(le,"] because the root node cannot be split."));var de,fe=dt.get(e,le),pe=dt.parent(e,le),he=le[le.length-1];if(_t.isText(fe)){var ge=fe.text.slice(0,ue),ve=fe.text.slice(ue);fe.text=ge,de=Tt(Tt({},ce),{},{text:ve})}else{var me=fe.children.slice(0,ue),ye=fe.children.slice(ue);fe.children=me,de=Tt(Tt({},ce),{},{children:ye})}if(pe.children.splice(he+1,0,de),t)for(var[be,we]of Et.points(t))t[we]=bt.transform(be,n)}return t})(e,n,t)}finally{e.children=Ie(e.children),e.selection=n?z(n)?Ie(n):n:null}}}),Pt),Rt),Lt),Ut=R((function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",u="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",p="[object Promise]",h="[object RegExp]",g="[object Set]",v="[object String]",m="[object Symbol]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",x=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[o]=S[i]=S[b]=S[a]=S[w]=S[s]=S[l]=S[u]=S[c]=S[d]=S[f]=S[h]=S[g]=S[v]=S[y]=!1;var k="object"==typeof I&&I&&I.Object===Object&&I,O="object"==typeof self&&self&&self.Object===Object&&self,_=k||O||Function("return this")(),A=t&&!t.nodeType&&t,T=A&&e&&!e.nodeType&&e,C=T&&T.exports===A,N=C&&k.process,P=function(){try{return N&&N.binding&&N.binding("util")}catch(e){}}(),F=P&&P.isTypedArray;function j(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function D(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function M(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var R,L,B,z=Array.prototype,H=Function.prototype,U=Object.prototype,$=_["__core-js_shared__"],V=H.toString,q=U.hasOwnProperty,W=(R=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",G=U.toString,K=RegExp("^"+V.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=C?_.Buffer:void 0,Z=_.Symbol,Y=_.Uint8Array,J=U.propertyIsEnumerable,Q=z.splice,ee=Z?Z.toStringTag:void 0,te=Object.getOwnPropertySymbols,ne=X?X.isBuffer:void 0,re=(L=Object.keys,B=Object,function(e){return L(B(e))}),oe=Fe(_,"DataView"),ie=Fe(_,"Map"),ae=Fe(_,"Promise"),se=Fe(_,"Set"),le=Fe(_,"WeakMap"),ue=Fe(Object,"create"),ce=Me(oe),de=Me(ie),fe=Me(ae),pe=Me(se),he=Me(le),ge=Z?Z.prototype:void 0,ve=ge?ge.valueOf:void 0;function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new be;++t<n;)this.add(e[t])}function xe(e){var t=this.__data__=new ye(e);this.size=t.size}function Ee(e,t){var n=Be(e),r=!n&&Le(e),o=!n&&!r&&ze(e),i=!n&&!r&&!o&&qe(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!q.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ie(u,l))||s.push(u);return s}function Se(e,t){for(var n=e.length;n--;)if(Re(e[n][0],t))return n;return-1}function ke(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=q.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(e){}var o=G.call(e);r&&(t?e[ee]=n:delete e[ee]);return o}(e):function(e){return G.call(e)}(e)}function Oe(e){return Ve(e)&&ke(e)==o}function _e(e,t,n,r,u){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,n,r,u,p){var y=Be(e),x=Be(t),E=y?i:De(e),S=x?i:De(t),k=(E=E==o?f:E)==f,O=(S=S==o?f:S)==f,_=E==S;if(_&&ze(e)){if(!ze(t))return!1;y=!0,k=!1}if(_&&!k)return p||(p=new xe),y||qe(e)?Ce(e,t,n,r,u,p):function(e,t,n,r,o,i,u){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!i(new Y(e),new Y(t)));case a:case s:case d:return Re(+e,+t);case l:return e.name==t.name&&e.message==t.message;case h:case v:return e==t+"";case c:var f=D;case g:var p=1&r;if(f||(f=M),e.size!=t.size&&!p)return!1;var y=u.get(e);if(y)return y==t;r|=2,u.set(e,t);var x=Ce(f(e),f(t),r,o,i,u);return u.delete(e),x;case m:if(ve)return ve.call(e)==ve.call(t)}return!1}(e,t,E,n,r,u,p);if(!(1&n)){var A=k&&q.call(e,"__wrapped__"),T=O&&q.call(t,"__wrapped__");if(A||T){var C=A?e.value():e,N=T?t.value():t;return p||(p=new xe),u(C,N,n,r,p)}}if(!_)return!1;return p||(p=new xe),function(e,t,n,r,o,i){var a=1&n,s=Ne(e),l=s.length,u=Ne(t).length;if(l!=u&&!a)return!1;var c=l;for(;c--;){var d=s[c];if(!(a?d in t:q.call(t,d)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var p=!0;i.set(e,t),i.set(t,e);var h=a;for(;++c<l;){var g=e[d=s[c]],v=t[d];if(r)var m=a?r(v,g,d,t,e,i):r(g,v,d,e,t,i);if(!(void 0===m?g===v||o(g,v,n,r,i):m)){p=!1;break}h||(h="constructor"==d)}if(p&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,u,p)}(e,t,n,r,_e,u))}function Ae(e){return!(!$e(e)||function(e){return!!W&&W in e}(e))&&(He(e)?K:x).test(Me(e))}function Te(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||U,t!==r)return re(e);var t,n,r,o=[];for(var i in Object(e))q.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Ce(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var c=-1,d=!0,f=2&n?new we:void 0;for(i.set(e,t),i.set(t,e);++c<s;){var p=e[c],h=t[c];if(r)var g=a?r(h,p,c,t,e,i):r(p,h,c,e,t,i);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!j(t,(function(e,t){if(a=t,!f.has(a)&&(p===e||o(p,e,n,r,i)))return f.push(t);var a}))){d=!1;break}}else if(p!==h&&!o(p,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function Ne(e){return function(e,t,n){var r=t(e);return Be(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,We,je)}function Pe(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ae(n)?n:void 0}me.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(ue){var r=t[e];return r===n?void 0:r}return q.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:q.call(t,e)},me.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ue&&void 0===t?n:t,this},ye.prototype.clear=function(){this.__data__=[],this.size=0},ye.prototype.delete=function(e){var t=this.__data__,n=Se(t,e);return!(n<0)&&(n==t.length-1?t.pop():Q.call(t,n,1),--this.size,!0)},ye.prototype.get=function(e){var t=this.__data__,n=Se(t,e);return n<0?void 0:t[n][1]},ye.prototype.has=function(e){return Se(this.__data__,e)>-1},ye.prototype.set=function(e,t){var n=this.__data__,r=Se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},be.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(ie||ye),string:new me}},be.prototype.delete=function(e){var t=Pe(this,e).delete(e);return this.size-=t?1:0,t},be.prototype.get=function(e){return Pe(this,e).get(e)},be.prototype.has=function(e){return Pe(this,e).has(e)},be.prototype.set=function(e,t){var n=Pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},we.prototype.add=we.prototype.push=function(e){return this.__data__.set(e,n),this},we.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.clear=function(){this.__data__=new ye,this.size=0},xe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ye){var r=n.__data__;if(!ie||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new be(r)}return n.set(e,t),this.size=n.size,this};var je=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(te(e),(function(t){return J.call(e,t)})))}:function(){return[]},De=ke;function Ie(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||E.test(e))&&e>-1&&e%1==0&&e<t}function Me(e){if(null!=e){try{return V.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Re(e,t){return e===t||e!=e&&t!=t}(oe&&De(new oe(new ArrayBuffer(1)))!=w||ie&&De(new ie)!=c||ae&&De(ae.resolve())!=p||se&&De(new se)!=g||le&&De(new le)!=y)&&(De=function(e){var t=ke(e),n=t==f?e.constructor:void 0,r=n?Me(n):"";if(r)switch(r){case ce:return w;case de:return c;case fe:return p;case pe:return g;case he:return y}return t});var Le=Oe(function(){return arguments}())?Oe:function(e){return Ve(e)&&q.call(e,"callee")&&!J.call(e,"callee")},Be=Array.isArray;var ze=ne||function(){return!1};function He(e){if(!$e(e))return!1;var t=ke(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ue(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function $e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var qe=F?function(e){return function(t){return e(t)}}(F):function(e){return Ve(e)&&Ue(e.length)&&!!S[ke(e)]};function We(e){return null!=(t=e)&&Ue(t.length)&&!He(t)?Ee(e):Te(e);var t}e.exports=function(e,t){return _e(e,t)}})),$t=9007199254740991,Vt="[object Arguments]",qt="[object Map]",Wt="[object Promise]",Gt="[object Set]",Kt="[object WeakMap]",Xt="[object DataView]",Zt=/^\[object .+?Constructor\]$/,Yt=/^(?:0|[1-9]\d*)$/,Jt="[\\ud800-\\udfff]",Qt="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",en="\\ud83c[\\udffb-\\udfff]",tn="[^\\ud800-\\udfff]",nn="(?:\\ud83c[\\udde6-\\uddff]){2}",rn="[\\ud800-\\udbff][\\udc00-\\udfff]",on="(?:"+Qt+"|"+en+")"+"?",an="[\\ufe0e\\ufe0f]?",sn=an+on+("(?:\\u200d(?:"+[tn,nn,rn].join("|")+")"+an+on+")*"),ln="(?:"+[tn+Qt+"?",Qt,nn,rn,Jt].join("|")+")",un=RegExp(en+"(?="+en+")|"+ln+sn,"g"),cn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),dn="object"==typeof I&&I&&I.Object===Object&&I,fn="object"==typeof self&&self&&self.Object===Object&&self,pn=dn||fn||Function("return this")();function hn(e,t){return function(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(t,(function(t){return e[t]}))}function gn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function vn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function mn(e){return function(e){return cn.test(e)}(e)?function(e){return e.match(un)||[]}(e):function(e){return e.split("")}(e)}var yn,bn,wn,xn=Function.prototype,En=Object.prototype,Sn=pn["__core-js_shared__"],kn=(yn=/[^.]+$/.exec(Sn&&Sn.keys&&Sn.keys.IE_PROTO||""))?"Symbol(src)_1."+yn:"",On=xn.toString,_n=En.hasOwnProperty,An=En.toString,Tn=RegExp("^"+On.call(_n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Cn=pn.Symbol,Nn=Cn?Cn.iterator:void 0,Pn=En.propertyIsEnumerable,Fn=(bn=Object.keys,wn=Object,function(e){return bn(wn(e))}),jn=Wn(pn,"DataView"),Dn=Wn(pn,"Map"),In=Wn(pn,"Promise"),Mn=Wn(pn,"Set"),Rn=Wn(pn,"WeakMap"),Ln=Xn(jn),Bn=Xn(Dn),zn=Xn(In),Hn=Xn(Mn),Un=Xn(Rn);function $n(e,t){var n=Zn(e)||function(e){return function(e){return er(e)&&Yn(e)}(e)&&_n.call(e,"callee")&&(!Pn.call(e,"callee")||An.call(e)==Vt)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!_n.call(e,i)||o&&("length"==i||Kn(i,r))||n.push(i);return n}function Vn(e){return!(!Qn(e)||function(e){return!!kn&&kn in e}(e))&&(Jn(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?Tn:Zt).test(Xn(e))}function qn(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||En,t!==r)return Fn(e);var t,n,r,o=[];for(var i in Object(e))_n.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Wn(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Vn(n)?n:void 0}var Gn=function(e){return An.call(e)};function Kn(e,t){return!!(t=null==t?$t:t)&&("number"==typeof e||Yt.test(e))&&e>-1&&e%1==0&&e<t}function Xn(e){if(null!=e){try{return On.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(jn&&Gn(new jn(new ArrayBuffer(1)))!=Xt||Dn&&Gn(new Dn)!=qt||In&&Gn(In.resolve())!=Wt||Mn&&Gn(new Mn)!=Gt||Rn&&Gn(new Rn)!=Kt)&&(Gn=function(e){var t=An.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?Xn(n):void 0;if(r)switch(r){case Ln:return Xt;case Bn:return qt;case zn:return Wt;case Hn:return Gt;case Un:return Kt}return t});var Zn=Array.isArray;function Yn(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=$t}(e.length)&&!Jn(e)}function Jn(e){var t=Qn(e)?An.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function Qn(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function er(e){return!!e&&"object"==typeof e}function tr(e){return e?hn(e,function(e){return Yn(e)?$n(e):qn(e)}(e)):[]}var nr=function(e){if(!e)return[];if(Yn(e))return function(e){return"string"==typeof e||!Zn(e)&&er(e)&&"[object String]"==An.call(e)}(e)?mn(e):function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e);if(Nn&&e[Nn])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Nn]());var t=Gn(e);return(t==qt?gn:t==Gt?vn:tr)(e)};function rr(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function or(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((function(n){void 0===e[n]?e[n]=t[n]:rr(t[n])&&rr(e[n])&&Object.keys(t[n]).length>0&&or(e[n],t[n])}))}var ir={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ar(){var e="undefined"!=typeof document?document:{};return or(e,ir),e}var sr={document:ir,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function lr(){var e="undefined"!=typeof window?window:{};return or(e,sr),e}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cr(e,t){return(cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function fr(e,t,n){return(fr=dr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&cr(o,n.prototype),o}).apply(null,arguments)}function pr(e){var t="function"==typeof Map?new Map:void 0;return(pr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return fr(e,arguments,ur(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),cr(n,e)})(e)}var hr=function(e){var t,n;function r(t){var n,r,o;return n=e.call.apply(e,[this].concat(t))||this,r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),o=r.__proto__,Object.defineProperty(r,"__proto__",{get:function(){return o},set:function(e){o.__proto__=e}}),n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(pr(Array));function gr(e){void 0===e&&(e=[]);var t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,gr(e)):t.push(e)})),t}function vr(e,t){return Array.prototype.filter.call(e,t)}function mr(e,t){var n=lr(),r=ar(),o=[];if(!t&&e instanceof hr)return e;if(!e)return new hr(o);if("string"==typeof e){var i=e.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){var a="div";0===i.indexOf("<li")&&(a="ul"),0===i.indexOf("<tr")&&(a="tbody"),0!==i.indexOf("<td")&&0!==i.indexOf("<th")||(a="tr"),0===i.indexOf("<tbody")&&(a="table"),0===i.indexOf("<option")&&(a="select");var s=r.createElement(a);s.innerHTML=i;for(var l=0;l<s.childNodes.length;l+=1)o.push(s.childNodes[l])}else o=function(e,t){if("string"!=typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),o=0;o<r.length;o+=1)n.push(r[o]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)o.push(e);else if(Array.isArray(e)){if(e instanceof hr)return e;o=e}return new hr(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(o))}function yr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=gr(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,r)})),this}function br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=gr(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,r)})),this}function wr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=gr(t.map((function(e){return e.split(" ")})));return vr(this,(function(e){return r.filter((function(t){return e.classList.contains(t)})).length>0})).length>0}function xr(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this}function Er(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this}function Sr(){var e=this[0];if(e){var t,n={};if(e.dataset)for(var r in e.dataset)n[r]=e.dataset[r];else for(var o=0;o<e.attributes.length;o+=1){var i=e.attributes[o];i.name.indexOf("data-")>=0&&(n[(t=i.name.split("data-")[1],t.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=i.value)}for(var a in n)"false"===n[a]?n[a]=!1:"true"===n[a]?n[a]=!0:parseFloat(n[a])===1*n[a]&&(n[a]*=1);return n}}function kr(e){if(void 0===e){var t=this[0];if(!t)return;if(t.multiple&&"select"===t.nodeName.toLowerCase()){for(var n=[],r=0;r<t.selectedOptions.length;r+=1)n.push(t.selectedOptions[r].value);return n}return t.value}for(var o=0;o<this.length;o+=1){var i=this[o];if(Array.isArray(e)&&i.multiple&&"select"===i.nodeName.toLowerCase())for(var a=0;a<i.options.length;a+=1)i.options[a].selected=e.indexOf(i.options[a].value)>=0;else i.value=e}return this}function Or(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],i=t[2],a=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),mr(t).is(o))i.apply(t,n);else for(var r=mr(t).parents(),a=0;a<r.length;a+=1)mr(r[a]).is(o)&&i.apply(r[a],n)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),i.apply(this,t)}"function"==typeof t[1]&&(r=t[0],i=t[1],a=t[2],o=void 0),a||(a=!1);for(var u,c=r.split(" "),d=0;d<this.length;d+=1){var f=this[d];if(o)for(u=0;u<c.length;u+=1){var p=c[u];f.dom7LiveListeners||(f.dom7LiveListeners={}),f.dom7LiveListeners[p]||(f.dom7LiveListeners[p]=[]),f.dom7LiveListeners[p].push({listener:i,proxyListener:s}),f.addEventListener(p,s,a)}else for(u=0;u<c.length;u+=1){var h=c[u];f.dom7Listeners||(f.dom7Listeners={}),f.dom7Listeners[h]||(f.dom7Listeners[h]=[]),f.dom7Listeners[h].push({listener:i,proxyListener:l}),f.addEventListener(h,l,a)}}return this}function _r(){var e=lr();return this[0]===e?e.innerWidth:this.length>0?parseFloat(this.css("width")):null}function Ar(){var e=lr();return this[0]===e?e.innerHeight:this.length>0?parseFloat(this.css("height")):null}function Tr(){for(var e=0;e<this.length;e+=1)this[e].style.display="none";return this}function Cr(){for(var e=lr(),t=0;t<this.length;t+=1){var n=this[t];"none"===n.style.display&&(n.style.display=""),"none"===e.getComputedStyle(n,null).getPropertyValue("display")&&(n.style.display="block")}return this}function Nr(e,t){var n,r=lr();if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(var o in e)this[n].style[o]=e[o];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this}function Pr(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this}function Fr(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this}function jr(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this}function Dr(){for(var e,t=ar(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"==typeof e){var o=t.createElement("div");for(o.innerHTML=e;o.firstChild;)this[r].appendChild(o.firstChild)}else if(e instanceof hr)for(var i=0;i<e.length;i+=1)this[r].appendChild(e[i]);else this[r].appendChild(e)}return this}function Ir(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?mr(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return mr(t)}function Mr(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),o=0;o<r.length;o+=1)t.push(r[o]);return mr(t)}function Rr(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,o=0;o<r.length;o+=1)e&&!mr(r[o]).is(e)||t.push(r[o]);return mr(t)}function Lr(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}mr.fn=hr.prototype;var Br="resize scroll".split(" ");function zr(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0===n[0]){for(var o=0;o<this.length;o+=1)Br.indexOf(e)<0&&(e in this[o]?this[o][e]():mr(this[o]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}var Hr=zr("click"),Ur=zr("focus"),$r="Expected a function",Vr=/^\s+|\s+$/g,qr=/^[-+]0x[0-9a-f]+$/i,Wr=/^0b[01]+$/i,Gr=/^0o[0-7]+$/i,Kr=parseInt,Xr="object"==typeof I&&I&&I.Object===Object&&I,Zr="object"==typeof self&&self&&self.Object===Object&&self,Yr=Xr||Zr||Function("return this")(),Jr=Object.prototype.toString,Qr=Math.max,eo=Math.min,to=function(){return Yr.Date.now()};function no(e,t,n){var r,o,i,a,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError($r);function p(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function h(e){return u=e,s=setTimeout(v,t),c?p(e):a}function g(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=i}function v(){var e=to();if(g(e))return m(e);s=setTimeout(v,function(e){var n=t-(e-l);return d?eo(n,i-(e-u)):n}(e))}function m(e){return s=void 0,f&&r?p(e):(r=o=void 0,a)}function y(){var e=to(),n=g(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return h(l);if(d)return s=setTimeout(v,t),p(l)}return void 0===s&&(s=setTimeout(v,t)),a}return t=oo(t)||0,ro(n)&&(c=!!n.leading,i=(d="maxWait"in n)?Qr(oo(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=o=s=void 0},y.flush=function(){return void 0===s?a:m(to())},y}function ro(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function oo(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==Jr.call(e)}(e))return NaN;if(ro(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ro(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Vr,"");var n=Wr.test(e);return n||Gr.test(e)?Kr(e.slice(2),n?2:8):qr.test(e)?NaN:+e}var io=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError($r);return ro(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),no(e,t,{leading:r,maxWait:t,trailing:o})},ao=9007199254740991,so="[object Arguments]",lo="[object Function]",uo="[object GeneratorFunction]",co=/^(?:0|[1-9]\d*)$/;function fo(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}var po=Object.prototype,ho=po.hasOwnProperty,go=po.toString,vo=po.propertyIsEnumerable,mo=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object);function yo(e,t){var n=Oo(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&_o(e)}(e)&&ho.call(e,"callee")&&(!vo.call(e,"callee")||go.call(e)==so)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!ho.call(e,i)||o&&("length"==i||ko(i,r))||n.push(i);return n}var bo,wo,xo=(bo=function(e,t){return e&&Eo(e,t,Ao)},function(e,t){if(null==e)return e;if(!_o(e))return bo(e,t);for(var n=e.length,r=wo?n:-1,o=Object(e);(wo?r--:++r<n)&&!1!==t(o[r],r,o););return e}),Eo=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}();function So(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||po,t!==r)return mo(e);var t,n,r,o=[];for(var i in Object(e))ho.call(e,i)&&"constructor"!=i&&o.push(i);return o}function ko(e,t){return!!(t=null==t?ao:t)&&("number"==typeof e||co.test(e))&&e>-1&&e%1==0&&e<t}var Oo=Array.isArray;function _o(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ao}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?go.call(e):"";return t==lo||t==uo}(e)}function Ao(e){return _o(e)?yo(e):So(e)}function To(e){return e}var Co=function(e,t){return(Oo(e)?fo:xo)(e,"function"==typeof t?t:To)},No="[object Symbol]",Po=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jo="\\u0300-\\u036f\\ufe20-\\ufe23",Do="\\u2700-\\u27bf",Io="a-z\\xdf-\\xf6\\xf8-\\xff",Mo="A-Z\\xc0-\\xd6\\xd8-\\xde",Ro="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lo="['’]",Bo="[\\ud800-\\udfff]",zo="["+Ro+"]",Ho="["+jo+"\\u20d0-\\u20f0]",Uo="\\d+",$o="[\\u2700-\\u27bf]",Vo="["+Io+"]",qo="[^\\ud800-\\udfff"+Ro+Uo+Do+Io+Mo+"]",Wo="\\ud83c[\\udffb-\\udfff]",Go="[^\\ud800-\\udfff]",Ko="(?:\\ud83c[\\udde6-\\uddff]){2}",Xo="[\\ud800-\\udbff][\\udc00-\\udfff]",Zo="["+Mo+"]",Yo="(?:"+Vo+"|"+qo+")",Jo="(?:"+Zo+"|"+qo+")",Qo="(?:['’](?:d|ll|m|re|s|t|ve))?",ei="(?:['’](?:D|LL|M|RE|S|T|VE))?",ti="(?:"+Ho+"|"+Wo+")"+"?",ni="[\\ufe0e\\ufe0f]?",ri=ni+ti+("(?:\\u200d(?:"+[Go,Ko,Xo].join("|")+")"+ni+ti+")*"),oi="(?:"+[$o,Ko,Xo].join("|")+")"+ri,ii="(?:"+[Go+Ho+"?",Ho,Ko,Xo,Bo].join("|")+")",ai=RegExp(Lo,"g"),si=RegExp(Ho,"g"),li=RegExp(Wo+"(?="+Wo+")|"+ii+ri,"g"),ui=RegExp([Zo+"?"+Vo+"+"+Qo+"(?="+[zo,Zo,"$"].join("|")+")",Jo+"+"+ei+"(?="+[zo,Zo+Yo,"$"].join("|")+")",Zo+"?"+Yo+"+"+Qo,Zo+"+"+ei,Uo,oi].join("|"),"g"),ci=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),di=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,fi="object"==typeof I&&I&&I.Object===Object&&I,pi="object"==typeof self&&self&&self.Object===Object&&self,hi=fi||pi||Function("return this")();var gi,vi=(gi={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},function(e){return null==gi?void 0:gi[e]});function mi(e){return ci.test(e)}function yi(e){return mi(e)?function(e){return e.match(li)||[]}(e):function(e){return e.split("")}(e)}var bi=Object.prototype.toString,wi=hi.Symbol,xi=wi?wi.prototype:void 0,Ei=xi?xi.toString:void 0;function Si(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&bi.call(e)==No}(e))return Ei?Ei.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function ki(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}(e,t,n)}function Oi(e){return null==e?"":Si(e)}var _i,Ai=(_i=function(e,t,n){return t=t.toLowerCase(),e+(n?Ci(Oi(t).toLowerCase()):t)},function(e){return function(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}(function(e,t,n){return e=Oi(e),void 0===(t=n?void 0:t)?function(e){return di.test(e)}(e)?function(e){return e.match(ui)||[]}(e):function(e){return e.match(Po)||[]}(e):e.match(t)||[]}(function(e){return(e=Oi(e))&&e.replace(Fo,vi).replace(si,"")}(e).replace(ai,"")),_i,"")});var Ti,Ci=(Ti="toUpperCase",function(e){var t=mi(e=Oi(e))?yi(e):void 0,n=t?t[0]:e.charAt(0),r=t?ki(t,1).join(""):e.slice(1);return n[Ti]()+r});for(var Ni=Ai,Pi="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Fi={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},ji={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Pi?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Di={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},Ii=1;Ii<20;Ii++)Di["f"+Ii]=111+Ii;function Mi(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return function(e,t){var n=t&&t.byKey,r={},o=(e=e.replace("++","+add")).split("+"),i=o.length;for(var a in Fi)r[Fi[a]]=!1;var s=!0,l=!1,u=void 0;try{for(var c,d=o[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value,p=f.endsWith("?")&&f.length>1;p&&(f=f.slice(0,-1));var h=Li(f),g=Fi[h];if(f.length>1&&!g&&!ji[f]&&!Di[h])throw new TypeError('Unknown modifier: "'+f+'"');1!==i&&g||(n?r.key=h:r.which=Ri(f)),g&&(r[g]=!p||null)}}catch(e){l=!0,u=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}return r}(e,t)})),o=function(e){return r.some((function(t){return function(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}(t,e)}))};return null==n?o:o(n)}function Ri(e){return e=Li(e),Di[e]||e.toUpperCase().charCodeAt(0)}function Li(e){return e=e.toLowerCase(),e=ji[e]||e}var Bi=Mi,zi=function(e,t){return Mi(e,{byKey:!0},t)},Hi=/^\s+|\s+$/g,Ui=/^[-+]0x[0-9a-f]+$/i,$i=/^0b[01]+$/i,Vi=/^0o[0-7]+$/i,qi=parseInt,Wi="object"==typeof I&&I&&I.Object===Object&&I,Gi="object"==typeof self&&self&&self.Object===Object&&self,Ki=Wi||Gi||Function("return this")(),Xi=Object.prototype.toString,Zi=Math.max,Yi=Math.min,Ji=function(){return Ki.Date.now()};function Qi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ea(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==Xi.call(e)}(e))return NaN;if(Qi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Hi,"");var n=$i.test(e);return n||Vi.test(e)?qi(e.slice(2),n?2:8):Ui.test(e)?NaN:+e}var ta=function(e,t,n){var r,o,i,a,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function h(e){return u=e,s=setTimeout(v,t),c?p(e):a}function g(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=i}function v(){var e=Ji();if(g(e))return m(e);s=setTimeout(v,function(e){var n=t-(e-l);return d?Yi(n,i-(e-u)):n}(e))}function m(e){return s=void 0,f&&r?p(e):(r=o=void 0,a)}function y(){var e=Ji(),n=g(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return h(l);if(d)return s=setTimeout(v,t),p(l)}return void 0===s&&(s=setTimeout(v,t)),a}return t=ea(t)||0,Qi(n)&&(c=!!n.leading,i=(d="maxWait"in n)?Zi(ea(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=o=s=void 0},y.flush=function(){return void 0===s?a:m(Ji())},y},na=R((function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",i="[object Boolean]",a="[object Date]",s="[object Function]",l="[object GeneratorFunction]",u="[object Map]",c="[object Number]",d="[object Object]",f="[object Promise]",p="[object RegExp]",h="[object Set]",g="[object String]",v="[object Symbol]",m="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",O="[object Uint8Array]",_="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]",C=/\w*$/,N=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,F={};F[o]=F["[object Array]"]=F[y]=F[b]=F[i]=F[a]=F[w]=F[x]=F[E]=F[S]=F[k]=F[u]=F[c]=F[d]=F[p]=F[h]=F[g]=F[v]=F[O]=F[_]=F[A]=F[T]=!0,F["[object Error]"]=F[s]=F[m]=!1;var j="object"==typeof I&&I&&I.Object===Object&&I,D="object"==typeof self&&self&&self.Object===Object&&self,M=j||D||Function("return this")(),R=t&&!t.nodeType&&t,L=R&&e&&!e.nodeType&&e,B=L&&L.exports===R;function z(e,t){return e.set(t[0],t[1]),e}function H(e,t){return e.add(t),e}function U(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function $(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function q(e,t){return function(n){return e(t(n))}}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var G=Array.prototype,K=Function.prototype,X=Object.prototype,Z=M["__core-js_shared__"],Y=function(){var e=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),J=K.toString,Q=X.hasOwnProperty,ee=X.toString,te=RegExp("^"+J.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=B?M.Buffer:void 0,re=M.Symbol,oe=M.Uint8Array,ie=q(Object.getPrototypeOf,Object),ae=Object.create,se=X.propertyIsEnumerable,le=G.splice,ue=Object.getOwnPropertySymbols,ce=ne?ne.isBuffer:void 0,de=q(Object.keys,Object),fe=Re(M,"DataView"),pe=Re(M,"Map"),he=Re(M,"Promise"),ge=Re(M,"Set"),ve=Re(M,"WeakMap"),me=Re(Object,"create"),ye=Ue(fe),be=Ue(pe),we=Ue(he),xe=Ue(ge),Ee=Ue(ve),Se=re?re.prototype:void 0,ke=Se?Se.valueOf:void 0;function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){this.__data__=new _e(e)}function Ce(e,t){var n=Ve(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&qe(e)}(e)&&Q.call(e,"callee")&&(!se.call(e,"callee")||ee.call(e)==o)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!Q.call(e,a)||i&&("length"==a||ze(a,r))||n.push(a);return n}function Ne(e,t,n){var r=e[t];Q.call(e,t)&&$e(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Pe(e,t){for(var n=e.length;n--;)if($e(e[n][0],t))return n;return-1}function Fe(e,t,n,r,f,m,N){var P;if(r&&(P=m?r(e,f,m,N):r(e)),void 0!==P)return P;if(!Ke(e))return e;var j=Ve(e);if(j){if(P=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&Q.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,P)}else{var D=Be(e),I=D==s||D==l;if(We(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(D==d||D==o||I&&!m){if($(e))return m?e:{};if(P=function(e){return"function"!=typeof e.constructor||He(e)?{}:(t=ie(e),Ke(t)?ae(t):{});var t}(I?{}:e),!t)return function(e,t){return Ie(e,Le(e),t)}(e,function(e,t){return e&&Ie(t,Xe(t),e)}(P,e))}else{if(!F[D])return m?e:{};P=function(e,t,n,r){var o=e.constructor;switch(t){case y:return De(e);case i:case a:return new o(+e);case b:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case w:case x:case E:case S:case k:case O:case _:case A:case T:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case u:return function(e,t,n){return U(t?n(V(e),!0):V(e),z,new e.constructor)}(e,r,n);case c:case g:return new o(e);case p:return function(e){var t=new e.constructor(e.source,C.exec(e));return t.lastIndex=e.lastIndex,t}(e);case h:return function(e,t,n){return U(t?n(W(e),!0):W(e),H,new e.constructor)}(e,r,n);case v:return s=e,ke?Object(ke.call(s)):{}}var s}(e,D,Fe,t)}}N||(N=new Te);var M=N.get(e);if(M)return M;if(N.set(e,P),!j)var R=n?function(e){return function(e,t,n){var r=t(e);return Ve(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Xe,Le)}(e):Xe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(R||e,(function(o,i){R&&(o=e[i=o]),Ne(P,i,Fe(o,t,n,r,i,e,N))})),P}function je(e){return!(!Ke(e)||function(e){return!!Y&&Y in e}(e))&&(Ge(e)||$(e)?te:N).test(Ue(e))}function De(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Ie(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;Ne(n,a,void 0===s?e[a]:s)}return n}function Me(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Re(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return je(n)?n:void 0}Oe.prototype.clear=function(){this.__data__=me?me(null):{}},Oe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Oe.prototype.get=function(e){var t=this.__data__;if(me){var r=t[e];return r===n?void 0:r}return Q.call(t,e)?t[e]:void 0},Oe.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:Q.call(t,e)},Oe.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?n:t,this},_e.prototype.clear=function(){this.__data__=[]},_e.prototype.delete=function(e){var t=this.__data__,n=Pe(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)},_e.prototype.get=function(e){var t=this.__data__,n=Pe(t,e);return n<0?void 0:t[n][1]},_e.prototype.has=function(e){return Pe(this.__data__,e)>-1},_e.prototype.set=function(e,t){var n=this.__data__,r=Pe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ae.prototype.clear=function(){this.__data__={hash:new Oe,map:new(pe||_e),string:new Oe}},Ae.prototype.delete=function(e){return Me(this,e).delete(e)},Ae.prototype.get=function(e){return Me(this,e).get(e)},Ae.prototype.has=function(e){return Me(this,e).has(e)},Ae.prototype.set=function(e,t){return Me(this,e).set(e,t),this},Te.prototype.clear=function(){this.__data__=new _e},Te.prototype.delete=function(e){return this.__data__.delete(e)},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _e){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ae(r)}return n.set(e,t),this};var Le=ue?q(ue,Object):function(){return[]},Be=function(e){return ee.call(e)};function ze(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function He(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function Ue(e){if(null!=e){try{return J.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $e(e,t){return e===t||e!=e&&t!=t}(fe&&Be(new fe(new ArrayBuffer(1)))!=b||pe&&Be(new pe)!=u||he&&Be(he.resolve())!=f||ge&&Be(new ge)!=h||ve&&Be(new ve)!=m)&&(Be=function(e){var t=ee.call(e),n=t==d?e.constructor:void 0,r=n?Ue(n):void 0;if(r)switch(r){case ye:return b;case be:return u;case we:return f;case xe:return h;case Ee:return m}return t});var Ve=Array.isArray;function qe(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!Ge(e)}var We=ce||function(){return!1};function Ge(e){var t=Ke(e)?ee.call(e):"";return t==s||t==l}function Ke(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xe(e){return qe(e)?Ce(e):function(e){if(!He(e))return de(e);var t=[];for(var n in Object(e))Q.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Fe(e,!0,!0)}}));
/*!
   * isobject <https://github.com/jonschlinkert/isobject>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */
/*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */
function ra(e){return!0===function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}(e)&&"[object Object]"===Object.prototype.toString.call(e)}var oa={isHistory(e){return!1!==ra(t=e)&&"function"==typeof(n=t.constructor)&&!1!==ra(r=n.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||ht.isOperationList(e.redos[0]))&&(0===e.undos.length||ht.isOperationList(e.undos[0]));var t,n,r}},ia=new WeakMap,aa=new WeakMap,sa={isHistoryEditor:e=>oa.isHistory(e.history)&&st.isEditor(e),isMerging:e=>aa.get(e),isSaving:e=>ia.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=sa.isMerging(e);aa.set(e,!1),t(),aa.set(e,n)},withoutSaving(e,t){var n=sa.isSaving(e);ia.set(e,!1),t(),ia.set(e,n)}},la=function(e,t){return(la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ua(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}la(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ca=function(){return(ca=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function da(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fa(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function pa(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var ha=0,ga=function(){this.id=""+ha++},va=new WeakMap,ma=new WeakMap,ya=new WeakMap,ba=new WeakMap,wa=new WeakMap,xa=new WeakMap,Ea=new WeakMap,Sa=new WeakMap,ka=new WeakMap,Oa=new WeakMap,_a=new WeakMap,Aa=new WeakMap,Ta=new WeakMap,Ca=new WeakMap,Na=new WeakMap,Pa=new WeakMap,Fa=new WeakMap,ja=new WeakMap,Da=new WeakMap,Ia=new WeakMap,Ma=new WeakMap,Ra=new WeakMap,La=new WeakMap,Ba=new WeakMap,za=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"];mr.fn.css=Nr,mr.fn.append=Dr,mr.fn.addClass=yr,mr.fn.removeClass=br,mr.fn.hasClass=wr,mr.fn.on=Or,mr.fn.focus=Ur,mr.fn.attr=xr,mr.fn.removeAttr=Er,mr.fn.hide=Tr,mr.fn.show=Cr,mr.fn.offset=function(){if(this.length>0){var e=lr(),t=ar(),n=this[0],r=n.getBoundingClientRect(),o=t.body,i=n.clientTop||o.clientTop||0,a=n.clientLeft||o.clientLeft||0,s=n===e?e.scrollY:n.scrollTop,l=n===e?e.scrollX:n.scrollLeft;return{top:r.top+s-i,left:r.left+l-a}}return null},mr.fn.width=_r,mr.fn.height=Ar,mr.fn.parent=function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?mr(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return mr(t)},mr.fn.parents=Ir,mr.fn.is=function(e){var t,n,r=lr(),o=ar(),i=this[0];if(!i||void 0===e)return!1;if("string"==typeof e){if(i.matches)return i.matches(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);for(t=mr(e),n=0;n<t.length;n+=1)if(t[n]===i)return!0;return!1}if(e===o)return i===o;if(e===r)return i===r;if(e.nodeType||e instanceof hr){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===i)return!0;return!1}return!1},mr.fn.dataset=Sr,mr.fn.val=kr,mr.fn.text=jr,mr.fn.html=Fr,mr.fn.children=Rr,mr.fn.remove=Lr,mr.fn.find=Mr,mr.fn.each=Pr;var Ha=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||null},Ua=function(e){return $a(e)&&1===e.nodeType},$a=function(e){var t=Ha(e);return!!t&&e instanceof t.Node},Va=function(e){var t=e&&e.anchorNode&&Ha(e.anchorNode);return!!t&&e instanceof t.Selection},qa=function(e){return $a(e)&&3===e.nodeType},Wa=function(e,t,n){for(var r,o=e.childNodes,i=o[t],a=t,s=!1,l=!1;($a(r=i)&&8===r.nodeType||Ua(i)&&0===i.childNodes.length||Ua(i)&&"false"===i.getAttribute("contenteditable"))&&(!s||!l);)a>=o.length?(s=!0,a=t-1,n="backward"):a<0?(l=!0,a=t+1,n="forward"):(i=o[a],t=a,a+="forward"===n?1:-1);return[i,t]},Ga=function(e,t,n){return fa(Wa(e,t,n),1)[0]},Ka=function(e){var t,n,r="";if(qa(e)&&e.nodeValue)return e.nodeValue;if(Ua(e)){try{for(var o=da(Array.from(e.childNodes)),i=o.next();!i.done;i=o.next()){var a=i.value;r+=Ka(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}var s=getComputedStyle(e).getPropertyValue("display");"block"!==s&&"list"!==s&&"BR"!==e.tagName||(r+="\n")}return r};function Xa(e,t){for(var n=e.childNodes,r=n.length;r--;){var o=n[r],i=o.nodeType;3==i?t(o,e):1!=i&&9!=i&&11!=i||Xa(o,t)}}void 0!==globalThis.navigator&&void 0!==globalThis.window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&globalThis.window.MSStream;var Za="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),Ya="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ja="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),Qa="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),es="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),ts="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),ns="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),rs=!ts&&!es&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,os={getWindow:function(e){var t=Ia.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},findKey:function(e,t){var n=Da.get(t);return n||(n=new ga,Da.set(t,n)),n},findPath:function(e,t){for(var n=[],r=t;;){var o=Ca.get(r);if(null==o){if(st.isEditor(r))return n;break}var i=Ta.get(r);if(null==i)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: "+JSON.stringify(t))},findDocumentOrShadowRoot:function(e){if(e.isDestroyed)return window.document;var t=os.toDOMNode(e,e),n=t.getRootNode();if(t.ownerDocument!==document)return t.ownerDocument;if(!(n instanceof Document||n instanceof ShadowRoot))throw new Error("Unable to find DocumentOrShadowRoot for editor element: "+t);return void 0===n.getSelection&&null!==t.ownerDocument?t.ownerDocument:n},getParentNode:function(e,t){return Ca.get(t)||null},toDOMNode:function(e,t){var n;if(st.isEditor(t))n=Na.get(e);else{var r=os.findKey(e,t);n=Fa.get(r)}if(!n)throw new Error("Cannot resolve a DOM node from Slate node: "+JSON.stringify(t));return n},hasDOMNode:function(e,t,n){void 0===n&&(n={});var r,o=n.editable,i=void 0!==o&&o,a=os.toDOMNode(e,e);try{r=Ua(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!r&&r.closest("[data-slate-editor]")===a&&(!i||r.isContentEditable||!!r.getAttribute("data-slate-zero-width"))},toDOMRange:function(e,t){var n=t.anchor,r=t.focus,o=Et.isBackward(t),i=os.toDOMPoint(e,n),a=Et.isCollapsed(t)?i:os.toDOMPoint(e,r),s=os.getWindow(e).document.createRange(),l=fa(o?a:i,2),u=l[0],c=l[1],d=fa(o?i:a,2),f=d[0],p=d[1],h=!!(Ua(u)?u:u.parentElement).getAttribute("data-slate-zero-width"),g=!!(Ua(f)?f:f.parentElement).getAttribute("data-slate-zero-width");return s.setStart(u,h?1:c),s.setEnd(f,g?1:p),s},toDOMPoint:function(e,t){var n,r,o,i=fa(st.node(e,t.path),1)[0],a=os.toDOMNode(e,i);st.void(e,{at:t})&&(t={path:t.path,offset:0});var s=Array.from(a.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),l=0;try{for(var u=da(s),c=u.next();!c.done;c=u.next()){var d=c.value,f=d.childNodes[0];if(null!=f&&null!=f.textContent){var p=f.textContent.length,h=d.getAttribute("data-slate-length"),g=l+(null==h?p:parseInt(h,10));if(t.offset<=g){o=[f,Math.min(p,Math.max(0,t.offset-l))];break}l=g}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: "+JSON.stringify(t));return o},toSlateNode:function(e,t){var n=Ua(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Pa.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: "+n);return r},findEventRange:function(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var n=t.clientX,r=t.clientY,o=t.target;if(null==n||null==r)throw new Error("Cannot resolve a Slate range from a DOM event: "+t);var i,a=os.toSlateNode(e,t.target),s=os.findPath(e,a);if(st.isVoid(e,a)){var l=o.getBoundingClientRect(),u=e.isInline(a)?n-l.left<l.left+l.width-n:r-l.top<l.top+l.height-r,c=st.point(e,s,{edge:u?"start":"end"}),d=u?st.before(e,c):st.after(e,c);if(d)return st.range(e,d)}var f=window.document;if(f.caretRangeFromPoint)i=f.caretRangeFromPoint(n,r);else{var p=f.caretPositionFromPoint(n,r);p&&((i=f.createRange()).setStart(p.offsetNode,p.offset),i.setEnd(p.offsetNode,p.offset))}if(!i)throw new Error("Cannot resolve a Slate range from a DOM event: "+t);return os.toSlateRange(e,i,{exactMatch:!1})},toSlateRange:function(e,t,n){var r,o,i,a,s,l=n.exactMatch;if((Va(t)?t.anchorNode:t.startContainer)&&(Va(t)?(r=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=ns&&window.document.activeElement&&window.document.activeElement.shadowRoot?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(r=t.startContainer,o=t.startOffset,i=t.endContainer,a=t.endOffset,s=t.collapsed)),null==r||null==i||null==o||null==a)throw new Error("Cannot resolve a Slate range from DOM range: "+t);var u=os.toSlatePoint(e,[r,o],l);if(!u)return null;var c=s?u:os.toSlatePoint(e,[i,a],l);return c?{anchor:u,focus:c}:null},toSlatePoint:function(e,t,n){var r=fa(n?t:function(e){var t,n=fa(e,2),r=n[0],o=n[1];if(Ua(r)&&r.childNodes.length){var i=o===r.childNodes.length,a=i?o-1:o;for(r=(t=fa(Wa(r,a,i?"backward":"forward"),2))[0],i=(a=t[1])<o;Ua(r)&&r.childNodes.length;){var s=i?r.childNodes.length-1:0;r=Ga(r,s,i?"backward":"forward")}o=i&&null!=r.textContent?r.textContent.length:0}return[r,o]}(t),2),o=r[0],i=r[1],a=o.parentNode,s=null,l=0;if(a){var u=a.closest('[data-slate-void="true"]'),c=a.closest("[data-slate-leaf]"),d=null;if(c){s=c.closest('[data-slate-node="text"]');var f=os.getWindow(e).document.createRange();f.setStart(s,0),f.setEnd(o,i);var p=f.cloneContents();pa(pa([],fa(nr(p.querySelectorAll("[data-slate-zero-width]")))),fa(nr(p.querySelectorAll("[contenteditable=false]")))).forEach((function(e){e.parentNode.removeChild(e)})),l=p.textContent.length,d=s}else u&&((c=u.querySelector("[data-slate-leaf]"))?(s=c.closest('[data-slate-node="text"]'),l=(d=c).textContent.length,d.querySelectorAll("[data-slate-zero-width]").forEach((function(e){l-=e.textContent.length}))):l=1);d&&l===d.textContent.length&&a.hasAttribute("data-slate-zero-width")&&l--}if(!s){if(n)return null;throw new Error("Cannot resolve a Slate point from DOM point: "+t)}var h=os.toSlateNode(e,s);return{path:os.findPath(e,h),offset:l}},hasRange:function(e,t){var n=t.anchor,r=t.focus;return st.hasPath(e,n.path)&&st.hasPath(e,r.path)},getNodeType:function(e){return rt.isElement(e)?e.type:""},checkNodeType:function(e,t){return this.getNodeType(e)===t},getNodesStr:function(e){return e.map((function(e){return dt.string(e)})).join("")},getSelectedNodeByType:function(e,t){var n=this,r=fa(st.nodes(e,{match:function(e){return n.checkNodeType(e,t)},universal:!0}),1)[0];return null==r?null:r[0]},getSelectedTextNode:function(e){var t=fa(st.nodes(e,{match:function(e){return _t.isText(e)},universal:!0}),1)[0];return null==t?null:t[0]},isNodeSelected:function(e,t){var n=fa(st.nodes(e,{match:function(e){return e===t},universal:!0}),1)[0];return null!=n&&fa(n,1)[0]===t},isSelectionAtLineEnd:function(e,t){var n=e.selection;return!!n&&(st.isEnd(e,n.anchor,t)||st.isEnd(e,n.focus,t))},recordChangingPath:function(e,t){Ra.set(e,t)},deleteChangingPath:function(e){Ra.delete(e)},isChangingPath:function(e,t){var n=Ra.get(e)||[];return Ut(n,t)},getTextarea:function(e){var t=va.get(e);if(null==t)throw new Error("Cannot find textarea instance by editor");return t},getToolbar:function(e){return ba.get(e)||null},getHoverbar:function(e){return xa.get(e)||null},normalizeContent:function(e){e.children.forEach((function(t,n){e.normalizeNode([t,[n]])}))},checkMaxLength:function(e,t){void 0===t&&(t="");var n=e.getConfig(),r=n.maxLength,o=n.onMaxLength;return"number"==typeof r&&r>0&&(t||(t=" "),e.getText().length+t.length>r)&&(o&&o(e),!0)},cleanExposedTexNodeInSelectionBlock:function(e){var t,n,r=st.nodes(e,{match:function(t){return!(!rt.isElement(t)||e.isInline(t))},universal:!0});try{for(var o=da(r),i=o.next();!i.done;i=o.next()){var a=i.value;if(null!=a){var s=a[0];Xa(os.toDOMNode(e,s),(function(e,t){var n=mr(t);n.attr("data-slate-string")||n.attr("data-slate-zero-width")||t.removeChild(e)}))}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},isEditorEmpty:function(e){var t=e.children,n=void 0===t?[]:t;if(n.length>1)return!1;var r=n[0];if(null==r)return!0;if(rt.isElement(r)&&"paragraph"===r.type){var o=r.children,i=void 0===o?[]:o;if(i.length>1)return!1;var a=i[0];if(null==a)return!0;if(_t.isText(a)&&""===a.text)return!0}return!1}},is=1,as={},ss={};function ls(e){if(!e.options.indentation&&!e.options.lineSeparator)return;let t;for(e.content+=e.options.lineSeparator,t=0;t<e.level;t++)e.content+=e.options.indentation}function us(e,t){e.content+=t}function cs(e,t,n){if("string"==typeof e.content)!function(e,t,n){n||(e.content=e.content.trim()),e.content.length>0&&(!n&&t.content.length>0&&ls(t),us(t,e.content))}(e,t,n);else if("Element"===e.type)!function(e,t,n){if(!n&&t.content.length>0&&ls(t),us(t,"<"+e.name),ds(t,e.attributes),null===e.children){const e=t.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";us(t,e)}else if(0===e.children.length)us(t,"></"+e.name+">");else{us(t,">"),t.level++;let r="preserve"===e.attributes["xml:space"];!r&&t.options.collapseContent&&e.children.some((function(e){return"Text"===e.type&&""!==e.content.trim()}))&&(r=!0),e.children.forEach((function(e){cs(e,t,n||r,t.options)})),t.level--,n||r||ls(t),us(t,"</"+e.name+">")}}(e,t,n);else{if("ProcessingInstruction"!==e.type)throw new Error("Unknown node type: "+e.type);fs(e,t)}}function ds(e,t){Object.keys(t).forEach((function(n){const r=t[n].replace(/"/g,"&quot;");us(e," "+n+'="'+r+'"')}))}function fs(e,t){t.content.length>0&&ls(t),us(t,"<?"+e.name),ds(t,e.attributes),us(t,"?>")}var ps=function(e,t={}){t.indentation="indentation"in t?t.indentation:"    ",t.collapseContent=!0===t.collapseContent,t.lineSeparator="lineSeparator"in t?t.lineSeparator:"\r\n",t.whiteSpaceAtEndOfSelfclosingTag=!!t.whiteSpaceAtEndOfSelfclosingTag;const n=function(e,t={}){function n(){return i()||function(){const e=u(/^([^<]+)/);if(e){const n={type:"Text",content:e[1]};return{excluded:!1===t.filter(n),node:n}}}()||a()||function(){if(e.startsWith("<![CDATA[")){const n=e.indexOf("]]>");if(n>-1){const r=n+3,o={type:"CDATA",content:e.substring(0,r)};return e=e.slice(r),{excluded:!1===t.filter(o),node:o}}}}()}function r(){return u(/\s*/),i(!0)||a()||function(){const e=u(/^<!DOCTYPE\s+[^>]*>/);if(e){const n={type:"DocumentType",content:e[0]};return{excluded:!1===t.filter(n),node:n}}}()||o(!1)}function o(e){const n=u(e?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!n)return;const r={name:n[1],type:"ProcessingInstruction",attributes:{}};for(;!c()&&!d("?>");){const e=s();if(!e)return r;r.attributes[e.name]=e.value}return u(/\?>/),{excluded:!e&&!1===t.filter(r),node:r}}function i(e){const r=u(/^<([\w-:.]+)\s*/);if(!r)return;const o={type:"Element",name:r[1],attributes:{},children:[]};for(;!(c()||d(">")||d("?>")||d("/>"));){const e=s();if(!e)return o;o.attributes[e.name]=e.value}const i=!e&&!1===t.filter(o);if(u(/^\s*\/>/))return o.children=null,{excluded:i,node:o};if(u(/\??>/),!i){let e=n();for(;e;)e.excluded||o.children.push(e.node),e=n()}return u(/^<\/[\w-:.]+>/),{excluded:i,node:o}}function a(){const e=u(/^<!--[\s\S]*?-->/);if(e){const n={type:"Comment",content:e[0]};return{excluded:!1===t.filter(n),node:n}}}function s(){const e=u(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(e)return{name:e[1],value:l(e[2])}}function l(e){return e.replace(/^['"]|['"]$/g,"")}function u(t){const n=e.match(t);if(n)return e=e.slice(n[0].length),n}function c(){return 0===e.length}function d(t){return 0===e.indexOf(t)}return t.filter=t.filter||(()=>!0),e=e.trim(),function(){const e=o(!0),t=[];let n,i=r();for(;i;){if("Element"===i.node.type){if(n)throw new Error("Found multiple root nodes");n=i.node}i.excluded||t.push(i.node),i=r()}if(!n)throw new Error("Failed to parse XML");return{declaration:e?e.node:null,root:n,children:t}}()}(e,{filter:t.filter}),r={content:"",level:0,options:t};return n.declaration&&fs(n.declaration,r),n.children.forEach((function(e){cs(e,r,!1)})),r.content},hs=[];var gs=[];var vs={};function ms(e,t,n){var r=n.isInline(e)?"span":"div";return"<"+r+">"+t+"</"+r+">"}function ys(e,t){return rt.isElement(e)?function(e,t){var n=e.type,r=void 0===n?"":n,o=e.children,i=void 0===o?[]:o,a=st.isVoid(t,e),s="";a||(s=i.map((function(e){return ys(e,t)})).join(" "));var l=(vs[r]||ms)(e,s,t);return a||hs.forEach((function(t){return l=t(e,l)})),l}(e,t):function(e,t){var n=e.text;if(null==n)throw new Error("Current node is not slate Text "+JSON.stringify(e));var r=n;return r=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/®/g,"&reg;").replace(/©/g,"&copy;").replace(/™/g,"&trade;")}(r),gs.forEach((function(n){return r=n(e,r,t)})),hs.forEach((function(t){return r=t(e,r)})),r}(e,t)}function bs(e){return"w-e-element-"+e}var ws=function(e,t){var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},xs=function(e,t,n){var r=os.toDOMRange(e,t).getBoundingClientRect(),o=os.toDOMRange(e,n).getBoundingClientRect();return ws(r,o)&&ws(o,r)};function Es(e){var t={exports:{}};return e(t,t.exports),t.exports}var Ss=function(e){return null!=e},ks={object:!0,function:!0,undefined:!0},Os=/^\s*class[\s{/}]/,_s=Function.prototype.toString,As=function(e){return!!function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!function(e){if(!function(e){return!!Ss(e)&&hasOwnProperty.call(ks,typeof e)}(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}(e)}(e)&&!Os.test(_s.call(e))},Ts=function(e){return null!=e},Cs=Object.keys,Ns=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}()?Object.keys:function(e){return Cs(Ts(e)?Object(e):e)},Ps=function(e){if(!Ts(e))throw new TypeError("Cannot use null or undefined");return e},Fs=Math.max,js=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}()?Object.assign:function(e,t){var n,r,o,i=Fs(arguments.length,2);for(e=Object(Ps(e)),o=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},r=1;r<i;++r)Ns(t=arguments[r]).forEach(o);if(void 0!==n)throw n;return e},Ds=Array.prototype.forEach,Is=Object.create,Ms=function(e,t){var n;for(n in e)t[n]=e[n]},Rs=function(e){var t=Is(null);return Ds.call(arguments,(function(e){Ts(e)&&Ms(Object(e),t)})),t},Ls="razdwatrzy",Bs=String.prototype.indexOf,zs="function"==typeof Ls.contains&&!0===Ls.contains("dwa")&&!1===Ls.contains("foo")?String.prototype.contains:function(e){return Bs.call(this,e,arguments[1])>-1},Hs=Es((function(e){(e.exports=function(e,t){var n,r,o,i,a;return arguments.length<2||"string"!=typeof e?(i=t,t=e,e=null):i=arguments[2],Ss(e)?(n=zs.call(e,"c"),r=zs.call(e,"e"),o=zs.call(e,"w")):(n=o=!0,r=!1),a={value:t,configurable:n,enumerable:r,writable:o},i?js(Rs(i),a):a}).gs=function(e,t,n){var r,o,i,a;return"string"!=typeof e?(i=n,n=t,t=e,e=null):i=arguments[3],Ss(t)?As(t)?Ss(n)?As(n)||(i=n,n=void 0):n=void 0:(i=t,t=n=void 0):t=void 0,Ss(e)?(r=zs.call(e,"c"),o=zs.call(e,"e")):(r=!0,o=!1),a={get:t,set:n,configurable:r,enumerable:o},i?js(Rs(i),a):a}})),Us=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},$s=Es((function(e,t){var n,r,o,i,a,s,l,u=Function.prototype.apply,c=Function.prototype.call,d=Object.create,f=Object.defineProperty,p=Object.defineProperties,h=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var r,i;return Us(t),i=this,n.call(this,e,r=function(){o.call(i,e,r),u.call(t,this,arguments)}),r.__eeOnceListener__=t,this},a={on:n=function(e,t){var n;return Us(t),h.call(this,"__ee__")?n=this.__ee__:(n=g.value=d(null),f(this,"__ee__",g),g.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:r,off:o=function(e,t){var n,r,o,i;if(Us(t),!h.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==typeof(r=n[e]))for(i=0;o=r[i];++i)o!==t&&o.__eeOnceListener__!==t||(2===r.length?n[e]=r[i?0:1]:r.splice(i,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},emit:i=function(e){var t,n,r,o,i;if(h.call(this,"__ee__")&&(o=this.__ee__[e]))if("object"==typeof o){for(n=arguments.length,i=new Array(n-1),t=1;t<n;++t)i[t-1]=arguments[t];for(o=o.slice(),t=0;r=o[t];++t)u.call(r,this,i)}else switch(arguments.length){case 1:c.call(o,this);break;case 2:c.call(o,this,arguments[1]);break;case 3:c.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),t=1;t<n;++t)i[t-1]=arguments[t];u.call(o,this,i)}}},s={on:Hs(n),once:Hs(r),off:Hs(o),emit:Hs(i)},l=p({},s),e.exports=t=function(e){return null==e?d(l):p(Object(e),s)},t.methods=a}));function Vs(e){var t=Ba.get(e);return null==t&&(t=$s(),Ba.set(e,t)),t}var qs=new WeakMap;function Ws(e,t){var n=qs.get(e);null==n&&(n=new Set,qs.set(e,n)),n.add(t)}function Gs(e){Promise.resolve().then(e)}function Ks(e){var t=os.getTextarea(e).$textAreaContainer,n=t.width(),r=t.height(),o=t.offset();return{top:o.top,left:o.left,width:n,height:r}}function Xs(e){var t={top:"0",left:"0"},n=e.selection;if(null==n)return t;var r=Ks(e);if(null==r)return t;var o=r.top,i=r.left,a=r.width,s=r.height,l=os.toDOMRange(e,n).getClientRects()[0];if(null==l)return t;l.width;var u=l.height,c={},d=l.top-o,f=l.left-i;if(f>a/2){var p=a-f;c.right=p+5+"px"}else c.left=f+5+"px";if(d>s/2){var h=s-d;c.bottom=h+5+"px"}else{var g=d+u;g<0&&(g=0),c.top=g+5+"px"}return c}function Zs(e,t,n){void 0===n&&(n="modal");var r={top:"0",left:"0"};if(null==e.selection)return r;var o=rt.isElement(t)&&e.isVoid(t),i=ja.get(t);if(null==i)return r;var a=i.getBoundingClientRect(),s=a.top,l=a.left,u=a.height,c=a.width;if(o){var d=function(e){var t=[];t.push(e);for(var n=0;t.length>0;){var r=t.pop();if(null==r)break;if(++n>1e4)break;var o=r.nodeName;if(1===r.nodeType){var i=o.toLowerCase();if(za.includes(i)||"iframe"===i||"video"===i)return r;var a=r.children||[],s=a.length;if(s)for(var l=s-1;l>=0;l--)t.push(a[l])}}return null}(i);if(null!=d){var f=d.getBoundingClientRect();s=f.top,u=f.height}}var p=Ks(e);if(null==p)return r;var h,g=p.top,v=p.left,m=p.width,y=p.height,b={},w=s-g,x=l-v;if("bar"===n)return b.left=x+"px",w>40?b.bottom=y-w+5+"px":b.top=w+u+5+"px",b;if("modal"===n)return o?x>(m-c)/2?b.right=m-x+5+"px":b.left=x+c+5+"px":b.left=x+"px",o?((h=w)<0&&(h=0),b.top=h+"px"):w>(y-u)/2?b.bottom=y-w+5+"px":((h=w+u)<0&&(h=0),b.top=h+5+"px"),b;throw new Error("type '"+n+"' is invalid")}function Ys(e,t){Gs((function(){var n=Ks(e);if(null!=n){var r,o=n.top,i=n.left,a=n.width,s=n.height,l=t.offset(),u=l.top,c=l.left,d=t.width(),f=t.height(),p=u-o,h=c-i,g=t.attr("style");if(g.indexOf("top")>=0&&(r=p+f-s)>0){var v=t.css("top"),m=parseInt(v.toString())-r;m<0&&(m=0),t.css("top",m+"px")}if(g.indexOf("bottom")>=0&&u<0){var y=t.css("bottom"),b=parseInt(y.toString())-Math.abs(u);t.css("bottom",b+"px")}if(g.indexOf("left")>=0&&(r=h+d-a)>0){var w=t.css("left"),x=parseInt(w.toString())-r;x<0&&(x=0),t.css("left",x+"px")}if(g.indexOf("right")>=0&&c<0){var E=t.css("right"),S=parseInt(E.toString())-Math.abs(c);t.css("right",S+"px")}}}))}var Js=["props","attrs","style","dataset","on","hook"];function Qs(e){var t=e.data,n=void 0===t?{}:t,r=e.children,o=void 0===r?[]:r;Object.keys(n).forEach((function(t){var r,o,i=n[t];if("key"!==t){if(!Js.includes(t)){if(t.startsWith("data-")){var a=t.slice(5);return a=Ni(a),function(e,t){null==e.data&&(e.data={});var n=e.data;null==n.dataset&&(n.dataset={}),Object.assign(n.dataset,t)}(e,((r={})[a]=i,r)),void delete n[t]}!function(e,t){null==e.data&&(e.data={});var n=e.data;null==n.props&&(n.props={}),Object.assign(n.props,t)}(e,(o={},o[t]=i,o)),delete n[t]}}else e.key=i})),o.length>0&&o.forEach((function(e){"string"!=typeof e&&Qs(e)}))}var el=[];var tl={};function nl(e,t,n){return F(n.isInline(e)?"span":"div",null,t)}function rl(e,t){return void 0===t&&(t=!1),F("span",{"data-slate-string":!0},e,t?"\n":null)}function ol(e,t){return void 0===e&&(e=0),void 0===t&&(t=!1),F("span",{"data-slate-zero-width":t?"n":"z","data-slate-length":e},"\ufeff",t?F("br",null):null)}function il(e,t,n,r){return Ta.set(e,t),Ca.set(e,n),rt.isElement(e)?function(e,t){var n,r=os.findKey(t,e),o=t.isInline(e),i=st.isVoid(t,e),a=bs(r.id),s={id:a,key:r.id,"data-slate-node":"element","data-slate-inline":o},l=e.type,u=e.children,c=void 0===u?[]:u,d=tl[l]||nl;n=i?null:c.map((function(n,r){return il(n,r,e,t)}));var f=d(e,n,t);if(i){s["data-slate-void"]=!0;var p=o?"span":"div",h=fa(dt.texts(e),1),g=fa(h[0],1)[0],v=F(p,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},il(g,0,e,t));f=F(p,null,f,v),Ta.set(g,0),Ca.set(g,e)}return null==f.data&&(f.data={}),Object.assign(f.data,s),i||o||(f=function(e,t){var n=t;return el.forEach((function(r){n=r(e,t)})),n}(e,f)),Gs((function(){var t=document.getElementById(a);null!=t&&(Fa.set(r,t),ja.set(e,t),Pa.set(t,e))})),f}(e,r):function(e,t,n){if(null==e.text)throw new Error("Current node is not slate Text "+JSON.stringify(e));var r=os.findKey(n,e),o=n.getConfig().decorate;if(null==o)throw new Error("Can not get config.decorate");var i=os.findPath(n,e),a=o([e,i]),s=_t.decorations(e,a),l=s.map((function(r,o){var i=function(e,t,n,r,o){void 0===t&&(t=!1);var i=e.text,a=os.findPath(o,n),s=gt.parent(a);if(st.isEditor(r))throw new Error("Text node "+JSON.stringify(n)+" parent is Editor");return o.isVoid(r)?ol(dt.string(r).length):""!==i||r.children[r.children.length-1]!==n||o.isInline(r)||""!==st.string(o,s)?""===i?ol():t&&"\n"===i.slice(-1)?rl(i,!0):rl(i):ol(0,!0)}(r,o===s.length-1,e,t,n);return F("span",{"data-slate-leaf":!0},i=function(e,t){var n=t;return el.forEach((function(t){n=t(e,n)})),n}(r,i))})),u="w-e-text-"+r.id,c=F("span",{"data-slate-node":"text",id:u,key:r.id},l);return Gs((function(){var t=document.getElementById(u);null!=t&&(Fa.set(r,t),ja.set(e,t),Pa.set(t,e))})),c}(e,n,r)}function al(e,t){var n,r=e.$scroll,o="w-e-textarea-"+e.id,i=t.getConfig(),a=i.readOnly,s=i.autoFocus,l=function(e,t){return void 0===t&&(t=!1),h("div#"+e,{props:{contentEditable:!t}})}(o,a),u=t.children||[];l.children=u.map((function(e,n){var r=il(e,n,t,t);return Qs(r),r}));var c=Oa.get(e);if(null==c&&(c=!0),c){var d=function(e,t){return mr('<div\n        id="'+e+'"\n        data-slate-editor\n        data-slate-node="value"\n        suppressContentEditableWarning\n        data-gramm="false"\n        role="textarea"\n        spellCheck="true"\n        autoCorrect="true"\n        autoCapitalize="true"\n    ></div>')}(o);r.append(d),e.$textArea=d,n=d[0],(g=f([v,O,N,b,S]))(n,l),Oa.set(e,!1),_a.set(e,g)}else{var p=Aa.get(e),g=_a.get(e);if(null==p||null==g)return;g(p,l)}if(null!=n||null!=(n=document.getElementById(o))){if((c?s:t.isFocused())&&n.focus({preventScroll:!0}),c){var m=Ha(n);m&&Ia.set(t,m)}Na.set(t,n),ja.set(t,n),Pa.set(n,t),Aa.set(e,l)}}function sl(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function ll(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function ul(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return ll(n.overflowY,t)||ll(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function cl(e,t,n,r,o,i,a,s){return i<e&&a>t||i>e&&a<t?0:i<=e&&s<=n||a>=t&&s>=n?i-e-r:a>t&&s<n||i<e&&s>n?a-t+o:0}function dl(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,l="function"==typeof a?a:function(e){return e!==a};if(!sl(e))throw new TypeError("Invalid target");for(var u=document.scrollingElement||document.documentElement,c=[],d=e;sl(d)&&l(d);){if((d=d.parentElement)===u){c.push(d);break}null!=d&&d===document.body&&ul(d)&&!ul(document.documentElement)||null!=d&&ul(d,s)&&c.push(d)}for(var f=n.visualViewport?n.visualViewport.width:innerWidth,p=n.visualViewport?n.visualViewport.height:innerHeight,h=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,v=e.getBoundingClientRect(),m=v.height,y=v.width,b=v.top,w=v.right,x=v.bottom,E=v.left,S="start"===o||"nearest"===o?b:"end"===o?x:b+m/2,k="center"===i?E+y/2:"end"===i?w:E,O=[],_=0;_<c.length;_++){var A=c[_],T=A.getBoundingClientRect(),C=T.height,N=T.width,P=T.top,F=T.right,j=T.bottom,D=T.left;if("if-needed"===r&&b>=0&&E>=0&&x<=p&&w<=f&&b>=P&&x<=j&&E>=D&&w<=F)return O;var I=getComputedStyle(A),M=parseInt(I.borderLeftWidth,10),R=parseInt(I.borderTopWidth,10),L=parseInt(I.borderRightWidth,10),B=parseInt(I.borderBottomWidth,10),z=0,H=0,U="offsetWidth"in A?A.offsetWidth-A.clientWidth-M-L:0,$="offsetHeight"in A?A.offsetHeight-A.clientHeight-R-B:0;if(u===A)z="start"===o?S:"end"===o?S-p:"nearest"===o?cl(g,g+p,p,R,B,g+S,g+S+m,m):S-p/2,H="start"===i?k:"center"===i?k-f/2:"end"===i?k-f:cl(h,h+f,f,M,L,h+k,h+k+y,y),z=Math.max(0,z+g),H=Math.max(0,H+h);else{z="start"===o?S-P-R:"end"===o?S-j+B+$:"nearest"===o?cl(P,j,C,R,B+$,S,S+m,m):S-(P+C/2)+$/2,H="start"===i?k-D-M:"center"===i?k-(D+N/2)+U/2:"end"===i?k-F+L+U:cl(D,F,N,M,L+U,k,k+y,y);var V=A.scrollLeft,q=A.scrollTop;S+=q-(z=Math.max(0,Math.min(q+z,A.scrollHeight-C+$))),k+=V-(H=Math.max(0,Math.min(V+H,A.scrollWidth-N+U)))}O.push({el:A,top:z,left:H})}return O}function fl(e){return e===Object(e)&&0!==Object.keys(e).length}function pl(e,t){return $a(t)&&os.hasDOMNode(e,t,{editable:!0})}function hl(e,t){var n=gl(e,t)&&os.toSlateNode(e,t);return st.isVoid(e,n)}function gl(e,t){return $a(t)&&os.hasDOMNode(e,t)}var vl=new WeakMap,ml=new WeakMap,yl={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z",tab:"tab"},bl={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},wl={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},xl=function(e){var t=yl[e],n=bl[e],r=wl[e],o=t&&zi(t),i=n&&zi(n),a=r&&zi(r);return function(e){return!(!o||!o(e))||!!(Za&&i&&i(e))||!(Za||!a||!a(e))}},El={isBold:xl("bold"),isCompose:xl("compose"),isMoveBackward:xl("moveBackward"),isMoveForward:xl("moveForward"),isDeleteBackward:xl("deleteBackward"),isDeleteForward:xl("deleteForward"),isDeleteLineBackward:xl("deleteLineBackward"),isDeleteLineForward:xl("deleteLineForward"),isDeleteWordBackward:xl("deleteWordBackward"),isDeleteWordForward:xl("deleteWordForward"),isExtendBackward:xl("extendBackward"),isExtendForward:xl("extendForward"),isExtendLineBackward:xl("extendLineBackward"),isExtendLineForward:xl("extendLineForward"),isItalic:xl("italic"),isMoveLineBackward:xl("moveLineBackward"),isMoveLineForward:xl("moveLineForward"),isMoveWordBackward:xl("moveWordBackward"),isMoveWordForward:xl("moveWordForward"),isRedo:xl("redo"),isSplitBlock:xl("splitBlock"),isTransposeCharacter:xl("transposeCharacter"),isUndo:xl("undo"),isTab:xl("tab")};function Sl(e){e.preventDefault()}var kl={beforeinput:function(e,t,n){var r=e,o=n.getConfig().readOnly;if(rs&&!o&&pl(n,r.target)){var i=n.selection,a=r.inputType,s=r.dataTransfer||r.data||void 0;if("insertCompositionText"!==a&&"deleteCompositionText"!==a){if(r.preventDefault(),!a.startsWith("delete")||a.startsWith("deleteBy")){var l=fa(r.getTargetRanges(),1)[0];if(l){var u=os.toSlateRange(n,l,{exactMatch:!1});i&&Et.equals(i,u)||Ht.select(n,u)}}if(i&&Et.isExpanded(i)&&a.startsWith("delete")){var c=a.endsWith("Backward")?"backward":"forward";st.deleteFragment(n,{direction:c})}else switch(a){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":st.deleteFragment(n);break;case"deleteContent":case"deleteContentForward":st.deleteForward(n);break;case"deleteContentBackward":st.deleteBackward(n);break;case"deleteEntireSoftLine":st.deleteBackward(n,{unit:"line"}),st.deleteForward(n,{unit:"line"});break;case"deleteHardLineBackward":st.deleteBackward(n,{unit:"block"});break;case"deleteSoftLineBackward":st.deleteBackward(n,{unit:"line"});break;case"deleteHardLineForward":st.deleteForward(n,{unit:"block"});break;case"deleteSoftLineForward":st.deleteForward(n,{unit:"line"});break;case"deleteWordBackward":st.deleteBackward(n,{unit:"word"});break;case"deleteWordForward":st.deleteForward(n,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":st.insertBreak(n);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===a&&(t.isComposing=!1),s instanceof DataTransfer?n.insertData(s):"string"==typeof s&&st.insertText(n,s)}}}},blur:function(e,t,n){var r=e,o=t.isUpdatingSelection,i=t.latestElement;if(!n.getConfig().readOnly&&!o&&pl(n,r.target)){var a=os.findDocumentOrShadowRoot(n);if(i!==a.activeElement){var s=r.relatedTarget;if(!(s===os.toDOMNode(n,n)||Ua(s)&&s.hasAttribute("data-slate-spacer"))){if(null!=s&&$a(s)&&os.hasDOMNode(n,s)){var l=os.toSlateNode(n,s);if(rt.isElement(l)&&!n.isVoid(l))return}if(Qa){var u=a.getSelection();null==u||u.removeAllRanges()}Ma.delete(n)}}}},focus:function(e,t,n){var r=os.toDOMNode(n,n),o=os.findDocumentOrShadowRoot(n);t.latestElement=o.activeElement,Ya&&e.target!==r?r.focus():Ma.set(n,!0)},click:function(e,t,n){if(!n.getConfig().readOnly&&gl(n,e.target)&&$a(e.target)){var r=os.toSlateNode(n,e.target),o=os.findPath(n,r),i=st.start(n,o),a=st.end(n,o),s=st.void(n,{at:i}),l=st.void(n,{at:a});if(s&&l&&gt.equals(s[1],l[1])){var u=st.range(n,i);Ht.select(n,u)}}},compositionstart:function(e,t,n){if(pl(n,e.target)){var r=n.selection;if(r&&Et.isExpanded(r)&&st.deleteFragment(n),r&&Et.isCollapsed(r)){var o=os.toDOMRange(n,r).startContainer,i=o.textContent||"";vl.set(n,i),ml.set(n,o)}}},compositionend:function(e,t,n){var r=e;if(pl(n,r.target)){t.isComposing=!1;var o=n.selection;if(null!=o){var i=r.data;if(os.checkMaxLength(n,i))return os.toDOMRange(n,o).startContainer.textContent=vl.get(n)||"",void t.changeViewState();Qa||Ja||!i||st.insertText(n,i),ns&&os.cleanExposedTexNodeInSelectionBlock(n),Qa||setTimeout((function(){var e=n.selection;if(null!=e){var t=ml.get(n);null!=t&&os.toDOMRange(n,e).startContainer!==t&&(t.textContent=vl.get(n)||"")}}))}}},compositionupdate:function(e,t,n){pl(n,e.target)&&(t.isComposing=!0)},keydown:function(e,t,n){var r=e,o=n.selection;if(!n.getConfig().readOnly&&pl(n,r.target)){if(function(e,t){var n=ba.get(e),r=n&&n.getMenus(),o=xa.get(e),i=o&&o.getMenus(),a=ca(ca({},r),i);for(var s in a){var l=a[s],u=l.hotkey;if(u&&Bi(u,t)&&!l.isDisabled(e)){var c=l.getValue(e);l.exec(e,c)}}}(n,r),El.isTab(r))return Sl(r),void n.handleTab();if(El.isRedo(r))return Sl(r),void("function"==typeof n.redo&&n.redo());if(El.isUndo(r))return Sl(r),void("function"==typeof n.undo&&n.undo());if(El.isMoveLineBackward(r))return Sl(r),void Ht.move(n,{unit:"line",reverse:!0});if(El.isMoveLineForward(r))return Sl(r),void Ht.move(n,{unit:"line"});if(El.isExtendLineBackward(r))return Sl(r),void Ht.move(n,{unit:"line",edge:"focus",reverse:!0});if(El.isExtendLineForward(r))return Sl(r),void Ht.move(n,{unit:"line",edge:"focus"});if(El.isMoveBackward(r))return Sl(r),void(o&&Et.isCollapsed(o)?Ht.move(n,{reverse:!0}):Ht.collapse(n,{edge:"start"}));if(El.isMoveForward(r))return Sl(r),void(o&&Et.isCollapsed(o)?Ht.move(n):Ht.collapse(n,{edge:"end"}));if(El.isMoveWordBackward(r))return Sl(r),o&&Et.isExpanded(o)&&Ht.collapse(n,{edge:"focus"}),void Ht.move(n,{unit:"word",reverse:!0});if(El.isMoveWordForward(r))return Sl(r),o&&Et.isExpanded(o)&&Ht.collapse(n,{edge:"focus"}),void Ht.move(n,{unit:"word"});if(rs){if((ns||Qa)&&o&&(El.isDeleteBackward(r)||El.isDeleteForward(r))&&Et.isCollapsed(o)){var i=dt.parent(n,o.anchor.path);if(rt.isElement(i)&&st.isVoid(n,i)&&st.isInline(n,i))return r.preventDefault(),void Ht.delete(n,{unit:"block"})}}else{if(El.isBold(r)||El.isItalic(r)||El.isTransposeCharacter(r))return void Sl(r);if(El.isSplitBlock(r))return Sl(r),void st.insertBreak(n);if(El.isDeleteBackward(r))return Sl(r),void(o&&Et.isExpanded(o)?st.deleteFragment(n,{direction:"backward"}):st.deleteBackward(n));if(El.isDeleteForward(r))return Sl(r),void(o&&Et.isExpanded(o)?st.deleteFragment(n,{direction:"forward"}):st.deleteForward(n));if(El.isDeleteLineBackward(r))return Sl(r),void(o&&Et.isExpanded(o)?st.deleteFragment(n,{direction:"backward"}):st.deleteBackward(n,{unit:"line"}));if(El.isDeleteLineForward(r))return Sl(r),void(o&&Et.isExpanded(o)?st.deleteFragment(n,{direction:"forward"}):st.deleteForward(n,{unit:"line"}));if(El.isDeleteWordBackward(r))return Sl(r),void(o&&Et.isExpanded(o)?st.deleteFragment(n,{direction:"backward"}):st.deleteBackward(n,{unit:"word"}));if(El.isDeleteWordForward(r))return Sl(r),void(o&&Et.isExpanded(o)?st.deleteFragment(n,{direction:"forward"}):st.deleteForward(n,{unit:"word"}))}}},keypress:function(e,t,n){if(!rs&&!n.getConfig().readOnly&&pl(n,e.target)){e.preventDefault();var r=e.key;st.insertText(n,r)}},copy:function(e,t,n){var r=e;if(pl(n,r.target)){r.preventDefault();var o=r.clipboardData;null!=o&&n.setFragmentData(o)}},cut:function(e,t,n){var r=e,o=n.selection;if(!n.getConfig().readOnly&&pl(n,r.target)){r.preventDefault();var i=r.clipboardData;if(null!=i&&(n.setFragmentData(i),o))if(Et.isExpanded(o))st.deleteFragment(n);else{var a=dt.parent(n,o.anchor.path);st.isVoid(n,a)&&Ht.delete(n)}}},paste:function(e,t,n){var r=e;if(!n.getConfig().readOnly&&pl(n,r.target)&&(!rs||function(e){return e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length}(r))){r.preventDefault();var o=r.clipboardData;null!=o&&n.insertData(o)}},dragover:function(e,t,n){if(gl(n,e.target)){var r=os.toSlateNode(n,e.target);st.isVoid(n,r)&&e.preventDefault()}},dragstart:function(e,t,n){var r=e;if(gl(n,r.target)){var o=os.toSlateNode(n,r.target),i=os.findPath(n,o);if(st.isVoid(n,o)||st.void(n,{at:i,voids:!0})){var a=st.range(n,i);Ht.select(n,a)}var s=r.dataTransfer;null!=s&&(t.isDraggingInternally=!0,n.setFragmentData(s))}},dragend:function(e,t,n){var r=e;n.getConfig().readOnly||t.isDraggingInternally&&gl(n,r.target)&&(t.isDraggingInternally=!1)},drop:function(e,t,n){var r=e,o=r.dataTransfer;if(!n.getConfig().readOnly&&gl(n,r.target)&&null!=o&&!(rs&&Qa&&o.files.length>0)){r.preventDefault();var i=n.selection,a=os.findEventRange(n,r);Ht.select(n,a),t.isDraggingInternally&&(i&&Ht.delete(n,{at:i}),t.isDraggingInternally=!1),n.insertData(o),n.isFocused()||n.focus()}}},Ol=1,_l=function(){function e(e){var t=this;this.id=Ol++,this.$textArea=null,this.$progressBar=mr('<div class="w-e-progress-bar"></div>'),this.isComposing=!1,this.isUpdatingSelection=!1,this.isDraggingInternally=!1,this.latestElement=null,this.showPlaceholder=!1,this.$placeholder=null,this.latestEditorSelection=null,this.onDOMSelectionChange=io((function(){var e=t.editorInstance;!function(e,t){var n=e.isComposing,r=e.isUpdatingSelection,o=e.isDraggingInternally;if(!(t.getConfig().readOnly||n||r||o)){var i=os.findDocumentOrShadowRoot(t),a=i.activeElement,s=os.toDOMNode(t,t),l=i.getSelection();if(a===s?(e.latestElement=a,Ma.set(t,!0)):Ma.delete(t),!l)return Ht.deselect(t);var u=l.anchorNode,c=l.focusNode,d=pl(t,u)||hl(t,u),f=pl(t,c)||hl(t,c);if(d&&f){var p=os.toSlateRange(t,l,{exactMatch:!1});Ht.select(t,p)}else Ht.deselect(t)}}(t,e)}),100);var n=mr(e);if(0===n.length)throw new Error("Cannot find textarea DOM by selector '"+e+"'");this.$box=n;var r=mr('<div class="w-e-text-container"></div>');r.append(this.$progressBar),n.append(r);var o=mr('<div class="w-e-scroll"></div>');r.append(o),this.$scroll=o,this.$textAreaContainer=r,Gs((function(){var e=t.editorInstance,n=os.getWindow(e);n.document.addEventListener("selectionchange",t.onDOMSelectionChange),e.on("destroyed",(function(){n.document.removeEventListener("selectionchange",t.onDOMSelectionChange)})),r.on("mousedown",(function(){return e.hidePanelOrModal()})),e.on("change",t.changeViewState.bind(t));var o=e.getConfig().onChange;o&&e.on("change",(function(){return o(e)})),t.onFocusAndOnBlur(),t.bindEvent()}))}return Object.defineProperty(e.prototype,"editorInstance",{get:function(){var e=ma.get(this);if(null==e)throw new Error("Can not get editor instance");return e},enumerable:!1,configurable:!0}),e.prototype.bindEvent=function(){var e=this,t=this.$textArea,n=this.$scroll,r=this.editorInstance;null!=t&&(Co(kl,(function(n,o){t.on(o,(function(t){n(t,e,r)}))})),r.getConfig().scroll&&(n.css("overflow-y","auto"),n.on("scroll",io((function(){r.emit("scroll")}),100))))},e.prototype.onFocusAndOnBlur=function(){var e=this,t=this.editorInstance,n=t.getConfig(),r=n.onBlur,o=n.onFocus;this.latestEditorSelection=t.selection,t.on("change",(function(){null==e.latestEditorSelection&&null!=t.selection?o&&o(t):null!=e.latestEditorSelection&&null==t.selection&&r&&r(t),e.latestEditorSelection=t.selection}))},e.prototype.changeViewState=function(){var e=this,t=this.editorInstance;al(this,t),function(e,t){var n,r=t.getConfig().placeholder;if(r){var o=os.isEditorEmpty(t);if(o&&!e.showPlaceholder){if(null==e.$placeholder){var i=mr('<div class="w-e-text-placeholder">'+r+"</div>");e.$textAreaContainer.append(i),e.$placeholder=i}return e.$placeholder.show(),void(e.showPlaceholder=!0)}!o&&e.showPlaceholder&&(null===(n=e.$placeholder)||void 0===n||n.hide(),e.showPlaceholder=!1)}}(this,t),Gs((function(){!function(e,t){var n=t.selection,r=os.findDocumentOrShadowRoot(t).getSelection();if(r&&!e.isComposing&&t.isFocused()){var o="None"!==r.type;if(n||o){var i=Na.get(t),a=!1;if(i.contains(r.anchorNode)&&i.contains(r.focusNode)&&(a=!0),o&&a&&n){var s=os.toSlateRange(t,r,{exactMatch:!0});if(s&&Et.equals(s,n)){var l=!0;if(Et.isCollapsed(n)){var u=r.anchorNode,c=r.anchorOffset;if(u===i){var d=i.childNodes,f=void 0;(f=d[c])&&f.matches("table")&&(l=!1),(f=d[c-1])&&f.matches("table")&&(l=!1)}}if(l)return}}if(!n||os.hasRange(t,n)){e.isUpdatingSelection=!0;var p=n&&os.toDOMRange(t,n);if(p){Et.isBackward(n)?r.setBaseAndExtent(p.endContainer,p.endOffset,p.startContainer,p.startOffset):r.setBaseAndExtent(p.startContainer,p.startOffset,p.endContainer,p.endOffset);var h=p.startContainer.parentElement;h.getBoundingClientRect=p.getBoundingClientRect.bind(p),function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(fl(t)&&"function"==typeof t.behavior)return t.behavior(n?[]:dl(e,t));if(!n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:fl(e)?e:{block:"start",inline:"nearest"}}(t);(function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,o=e.top,i=e.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:t}):(r.scrollTop=o,r.scrollLeft=i)}))})(dl(e,r),r.behavior)}}(h,{scrollMode:"if-needed",boundary:i}),delete h.getBoundingClientRect}else r.removeAllRanges();setTimeout((function(){p&&Ya&&i.focus(),e.isUpdatingSelection=!1}))}else t.selection=os.toSlateRange(t,r,{exactMatch:!1})}}}(e,t)}))},e.prototype.destroy=function(){this.$textAreaContainer.remove()},e}();function Al(e){e.removeAttr("width"),e.removeAttr("height"),e.removeAttr("fill"),e.removeAttr("class"),e.removeAttr("t"),e.removeAttr("p-id");var t=e.children();t.length&&Al(t)}function Tl(){return mr('<svg viewBox="0 0 1024 1024"><path d="M498.7 655.8l-197.6-268c-8.1-10.9-0.3-26.4 13.3-26.4h395.2c13.6 0 21.4 15.4 13.3 26.4l-197.6 268c-6.6 9-20 9-26.6 0z"></path></svg>')}function Cl(){return mr('<div class="w-e-bar-divider"></div>')}function Nl(e,t,n,r,o){if(void 0===o&&(o=!1),t){if(r){var i=Za?"cmd":"ctrl";r=r.replace("mod",i)}if(o)r&&(e.attr("data-tooltip",r),e.addClass("w-e-menu-tooltip"),e.addClass("tooltip-right"));else{var a=r?n+"\n"+r:n;e.attr("data-tooltip",a),e.addClass("w-e-menu-tooltip")}}}var Pl=function(){function e(e,t){var n=this;void 0===t&&(t=!1),this.$elem=mr('<div class="w-e-bar-item"></div>'),this.$button=mr("<button></button>"),this.disabled=!1,this.menu=e;var r=e.tag,o=e.width;if("button"!==r)throw new Error("Invalid tag '"+r+"', expected 'button'");var i=e.title,a=e.hotkey,s=void 0===a?"":a,l=e.iconSvg,u=void 0===l?"":l,c=this.$button;if(u){var d=mr(u);Al(d),c.append(d)}else c.text(i);Nl(c,u,i,s,t),t&&u&&c.append(mr('<span class="title">'+i+"</span>")),o&&c.css("width",o+"px"),this.$elem.append(c),Gs((function(){return n.init()}))}return e.prototype.init=function(){var e=this;this.setActive(),this.setDisabled(),this.$button.on("mousedown",(function(t){t.preventDefault(),Vl(e).hidePanelOrModal(),e.disabled||(e.exec(),e.onButtonClick())}))},e.prototype.exec=function(){var e=Vl(this),t=this.menu,n=t.getValue(e);t.exec(e,n)},e.prototype.setActive=function(){var e=Vl(this),t=this.$button,n="active";this.menu.isActive(e)?t.addClass(n):t.removeClass(n)},e.prototype.setDisabled=function(){var e=Vl(this),t=this.$button,n=this.menu.isDisabled(e);(null==e.selection||e.isDisabled())&&(n=!0);var r="disabled";n?t.addClass(r):t.removeClass(r),this.disabled=n},e.prototype.changeMenuState=function(){this.setActive(),this.setDisabled()},e}(),Fl=function(e){function t(t,n){return void 0===n&&(n=!1),e.call(this,t,n)||this}return ua(t,e),t.prototype.onButtonClick=function(){},t}(Pl),jl=function(){function e(e){this.isShow=!1,this.showTime=0,this.record(e)}return e.prototype.record=function(e){var t=Sa.get(e);null==t&&(t=new Set,Sa.set(e,t)),t.add(this)},e.prototype.renderContent=function(e){var t=this.$elem;t.html(""),t.append(e);var n=this.genSelfElem();n&&t.append(n)},e.prototype.appendTo=function(e){var t=this.$elem;e.append(t)},e.prototype.show=function(){this.isShow||(this.showTime=Date.now(),this.$elem.show(),this.isShow=!0)},e.prototype.hide=function(){this.isShow&&(Date.now()-this.showTime<200||(this.$elem.hide(),this.isShow=!1))},e}(),Dl=function(e){function t(t){var n=e.call(this,t)||this;return n.$elem=mr('<div class="w-e-drop-panel"></div>'),n}return ua(t,e),t.prototype.genSelfElem=function(){return null},t}(jl),Il=function(e){function t(t,n){void 0===n&&(n=!1);var r=e.call(this,t,n)||this;if(r.dropPanel=null,r.menu=t,t.showDropPanel){var o=Tl();r.$button.append(o)}return r}return ua(t,e),t.prototype.onButtonClick=function(){this.menu.showDropPanel&&this.handleDropPanel()},t.prototype.handleDropPanel=function(){var e=this.menu;if(null!=e.getPanelContentElem){var t=Vl(this);if(null==this.dropPanel){var n=new Dl(t),r=e.getPanelContentElem(t);n.renderContent(r),n.appendTo(this.$elem),n.show(),this.dropPanel=n}else{var o=this.dropPanel;o.isShow?o.hide():(r=e.getPanelContentElem(t),o.renderContent(r),o.show())}var i=this.dropPanel;if(i.isShow){var a=this.$elem,s=a.offset().left,l=a.parents(".w-e-bar");s-l.offset().left>=l.width()/2?i.$elem.css({left:"none",right:"0"}):i.$elem.css({left:"0",right:"none"})}}},t}(Pl),Ml=function(e){function t(t,n){void 0===n&&(n=0);var r=e.call(this,t)||this;r.$elem=mr('<div class="w-e-modal"></div>'),r.width=0,n&&(r.width=n);var o=r.$elem;return o.on("mousedown",(function(e){return e.stopPropagation()})),o.on("keyup",(function(e){"Escape"===e.code&&(r.hide(),t.restoreSelection())})),r}return ua(t,e),t.prototype.genSelfElem=function(){var e=this,t=mr('<span class="btn-close"><svg viewBox="0 0 1024 1024"><path d="M1024 896.1024l-128 128L512 640 128 1024 0 896 384 512 0 128 128 0 512 384 896.1024 0l128 128L640 512z"></path></svg></span>');return t.on("click",(function(){return e.hide()})),t},t.prototype.setStyle=function(e){var t=this.width,n=this.$elem;n.attr("style",""),t&&n.css("width",t+"px"),n.css(e)},t}(jl);function Rl(e,t,n){var r=mr('<label class="babel-container"></label>');r.append("<span>"+e+"</span>");var o=mr('<input type="text" id="'+t+'" placeholder="'+(n||"")+'">');return r.append(o),[r,o]}function Ll(e,t){var n=mr('<div class="button-container"></div>'),r=mr('<button id="'+e+'">'+t+"</button>");return n.append(r),[n,r]}var Bl=function(e){function t(t,n){void 0===n&&(n=!1);var r=e.call(this,t,n)||this;return r.modal=null,r.menu=t,r}return ua(t,e),t.prototype.onButtonClick=function(){this.menu.showModal&&this.handleModal()},t.prototype.getPosition=function(){var e=Vl(this),t=this.menu.getModalPositionNode(e);return rt.isElement(t)?Zs(e,t,"modal"):Xs(e)},t.prototype.handleModal=function(){var e=Vl(this),t=this.menu;if(null==this.modal){var n=new Ml(e,t.modalWidth);this.renderAndShowModal(n,!0),this.modal=n}else(n=this.modal).isShow?n.hide():this.renderAndShowModal(n,!1)},t.prototype.renderAndShowModal=function(e,t){void 0===t&&(t=!1);var n=Vl(this),r=this.menu;if(null!=r.getModalContentElem){var o=os.getTextarea(n),i=r.getModalContentElem(n);e.renderContent(i);var a=this.getPosition();e.setStyle(a),t&&e.appendTo(o.$textAreaContainer),e.show(),Ys(n,e.$elem)}},t}(Pl),zl=function(e){function t(t,n){var r=e.call(this,t)||this;return r.$elem=mr('<div class="w-e-select-list"></div>'),n&&r.$elem.css("width",n+"px"),r}return ua(t,e),t.prototype.renderList=function(e){var t=this.$elem;t.html("");var n=mr("<ul></ul>");e.forEach((function(e){var t=e.value,r=e.text,o=e.selected,i=e.styleForRenderMenuList,a=mr('<li data-value="'+t+'"></li>');if(i&&a.css(i),o){var s=mr('<svg viewBox="0 0 1446 1024"><path d="M574.116299 786.736392 1238.811249 48.517862C1272.390222 11.224635 1329.414799 7.827718 1366.75664 41.450462 1403.840015 74.840484 1406.731043 132.084741 1373.10189 169.433699L655.118888 966.834607C653.072421 969.716875 650.835807 972.514337 648.407938 975.210759 615.017957 1012.29409 558.292155 1015.652019 521.195664 982.250188L72.778218 578.493306C35.910826 545.297758 32.859041 488.584019 66.481825 451.242134 99.871807 414.158803 156.597563 410.800834 193.694055 444.202665L574.116299 786.736392Z"></path></svg>');a.append(s),a.addClass("selected")}a.append(mr('<span data-value="'+t+'">'+r+"</span>")),n.append(a)})),t.append(n)},t.prototype.genSelfElem=function(){return null},t}(jl),Hl=function(){function e(e,t){var n=this;void 0===t&&(t=!1),this.$elem=mr('<div class="w-e-bar-item"></div>'),this.$button=mr('<button class="select-button"></button>'),this.disabled=!1,this.selectList=null;var r=e.tag,o=e.title,i=e.width,a=e.iconSvg,s=void 0===a?"":a,l=e.hotkey,u=void 0===l?"":l;if("select"!==r)throw new Error("Invalid tag '"+r+"', expected 'select'");var c=this.$button;i&&c.css("width",i+"px"),Nl(c,s,o,u,t),this.$elem.append(c),this.menu=e,Gs((function(){return n.init()}))}return e.prototype.init=function(){var e=this;this.setSelectedValue(),this.$button.on("mousedown",(function(t){t.preventDefault(),Vl(e).hidePanelOrModal(),e.trigger()}))},e.prototype.trigger=function(){var e=this,t=Vl(this);if(!t.isDisabled()&&!this.disabled){var n=this.menu;if(null==this.selectList){this.selectList=new zl(t,n.selectPanelWidth);var r=this.selectList,o=n.getOptions(t);r.renderList(o),r.appendTo(this.$elem),r.show(),r.$elem.on("mousedown","li",(function(t){var n=t.target;if(null!=n){t.preventDefault();var r=mr(n).attr("data-value");e.onChange(r)}}))}else(r=this.selectList).isShow?r.hide():(o=n.getOptions(t),r.renderList(o),r.show())}},e.prototype.onChange=function(e){var t=Vl(this),n=this.menu;n.exec&&n.exec(t,e)},e.prototype.setSelectedValue=function(){var e=Vl(this),t=this.menu,n=t.getValue(e),r=function(e,t){for(var n=e.length,r="",o=0;o<n;o++){var i=e[o];if(i.value===t){r=i.text;break}}return r}(t.getOptions(e),n.toString()),o=this.$button,i=Tl();o.html(""),o.text(r),o.append(i)},e.prototype.setDisabled=function(){var e=Vl(this),t=this.menu.isDisabled(e),n=this.$button;(null==e.selection||e.isDisabled())&&(t=!0);var r="disabled";t?n.addClass(r):n.removeClass(r),this.disabled=t},e.prototype.changeMenuState=function(){this.setSelectedValue(),this.setDisabled()},e}(),Ul=function(){function e(e){this.$elem=mr('<div class="w-e-bar-item w-e-bar-item-group"></div>'),this.$container=mr('<div class="w-e-bar-item-menus-container"></div>'),this.$button=mr("<button></button>");var t=e.iconSvg,n=e.title,r=this.$elem,o=this.$button;if(t){var i=mr(t);Al(i),o.append(i)}else o.text(n);var a=Tl();o.append(a),r.append(o);var s=this.$container;r.append(s);var l=this.createObserver();this.observe(l)}return e.prototype.appendBarItem=function(e){var t=e.$elem;this.$container.append(t)},e.prototype.observe=function(e){var t=this.$container;e.observe(t[0],{childList:!0,subtree:!0,attributes:!0})},e.prototype.createObserver=function(){var e=this,t=this.$container,n=this.$button,r=new MutationObserver((function(){var o=t.find("button"),i=o.length;if(0!==i){var a=0;o.each((function(e){mr(e).hasClass("disabled")&&a++})),r.disconnect(),a===i?n.addClass("disabled"):n.removeClass("disabled"),e.observe(r)}}));return r},e}(),$l=new WeakMap;function Vl(e){var t=Ea.get(e);if(null==t)throw new Error("Can not get editor instance");return t}function ql(e,t){void 0===t&&(t=!1);var n=$l.get(e);if(n)return n;var r=e.tag;if("button"===r){var o=e.showDropPanel,i=e.showModal;n=o?new Il(e,t):i?new Bl(e,t):new Fl(e,t)}if("select"===r&&(n=new Hl(e,t)),null==n)throw new Error("Invalid tag in menu "+JSON.stringify(e));return $l.set(e,n),n}var Wl=function(){function e(){var e=this;this.$elem=mr('<div class="w-e-bar w-e-bar-hidden w-e-hover-bar"></div>'),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null,this.isShow=!1,this.changeHoverbarState=ta((function(){var t=e.isShow,n=e.getSelectedNodeAndMenuKeys()||{},r=n.node,o=void 0===r?null:r,i=n.menuKeys,a=void 0===i?[]:i;null!=o&&e.changeItemsState(),o&&rt.isElement(o)&&t&&e.isSamePath(o,e.prevSelectedNode)||(e.hideAndClean(),null!=o&&(e.registerItems(a),e.setPosition(o),e.show()),e.prevSelectedNode=o)}),200),Gs((function(){var t=e.getEditorInstance(),n=e.$elem;n.on("mousedown",(function(e){return e.preventDefault()})),os.getTextarea(t).$textAreaContainer.append(n),t.on("change",e.changeHoverbarState);var r=e.hideAndClean.bind(e);t.on("scroll",r),t.on("fullScreen",r),t.on("unFullScreen",r)}))}return e.prototype.getMenus=function(){return this.menus},e.prototype.hideAndClean=function(){var e=this.$elem;e.removeClass("w-e-bar-show").addClass("w-e-bar-hidden"),this.hoverbarItems=[],e.html(""),this.isShow=!1},e.prototype.show=function(){this.$elem.removeClass("w-e-bar-hidden").addClass("w-e-bar-show"),this.isShow=!0},e.prototype.changeItemsState=function(){var e=this;Gs((function(){e.hoverbarItems.forEach((function(e){e.changeMenuState()}))}))},e.prototype.registerItems=function(e){var t=this,n=this.$elem;e.forEach((function(e){if("|"!==e)t.registerSingleItem(e);else{var r=Cl();n.append(r)}}))},e.prototype.registerSingleItem=function(e){var t=this.getEditorInstance(),n=this.menus,r=n[e];if(null==r){var o=ss[e];if(null==o)throw new Error("Not found menu item factory by key '"+e+"'");if("function"!=typeof o)throw new Error("Menu item factory (key='"+e+"') is not a function");r=o(),n[e]=r}var i=ql(r);this.hoverbarItems.push(i),Ea.set(i,t),this.$elem.append(i.$elem)},e.prototype.setPosition=function(e){var t=this.getEditorInstance(),n=this.$elem;if(n.attr("style",""),rt.isElement(e)){var r=Zs(t,e,"bar");return n.css(r),void Ys(t,n)}if(_t.isText(e))return r=Xs(t),n.css(r),void Ys(t,n);throw new Error("hoverbar.setPosition error, current selected node is not elem nor text")},e.prototype.getSelectedNodeAndMenuKeys=function(){var e=this.getEditorInstance();if(null==e.selection)return null;var t=this.getHoverbarKeysConf(),n=null,r=[];return t.some((function(t){var o=t.match,i=t.menuKeys,a=fa(st.nodes(e,{match:function(t){return o(e,t)},universal:!0}),1)[0];if(null!=a)return n=a[0],r=i,!0})),null==n?null:{node:n,menuKeys:r}},e.prototype.getEditorInstance=function(){var e=wa.get(this);if(null==e)throw new Error("Can not get editor instance");return e},e.prototype.getHoverbarKeysConf=function(){return this.getEditorInstance().getConfig().hoverbarKeys||[]},e.prototype.isSamePath=function(e,t){if(null==e||null==t)return!1;var n=os.findPath(null,e),r=os.findPath(null,t);return gt.equals(n,r)},e.prototype.destroy=function(){this.$elem.remove(),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null},e}();function Gl(e,t,n){var r=mr(n);return!!r.attr(t)||(r.attr(t,"true"),e.on("destroyed",(function(){r.removeAttr(t)})),!1)}function Kl(e){var t,n=e.textareaSelector,r=void 0===n?"":n,o=e.config,i=void 0===o?{}:o,a=e.content,s=e.plugins,l=void 0===s?[]:s,u=(e=>{var t=e,{apply:n}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:e}=t,{redos:n}=e;if(n.length>0){var r=n[n.length-1];sa.withoutSaving(t,(()=>{st.withoutNormalizing(t,(()=>{for(var e of r)t.apply(e)}))})),e.redos.pop(),e.undos.push(r)}},t.undo=()=>{var{history:e}=t,{undos:n}=e;if(n.length>0){var r=n[n.length-1];sa.withoutSaving(t,(()=>{st.withoutNormalizing(t,(()=>{var e=r.map(ht.inverse).reverse();for(var n of e)t.apply(n)}))})),e.redos.push(r),e.undos.pop()}},t.apply=e=>{var{operations:r,history:o}=t,{undos:i}=o,a=i[i.length-1],s=a&&a[a.length-1],l=((e,t)=>!(!t||"set_selection"!==e.type||"set_selection"!==t.type))(e,s),u=sa.isSaving(t),c=sa.isMerging(t);if(null==u&&(u=((e,t)=>"set_selection"!==e.type||null!=e.properties&&null!=e.newProperties)(e)),u){if(null==c&&(c=null!=a&&(0!==r.length||((e,t)=>"set_selection"===e.type||!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!gt.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!gt.equals(e.path,t.path)))(e,s)||l)),a&&c)l&&a.pop(),a.push(e);else{var d=[e];i.push(d)}for(;i.length>100;)i.shift();(e=>"set_selection"!==e.type)(e)&&(o.redos=[])}n(e)},t})(function(e){var t=e;return t.on=function(e,n){var r=Vs(t);if(r.on(e,n),"destroyed"===e&&Ws(t,n),"destroyed"!==e){var o=function(){return r.off(e,n)};r.on("destroyed",o),Ws(t,o)}},t.once=function(e,n){Vs(t).once(e,n)},t.off=function(e,n){Vs(t).off(e,n)},t.emit=function(e){var n=Vs(t);n.emit(e),"destroyed"===e&&(function(e){return qs.get(e)||new Set}(t).forEach((function(e){return n.off("destroyed",e)})),function(e){qs.set(e,new Set)}(t))},t}(function(e){var t=e;return t.select=function(e){Ht.select(t,e)},t.deselect=function(){var n=t.selection,r=os.findDocumentOrShadowRoot(t).getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),n&&Ht.deselect(e)},t.restoreSelection=function(){var e=La.get(t);null!=e&&(t.focus(),Ht.select(t,e))},t.getSelectionPosition=function(){return Xs(t)},t.getNodePosition=function(e){return Zs(t,e)},t}(function(e){var t=e,n=t.onChange,r=t.insertText,o=t.apply,i=t.deleteBackward;return t.apply=function(e){var n,r,i,a,s,l,u,c,d=[];switch(e.type){case"insert_text":case"remove_text":case"set_node":try{for(var f=da(st.levels(t,{at:e.path})),p=f.next();!p.done;p=f.next()){var h=fa(p.value,2),g=h[0],v=h[1],m=os.findKey(t,g);d.push([v,m])}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":try{for(var y=da(st.levels(t,{at:gt.parent(e.path)})),b=y.next();!b.done;b=y.next()){var w=fa(b.value,2);g=w[0],v=w[1],m=os.findKey(t,g),d.push([v,m])}}catch(e){i={error:e}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}break;case"move_node":try{for(var x=da(st.levels(t,{at:gt.common(gt.parent(e.path),gt.parent(e.newPath))})),E=x.next();!E.done;E=x.next()){var S=fa(E.value,2);g=S[0],v=S[1],m=os.findKey(t,g),d.push([v,m])}}catch(e){s={error:e}}finally{try{E&&!E.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}}o(e);try{for(var k=da(d),O=k.next();!O.done;O=k.next()){var _=fa(O.value,2);v=_[0],m=_[1],g=fa(st.node(t,v),1)[0],Da.set(g,m)}}catch(e){u={error:e}}finally{try{O&&!O.done&&(c=k.return)&&c.call(k)}finally{if(u)throw u.error}}},t.deleteBackward=function(n){if("line"!==n)return i(n);if(e.selection&&Et.isCollapsed(e.selection)){var r=st.above(e,{match:function(t){return st.isBlock(e,t)},at:e.selection});if(r){var o=fa(r,2)[1],a=st.range(e,o,e.selection.anchor),s=function(e,t){var n=st.range(e,Et.end(t)),r=Array.from(st.positions(e,{at:t})),o=0,i=r.length,a=Math.floor(i/2);if(xs(e,st.range(e,r[o]),n))return st.range(e,r[o],n);if(r.length<2)return st.range(e,r[r.length-1],n);for(;a!==r.length&&a!==o;)xs(e,st.range(e,r[a]),n)?i=a:o=a,a=Math.floor((o+i)/2);return st.range(e,r[i],n)}(t,a);Et.isCollapsed(s)||Ht.delete(e,{at:s})}}},t.onChange=function(){var e=t.selection;null!=e&&La.set(t,e),t.emit("change"),n()},t.insertText=function(e){os.checkMaxLength(t)||r(e)},t.handleTab=function(){t.insertText("    ")},t.getHtml=function(e){void 0===e&&(e=!0);var n=t.children,r=(void 0===n?[]:n).map((function(e){return ys(e,t)})).join("");return r="<div>"+r+"</div>",e?ps(r,{collapseContent:!0}):r},t.getText=function(){var e=t.children;return(void 0===e?[]:e).map((function(e){return dt.string(e)})).join("\n")},t.getSelectionText=function(){var n=t.selection;return null==n?"":st.string(e,n)},t.getHeaders=function(){var e=[],n=t.children;return(void 0===n?[]:n).forEach((function(n){if(!_t.isText(n)){var r=n.type,o=void 0===r?"":r;if(o.startsWith("header")){var i=bs(os.findKey(t,n).id),a=dt.string(n);e.push({id:i,type:o,text:a})}}})),e},t.getParentNode=function(e){return os.getParentNode(t,e)},t}(function(e){var t=e;return t.getAllMenuKeys=function(){var e=[];for(var t in ss)e.push(t);return e},t.getConfig=function(){var e=ka.get(t);if(null==e)throw new Error("Can not get editor config");return e},t.getMenuConfig=function(e){var n=t.getConfig().MENU_CONF;return(void 0===n?{}:n)[e]||{}},t.alert=function(e,n){void 0===n&&(n="info");var r=t.getConfig().customAlert;r&&r(e,n)},t}(function(e){var t=e;return t.id="wangEditor-"+is++,t.isDestroyed=!1,t.isFullScreen=!1,t.focus=function(e){var n=os.toDOMNode(t,t),r=os.findDocumentOrShadowRoot(t);if(Ma.set(t,!0),e){var o=st.end(t,[]);Ht.select(t,o)}r.activeElement!==n&&n.focus({preventScroll:!0})},t.isFocused=function(){return!!Ma.get(t)},t.blur=function(){var e=os.toDOMNode(t,t),n=os.findDocumentOrShadowRoot(t);Ma.set(t,!1),n.activeElement===e&&e.blur()},t.updateView=function(){os.getTextarea(t).changeViewState();var e=os.getToolbar(t);e&&e.changeToolbarState();var n=os.getHoverbar(t);n&&n.changeHoverbarState()},t.destroy=function(){var e=os.getTextarea(t);e.destroy(),va.delete(t),ma.delete(e);var n=os.getToolbar(t);n&&(n.destroy(),ba.delete(t),ya.delete(n));var r=os.getHoverbar(t);r&&(r.destroy(),xa.delete(t),wa.delete(r)),t.isDestroyed=!0,t.emit("destroyed")},t.scrollToElem=function(e){if(!t.getConfig().scroll){var n="编辑器禁用了 scroll ，编辑器内容无法滚动，请自行实现该功能";return n+="\nYou has disabled editor scroll, please do this yourself",void console.warn(n)}var r=mr("#"+e);if(0!==r.length){var o=r[0];if(!os.hasDOMNode(t,o))return n="Element (found by id is '"+e+"') is not in editor DOM",n+="\n 通过 id '"+e+"' 找到的 element 不在 editor DOM 之内",void console.error(n,o);var i=os.getTextarea(t),a=i.$textAreaContainer,s=i.$scroll,l=r.offset().top,u=a.offset().top;s[0].scrollBy({top:l-u,behavior:"smooth"})}},t.showProgressBar=function(e){if(!(e<1)){var n=os.getTextarea(t).$progressBar;n.css("width",e+"%"),e>=100&&setTimeout((function(){n.hide(),n.css("width","0"),n.show()}),1e3)}},t.hidePanelOrModal=function(){var e=Sa.get(t);null!=e&&e.forEach((function(e){return e.hide()}))},t.enable=function(){t.getConfig().readOnly=!1,t.updateView()},t.disable=function(){t.getConfig().readOnly=!0,t.updateView()},t.isDisabled=function(){return t.getConfig().readOnly},t.toDOMNode=function(e){return os.toDOMNode(t,e)},t.fullScreen=function(){if(!t.isFullScreen){var e=null,n=os.getToolbar(t);n&&(e=n.$box);var r=os.getTextarea(t).$box.parent();if(e&&e.parent()[0]!==r[0])throw new Error("Can not set full screen, cause toolbar DOM parent is not equal to textarea DOM parent\n不能设置全屏，因为 toolbar DOM 父节点和 textarea DOM 父节点不一致");r.addClass("w-e-full-screen-container");var o=r.css("z-index");r.attr("data-z-index",o.toString()),t.isFullScreen=!0,t.emit("fullScreen")}},t.unFullScreen=function(){t.isFullScreen&&(os.getTextarea(t).$box.parent().removeClass("w-e-full-screen-container"),t.isFullScreen=!1,t.emit("unFullScreen"))},t}(function(e){var t=e,n=t.insertText,r=t.insertFragment;return t.setFragmentData=function(e){var n=t.selection;if(n){var r=fa(Et.edges(n),2),o=r[0],i=r[1],a=st.void(t,{at:o.path}),s=st.void(t,{at:i.path});if(!Et.isCollapsed(n)||a){var l=os.toDOMRange(t,n),u=l.cloneContents(),c=u.childNodes[0];if(u.childNodes.forEach((function(e){e.textContent&&""!==e.textContent.trim()&&(c=e)})),s){var d=fa(s,1)[0],f=l.cloneRange(),p=os.toDOMNode(t,d);f.setEndAfter(p),u=f.cloneContents()}if(a&&(c=u.querySelector("[data-slate-spacer]")),Array.from(u.querySelectorAll("[data-slate-zero-width]")).forEach((function(e){var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),qa(c)){var h=document.createElement("span");h.style.whiteSpace="pre",h.appendChild(c),u.appendChild(h),c=h}var g=t.getFragment(),v=JSON.stringify(g),m=window.btoa(encodeURIComponent(v));c.setAttribute("data-slate-fragment",m),e.setData("application/x-slate-fragment",m);var y=document.createElement("div");y.appendChild(u),y.setAttribute("hidden","true"),document.body.appendChild(y),e.setData("text/html",y.innerHTML),e.setData("text/plain",Ka(y)),document.body.removeChild(y)}}},t.insertData=function(e){var r,o,i=e.getData("application/x-slate-fragment");if(i){var a=decodeURIComponent(window.atob(i)),s=JSON.parse(a);t.insertFragment(s)}else{var l=e.getData("text/plain");if(l){var u=l.split(/\r\n|\r|\n/),c=!1;try{for(var d=da(u),f=d.next();!f.done;f=d.next()){var p=f.value;if(os.checkMaxLength(t,p))return;c&&Ht.splitNodes(t,{always:!0}),n(p),c=!0}}catch(e){r={error:e}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}}},t.insertFragment=function(e){var n=os.getNodesStr(e);os.checkMaxLength(t,n)||r(e)},t}(t={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:e=>{for(var n of st.pathRefs(t))vt.transform(n,e);for(var r of st.pointRefs(t))wt.transform(r,e);for(var o of st.rangeRefs(t))St.transform(o,e);var i=new Set,a=[],s=e=>{if(e){var t=e.join(",");i.has(t)||(i.add(t),a.push(e))}},l=Le.get(t)||[],u=We(e);for(var c of l)s(gt.transform(c,e));for(var d of u)s(d);Le.set(t,a),Ht.transform(t,e),t.operations.push(e),st.normalize(t),"set_selection"===e.type&&(t.marks=null),Be.get(t)||(Be.set(t,!0),Promise.resolve().then((()=>{Be.set(t,!1),t.onChange(),t.operations=[]})))},addMark:(e,n)=>{var{selection:r}=t;if(r)if(Et.isExpanded(r))Ht.setNodes(t,{[e]:n},{match:_t.isText,split:!0});else{var o=qe(qe({},st.marks(t)||{}),{},{[e]:n});t.marks=o,Be.get(t)||t.onChange()}},deleteBackward:e=>{var{selection:n}=t;n&&Et.isCollapsed(n)&&Ht.delete(t,{unit:e,reverse:!0})},deleteForward:e=>{var{selection:n}=t;n&&Et.isCollapsed(n)&&Ht.delete(t,{unit:e})},deleteFragment:e=>{var{selection:n}=t;n&&Et.isExpanded(n)&&Ht.delete(t,{reverse:"backward"===e})},getFragment:()=>{var{selection:e}=t;return e?dt.fragment(t,e):[]},insertBreak:()=>{Ht.splitNodes(t,{always:!0})},insertFragment:e=>{Ht.insertFragment(t,e)},insertNode:e=>{Ht.insertNodes(t,e)},insertText:e=>{var{selection:n,marks:r}=t;if(n){if(Et.isCollapsed(n)){var o=st.above(t,{match:e=>st.isInline(t,e),mode:"highest"});if(o){var[,i]=o;if(st.isEnd(t,n.anchor,i)){var a=st.after(t,i);Ht.setSelection(t,{anchor:a,focus:a})}}}if(r){var s=qe({text:e},r);Ht.insertNodes(t,s)}else Ht.insertText(t,e);t.marks=null}},normalizeNode:e=>{var[n,r]=e;if(!_t.isText(n))if(rt.isElement(n)&&0===n.children.length)Ht.insertNodes(t,{text:""},{at:r.concat(0),voids:!0});else for(var o=!st.isEditor(n)&&rt.isElement(n)&&(t.isInline(n)||0===n.children.length||_t.isText(n.children[0])||t.isInline(n.children[0])),i=0,a=0;a<n.children.length;a++,i++){var s=dt.get(t,r);if(!_t.isText(s)){var l=n.children[a],u=s.children[i-1],c=a===n.children.length-1;(_t.isText(l)||rt.isElement(l)&&t.isInline(l))!==o?(Ht.removeNodes(t,{at:r.concat(i),voids:!0}),i--):rt.isElement(l)?t.isInline(l)&&(null!=u&&_t.isText(u)?c&&(Ht.insertNodes(t,{text:""},{at:r.concat(i+1),voids:!0}),i++):(Ht.insertNodes(t,{text:""},{at:r.concat(i),voids:!0}),i++)):null!=u&&_t.isText(u)&&(_t.equals(l,u,{loose:!0})?(Ht.mergeNodes(t,{at:r.concat(i),voids:!0}),i--):""===u.text?(Ht.removeNodes(t,{at:r.concat(i-1),voids:!0}),i--):c&&""===l.text&&(Ht.removeNodes(t,{at:r.concat(i),voids:!0}),i--))}}},removeMark:e=>{var{selection:n}=t;if(n)if(Et.isExpanded(n))Ht.unsetNodes(t,e,{match:_t.isText,split:!0});else{var r=qe({},st.marks(t)||{});delete r[e],t.marks=r,Be.get(t)||t.onChange()}}})))))));if(r&&function(e,t){return Gl(e,"data-w-e-textarea",t)}(u,r))throw new Error("Repeated create editor by textareaSelector '"+r+"'");var c=function(e){void 0===e&&(e={});var t=na(as),n={},r=e.MENU_CONF,o=void 0===r?{}:r;return Co(t,(function(e,t){n[t]=ca(ca({},e),o[t]||{})})),delete e.MENU_CONF,ca({scroll:!0,readOnly:!1,autoFocus:!0,decorate:function(){return[]},maxLength:0,MENU_CONF:n,hoverbarKeys:[],customAlert:function(e,t){window.alert(t+":\n"+e)}},e)}(i);ka.set(u,c);var d=c.hoverbarKeys,f=void 0===d?[]:d;if(l.forEach((function(e){u=e(u)})),a&&a.length?u.children=a:u.children=[{type:"paragraph",children:[{text:""}]}],os.normalizeContent(u),r){var p=new _l(r);va.set(u,p),ma.set(p,u),p.changeViewState(),Gs((function(){var e=p.$scroll;null!=e&&e.height()<300&&console.warn("编辑区域高度 < 300px 这可能会导致 modal hoverbar 定位异常\nTextarea height < 300px . This may be cause modal and hoverbar position error",e)}));var h=void 0;f.length>0&&(h=new Wl,wa.set(h,u),xa.set(u,h)),u.on("change",(function(){u.hidePanelOrModal()})),u.on("scroll",(function(){u.hidePanelOrModal()}))}var g=c.onCreated,v=c.onDestroyed;return g&&u.on("created",(function(){return g(u)})),v&&u.on("destroyed",(function(){return v(u)})),Gs((function(){return u.emit("created")})),u}var Xl=function(){function e(e,t){var n=this;this.$toolbar=mr('<div class="w-e-bar w-e-bar-show w-e-toolbar"></div>'),this.menus={},this.toolbarItems=[],this.config={},this.changeToolbarState=ta((function(){n.toolbarItems.forEach((function(e){e.changeMenuState()}))}),200),this.config=t;var r=mr(e);if(0===r.length)throw new Error("Cannot find toolbar DOM by selector '"+e+"'");this.$box=r;var o=this.$toolbar;o.on("mousedown",(function(e){return e.preventDefault()})),r.append(o),Gs((function(){n.registerItems(),n.changeToolbarState(),n.getEditorInstance().on("change",n.changeToolbarState)}))}return e.prototype.getMenus=function(){return this.menus},e.prototype.getConfig=function(){return this.config},e.prototype.registerItems=function(){var e=this,t="",n=this.$toolbar,r=this.config,o=r.toolbarKeys,i=void 0===o?[]:o,a=r.excludeKeys,s=void 0===a?[]:a,l=i.filter((function(e){if("string"==typeof e){if(s.includes(e))return!1}else if(s.includes(e.key))return!1;return!0})),u=l.length;l.forEach((function(r,o){if("|"===r){if(0===o)return;if(o+1===u)return;if("|"===t)return;var i=Cl();return n.append(i),void(t=r)}if("string"==typeof r)return e.registerSingleItem(r,e),void(t=r);e.registerGroup(r),t="group"}))},e.prototype.registerGroup=function(e){var t=this,n=this.$toolbar,r=function(e){return new Ul(e)}(e),o=e.menuKeys;(void 0===o?[]:o).forEach((function(e){t.registerSingleItem(e,r)})),n.append(r.$elem)},e.prototype.registerSingleItem=function(e,t){var n=this.getEditorInstance(),r=t instanceof Ul,o=this.menus,i=o[e];if(null==i){var a=ss[e];if(null==a)throw new Error("Not found menu item factory by key '"+e+"'");if("function"!=typeof a)throw new Error("Menu item factory (key='"+e+"') is not a function");i=a(),o[e]=i}else console.warn("Duplicated toolbar menu key '"+e+"'\n重复注册了菜单栏 menu '"+e+"'");var s=ql(i,r);this.toolbarItems.push(s),Ea.set(s,n),r?t.appendBarItem(s):t.$toolbar.append(s.$elem)},e.prototype.getEditorInstance=function(){var e=ya.get(this);if(null==e)throw new Error("Can not get editor instance");return e},e.prototype.destroy=function(){this.$toolbar.remove(),this.menus={},this.toolbarItems=[]},e}();var Zl=function(e,t){return(Zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function Yl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Zl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Jl=function(){return(Jl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ql(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function eu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function tu(e){var t=eu(st.nodes(e,{match:function(t){return e.children[0]===t},mode:"highest"}),1)[0];if(null==t)return!1;var n=t[0];if(!rt.isElement(n))return!1;if("paragraph"===n.type)return!1;if(""!==dt.string(n))return!1;var r=n.children,o=void 0===r?[]:r;return!!_t.isText(o[0])&&(Ht.setNodes(e,{type:"paragraph"}),!0)}var nu={renderElems:[{type:"paragraph",renderElem:function(e,t,n){return F("p",null,t)}}],elemsToHtml:[{type:"paragraph",elemToHtml:function(e,t,n){return""===t?"<p><br></p>":"<p>"+t+"</p>"}}],editorPlugin:function(e){var t=e.deleteBackward,n=e.deleteForward,r=e;return r.deleteBackward=function(e){tu(r)||t(e)},r.deleteForward=function(e){tu(r)||n(e)},r}};function ru(e,t){return null==e.selection||!!eu(st.nodes(e,{match:function(n){var r=os.getNodeType(n);return"pre"===r||!!st.isVoid(e,n)||!("bold"!==t||!r.startsWith("header"))},universal:!0}),1)[0]}function ou(e,t){Object.keys(t).forEach((function(t){"text"!==t&&st.removeMark(e,t)}))}var iu=function(){function e(){this.tag="button"}return e.prototype.getValue=function(e){var t=this.mark;return!!eu(st.nodes(e,{match:function(e){return!0===e[t]},universal:!0}),1)[0]},e.prototype.isActive=function(e){return!!this.getValue(e)},e.prototype.isDisabled=function(e){return ru(e,this.mark)},e.prototype.exec=function(e,t){var n=this.mark;t?e.removeMark(n):e.addMark(n,!0)},e}(),au='<svg viewBox="0 0 1024 1024"><path d="M707.872 484.64A254.88 254.88 0 0 0 768 320c0-141.152-114.848-256-256-256H192v896h384c141.152 0 256-114.848 256-256a256.096 256.096 0 0 0-124.128-219.36zM384 192h101.504c55.968 0 101.504 57.408 101.504 128s-45.536 128-101.504 128H384V192z m159.008 640H384v-256h159.008c58.464 0 106.016 57.408 106.016 128s-47.552 128-106.016 128z"></path></svg>',su='<svg viewBox="0 0 1024 1024"><path d="M704 64l128 0 0 416c0 159.072-143.264 288-320 288s-320-128.928-320-288l0-416 128 0 0 416c0 40.16 18.24 78.688 51.36 108.512 36.896 33.216 86.848 51.488 140.64 51.488s103.744-18.304 140.64-51.488c33.12-29.792 51.36-68.352 51.36-108.512l0-416zM192 832l640 0 0 128-640 0z"></path></svg>',lu='<svg viewBox="0 0 1024 1024"><path d="M896 64v64h-128L448 896h128v64H128v-64h128L576 128h-128V64z"></path></svg>',uu='<svg viewBox="0 0 1024 1024"><path d="M1024 512v64h-234.496c27.52 38.496 42.496 82.688 42.496 128 0 70.88-36.672 139.04-100.576 186.976C672.064 935.488 594.144 960 512 960s-160.064-24.512-219.424-69.024C228.64 843.04 192 774.88 192 704h128c0 69.376 87.936 128 192 128s192-58.624 192-128-87.936-128-192-128H0v-64h299.52a385.984 385.984 0 0 1-6.944-5.024C228.64 459.04 192 390.88 192 320s36.672-139.04 100.576-186.976C351.936 88.512 429.856 64 512 64s160.064 24.512 219.424 69.024C795.328 180.96 832 249.12 832 320h-128c0-69.376-87.936-128-192-128s-192 58.624-192 128 87.936 128 192 128c78.976 0 154.048 22.688 212.48 64H1024z"></path></svg>',cu='<svg viewBox="0 0 1024 1024"><path d="M576 736l96 96 320-320L672 192l-96 96 224 224zM448 288l-96-96L32 512l320 320 96-96-224-224z"></path></svg>',du='<svg viewBox="0 0 1024 1024"><path d="M864 0a160 160 0 0 1 128 256l-64 64-224-224 64-64c26.752-20.096 59.968-32 96-32zM64 736l-64 288 288-64 592-592-224-224L64 736z m651.584-372.416l-448 448-55.168-55.168 448-448 55.168 55.168z"></path></svg>',fu='<svg viewBox="0 0 1024 1024"><path d="M924.402464 1023.068211H0.679665V99.345412h461.861399v98.909208H99.596867v725.896389h725.896389V561.206811h98.909208z" p-id="10909"></path><path d="M930.805104 22.977336l69.965436 69.965436-453.492405 453.492404-69.965435-69.901489z" p-id="10910"></path><path d="M1022.464381 304.030081h-98.917201V99.345412H709.230573V0.428211h313.233808z"></path></svg>',pu='<svg viewBox="0 0 1024 1024"><path d="M64 864h896v96H64zM360.58 576h302.85l81.53 224h102.16L579.24 64H444.77L176.89 800h102.16l81.53-224zM512 159.96L628.49 480H395.52L512 159.96z"></path></svg>',hu='<svg viewBox="0 0 1024 1024"><path d="M510.030769 315.076923l84.676923 196.923077h-177.230769l76.8-196.923077h15.753846zM945.230769 157.538462v708.923076c0 43.323077-35.446154 78.769231-78.769231 78.769231H157.538462c-43.323077 0-78.769231-35.446154-78.769231-78.769231V157.538462c0-43.323077 35.446154-78.769231 78.769231-78.769231h708.923076c43.323077 0 78.769231 35.446154 78.769231 78.769231z m-108.307692 643.938461L600.615385 216.615385c-5.907692-11.815385-15.753846-19.692308-29.538462-19.692308h-139.815385c-11.815385 0-23.630769 7.876923-27.56923 19.692308l-216.615385 584.861538c-3.938462 11.815385 3.938462 25.6 17.723077 25.6h80.738462c11.815385 0 23.630769-9.846154 27.56923-21.661538l63.015385-175.261539h263.876923l68.923077 175.261539c3.938462 11.815385 15.753846 21.661538 27.569231 21.661538h80.738461c13.784615 0 23.630769-13.784615 19.692308-25.6z"></path></svg>',gu='<svg viewBox="0 0 1024 1024"><path d="M64 512h384v128h-128V1024h-128V640h-128z m896-256H708.2496v768h-136.4992V256H320V128h640z"></path></svg>',vu='<svg viewBox="0 0 1024 1024"><path d="M956.788364 152.110545h-24.110546l23.924364 9.029819 0.186182 121.018181h-65.070546l-86.574545-130.048H566.551273v650.14691l130.048 64.977454v65.163636h-390.050909v-65.163636l129.954909-64.977454V152.110545H198.283636L111.429818 282.065455H46.545455V69.259636C46.545455 33.792 82.664727 22.062545 98.955636 22.062545h812.683637c23.738182 0 45.056 15.173818 45.056 41.053091V169.425455v-17.221819z"></path></svg>',mu='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m256-512v384l-256-192z"></path></svg>',yu='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m0-128V320l256 192z"></path></svg>',bu='<svg viewBox="0 0 1024 1024"><path d="M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',wu='<svg viewBox="0 0 1024 1024"><path d="M972.8 793.6v102.4H256v-102.4h716.8z m0-230.4v102.4H51.2v-102.4h921.6z m0-230.4v102.4H256v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',xu='<svg viewBox="0 0 1024 1024"><path d="M870.4 793.6v102.4H153.6v-102.4h716.8z m102.4-230.4v102.4H51.2v-102.4h921.6z m-102.4-230.4v102.4H153.6v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',Eu='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z"></path></svg>',Su=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mark="bold",t.title="加粗",t.iconSvg=au,t.hotkey="mod+b",t}return Yl(t,e),t}(iu),ku=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mark="code",t.title="行内代码",t.iconSvg=cu,t.hotkey="mod+e",t}return Yl(t,e),t}(iu),Ou=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mark="italic",t.title="斜体",t.iconSvg=lu,t.hotkey="mod+i",t}return Yl(t,e),t}(iu),_u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mark="through",t.title="删除线",t.iconSvg=uu,t.hotkey="mod+shift+x",t}return Yl(t,e),t}(iu),Au=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mark="underline",t.title="下划线",t.iconSvg=su,t.hotkey="mod+u",t}return Yl(t,e),t}(iu),Tu=function(){function e(){this.title="清除格式",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M969.382408 288.738615l-319.401123-270.852152a67.074236 67.074236 0 0 0-96.459139 5.74922l-505.931379 574.922021a68.35184 68.35184 0 0 0-17.886463 47.910169 74.101061 74.101061 0 0 0 24.274486 47.910168l156.50655 132.232065h373.060512L975.131628 383.281347a67.074236 67.074236 0 0 0-5.74922-96.459139z m-440.134747 433.746725H264.144729l-90.071117-78.572676c-5.74922-5.74922-12.137243-12.137243-12.137243-17.886463a36.411728 36.411728 0 0 1 5.749221-24.274485l210.804741-240.828447 265.102932 228.691204z m-439.495945 180.781036h843.218964a60.047411 60.047411 0 1 1 0 120.733624H89.751716a60.047411 60.047411 0 1 1 0-120.733624z m0 0"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){return ru(e)},e.prototype.exec=function(e,t){var n,r,o=st.nodes(e,{match:function(e){return _t.isText(e)},universal:!0});try{for(var i=Ql(o),a=i.next();!a.done;a=i.next())ou(e,a.value[0])}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e}(),Cu={renderTextStyle:function(e,t){var n=e,r=n.bold,o=n.italic,i=n.underline,a=n.code,s=n.through,l=t;return r&&(l=F("strong",null,l)),a&&(l=F("code",null,l)),o&&(l=F("em",null,l)),i&&(l=F("u",null,l)),s&&(l=F("s",null,l)),l},menus:[{key:"bold",factory:function(){return new Su}},{key:"underline",factory:function(){return new Au}},{key:"italic",factory:function(){return new Ou}},{key:"through",factory:function(){return new _u}},{key:"code",factory:function(){return new ku}},{key:"clearStyle",factory:function(){return new Tu}}],textToHtml:function(e,t,n){var r=e,o=r.bold,i=r.italic,a=r.underline,s=t;return o&&(s="<strong>"+s+"</strong>"),r.code&&(s="<code>"+s+"</code>"),i&&(s="<em>"+s+"</em>"),a&&(s="<u>"+s+"</u>"),r.through&&(s="<s>"+s+"</s>"),s}};function Nu(e){return function(t,n,r){return F("h"+e,null,n)}}var Pu={type:"header1",renderElem:Nu(1)},Fu={type:"header2",renderElem:Nu(2)},ju={type:"header3",renderElem:Nu(3)},Du={type:"header4",renderElem:Nu(4)},Iu={type:"header5",renderElem:Nu(5)};function Mu(e){var t=eu(st.nodes(e,{match:function(e){return os.getNodeType(e).startsWith("header")},universal:!0}),1)[0];if(null==t)return"paragraph";var n=eu(t,1)[0];return os.getNodeType(n)}function Ru(e){return null==e.selection||!eu(st.nodes(e,{match:function(e){var t=os.getNodeType(e);return"paragraph"===t||!!t.startsWith("header")},universal:!0,mode:"highest"}),1)[0]}function Lu(e,t){t&&Ht.setNodes(e,{type:t})}var Bu=function(){function e(){this.title="标题",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M960 960c-51.2 0-102.4-3.2-153.6-3.2-51.2 0-99.2 3.2-150.4 3.2-19.2 0-28.8-22.4-28.8-38.4 0-51.2 57.6-28.8 86.4-48 19.2-12.8 19.2-60.8 19.2-80v-224-19.2c-9.6-3.2-19.2-3.2-28.8-3.2H320c-9.6 0-19.2 0-28.8 3.2V780.8c0 22.4 0 80 22.4 92.8 28.8 19.2 96-6.4 96 44.8 0 16-9.6 41.6-28.8 41.6-54.4 0-105.6-3.2-160-3.2-48 0-96 3.2-147.2 3.2-19.2 0-28.8-22.4-28.8-38.4 0-51.2 51.2-28.8 80-48 19.2-12.8 19.2-60.8 19.2-83.2V294.4c0-28.8 3.2-115.2-22.4-131.2-25.6-16-86.4 9.6-86.4-41.6 0-16 6.4-41.6 28.8-41.6 51.2 0 105.6 3.2 156.8 3.2 48 0 96-3.2 144-3.2 19.2 0 28.8 22.4 28.8 41.6 0 48-57.6 25.6-83.2 41.6-19.2 12.8-19.2 73.6-19.2 92.8v201.6c6.4 3.2 16 3.2 22.4 3.2h400c6.4 0 12.8 0 22.4-3.2V256c0-22.4 0-80-19.2-92.8-28.8-16-86.4 6.4-86.4-41.6 0-16 9.6-41.6 28.8-41.6 51.2 0 99.2 3.2 150.4 3.2 48 0 99.2-3.2 147.2-3.2 19.2 0 28.8 22.4 28.8 41.6 0 51.2-57.6 25.6-86.4 41.6-19.2 12.8-19.2 70.4-19.2 92.8v537.6c0 19.2 0 67.2 19.2 80 28.8 19.2 89.6-6.4 89.6 44.8 0 19.2-6.4 41.6-28.8 41.6z"></path></svg>',this.tag="select",this.width=60}return e.prototype.getOptions=function(e){var t=[{value:"header1",text:"H1",styleForRenderMenuList:{"font-size":"32px","font-weight":"bold"}},{value:"header2",text:"H2",styleForRenderMenuList:{"font-size":"24px","font-weight":"bold"}},{value:"header3",text:"H3",styleForRenderMenuList:{"font-size":"18px","font-weight":"bold"}},{value:"header4",text:"H4",styleForRenderMenuList:{"font-size":"16px","font-weight":"bold"}},{value:"header5",text:"H5",styleForRenderMenuList:{"font-size":"13px","font-weight":"bold"}},{value:"paragraph",text:"正文"}],n=this.getValue(e).toString();return t.forEach((function(e){e.value===n?e.selected=!0:delete e.selected})),t},e.prototype.isActive=function(e){return!1},e.prototype.getValue=function(e){return Mu(e)},e.prototype.isDisabled=function(e){return Ru(e)},e.prototype.exec=function(e,t){Lu(e,t.toString())},e}(),zu=function(){function e(){this.tag="button"}return e.prototype.getValue=function(e){return Mu(e)},e.prototype.isActive=function(e){return this.getValue(e)===this.type},e.prototype.isDisabled=function(e){return Ru(e)},e.prototype.exec=function(e,t){var n=this.type;Lu(e,t===n?"paragraph":n)},e}(),Hu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="H1",t.type="header1",t}return Yl(t,e),t}(zu),Uu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="H2",t.type="header2",t}return Yl(t,e),t}(zu),$u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="H3",t.type="header3",t}return Yl(t,e),t}(zu),Vu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="H4",t.type="header4",t}return Yl(t,e),t}(zu),qu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="H5",t.type="header5",t}return Yl(t,e),t}(zu),Wu={key:"headerSelect",factory:function(){return new Bu}},Gu={key:"header1",factory:function(){return new Hu}},Ku={key:"header2",factory:function(){return new Uu}},Xu={key:"header3",factory:function(){return new $u}},Zu={key:"header4",factory:function(){return new Vu}},Yu={key:"header5",factory:function(){return new qu}};function Ju(e){return function(t,n,r){return"<h"+e+">"+n+"</h"+e+">"}}var Qu={renderElems:[Pu,Fu,ju,Du,Iu],elemsToHtml:[{type:"header1",elemToHtml:Ju(1)},{type:"header2",elemToHtml:Ju(2)},{type:"header3",elemToHtml:Ju(3)},{type:"header4",elemToHtml:Ju(4)},{type:"header5",elemToHtml:Ju(5)}],menus:[Wu,Gu,Ku,Xu,Zu,Yu],editorPlugin:function(e){var t=e.insertBreak,n=e;return n.insertBreak=function(){var r=eu(st.nodes(n,{match:function(e){return os.getNodeType(e).startsWith("header")},universal:!0}),1)[0];r&&os.isSelectionAtLineEnd(e,r[1])?Ht.insertNodes(n,{type:"paragraph",children:[{text:""}]},{mode:"highest"}):t()},n}};function ec(e,t){null==e.data&&(e.data={});var n=e.data;null==n.style&&(n.style={}),Object.assign(n.style,t)}mr.fn.css=Nr,mr.fn.append=Dr,mr.fn.prepend=function(e){var t,n,r=ar();for(t=0;t<this.length;t+=1)if("string"==typeof e){var o=r.createElement("div");for(o.innerHTML=e,n=o.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(o.childNodes[n],this[t].childNodes[0])}else if(e instanceof hr)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},mr.fn.addClass=yr,mr.fn.removeClass=br,mr.fn.hasClass=wr,mr.fn.on=Or,mr.fn.off=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],i=t[2],a=t[3];"function"==typeof t[1]&&(r=t[0],i=t[1],a=t[2],o=void 0),a||(a=!1);for(var s=r.split(" "),l=0;l<s.length;l+=1)for(var u=s[l],c=0;c<this.length;c+=1){var d=this[c],f=void 0;if(!o&&d.dom7Listeners?f=d.dom7Listeners[u]:o&&d.dom7LiveListeners&&(f=d.dom7LiveListeners[u]),f&&f.length)for(var p=f.length-1;p>=0;p-=1){var h=f[p];i&&h.listener===i||i&&h.listener&&h.listener.dom7proxy&&h.listener.dom7proxy===i?(d.removeEventListener(u,h.proxyListener,a),f.splice(p,1)):i||(d.removeEventListener(u,h.proxyListener,a),f.splice(p,1))}}return this},mr.fn.focus=Ur,mr.fn.attr=xr,mr.fn.removeAttr=Er,mr.fn.hide=Tr,mr.fn.show=Cr,mr.fn.parents=Ir,mr.fn.dataset=Sr,mr.fn.val=kr,mr.fn.text=jr,mr.fn.html=Fr,mr.fn.children=Rr,mr.fn.remove=Lr,mr.fn.find=Mr,mr.fn.width=_r,mr.fn.height=Ar;var tc=function(){function e(){this.tag="button",this.showDropPanel=!0,this.$content=null}return e.prototype.exec=function(e,t){},e.prototype.getValue=function(e){var t=this.mark,n=st.marks(e);return n&&n[t]?n[t]:""},e.prototype.isActive=function(e){return!!this.getValue(e)},e.prototype.isDisabled=function(e){return null==e.selection||!!eu(st.nodes(e,{match:function(t){return"pre"===os.getNodeType(t)||!!st.isVoid(e,t)},universal:!0}),1)[0]},e.prototype.getPanelContentElem=function(e){var t=this.mark;if(null==this.$content){var n=mr('<ul class="w-e-panel-content-color"></ul>');n.on("mousedown","li",(function(n){var r=n.target;if(null!=r){n.preventDefault();var o=e.selection;if(null!=o&&!Et.isCollapsed(o)){var i=mr(r).attr("data-value");"0"===i?st.removeMark(e,t):st.addMark(e,t,i)}}})),this.$content=n}var r=this.$content;if(null==r)return mr();r.html("");var o=this.getValue(e),i=e.getMenuConfig(t).colors;(void 0===i?[]:i).forEach((function(e){var t=mr('<div class="color-block" data-value="'+e+'"></div>');t.css("background-color",e);var n=mr('<li data-value="'+e+'"></li>');o===e&&n.addClass("active"),n.append(t),r.append(n)}));var a="";"color"===t&&(a="默认颜色"),"bgColor"===t&&(a="清除背景色");var s=mr('\n      <li data-value="0" class="clear">\n        <svg viewBox="0 0 1024 1024"><path d="M236.8 128L896 787.2V128H236.8z m614.4 704L192 172.8V832h659.2zM192 64h704c38.4 0 64 25.6 64 64v704c0 38.4-25.6 64-64 64H192c-38.4 0-64-25.6-64-64V128c0-38.4 25.6-64 64-64z"></path></svg>\n        '+a+"\n      </li>\n    ");return r.prepend(s),r},e}(),nc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="文字颜色",t.iconSvg=pu,t.mark="color",t}return Yl(t,e),t}(tc),rc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="背景颜色",t.iconSvg=hu,t.mark="bgColor",t}return Yl(t,e),t}(tc),oc=["#000000","#262626","#595959","#8c8c8c","#bfbfbf","#d9d9d9","#e9e9e9e","#f5f5f5","#fafafa","#ffffff","#e13c39","#e75f33","#eb903a","#f5db4d","#72c040","#59bfc0","#4290f7","#3658e2","#6a39c9","#d84493","#fbe9e6","#fcede1","#fcefd4","#fcfbcf","#e7f6d5","#daf4f0","#d9edfa","#e0e8fa","#ede1f8","#f6e2ea","rgb(255, 163, 158)","rgb(255, 187, 150)","rgb(255, 213, 145)","rgb(255, 251, 143)","rgb(183, 235, 143)","rgb(135, 232, 222)","rgb(145, 213, 255)","rgb(173, 198, 255)","rgb(211, 173, 247)","rgb(255, 173, 210)","rgb(255, 77, 79)","rgb(255, 122, 69)","rgb(255, 169, 64)","rgb(255, 236, 61)","rgb(115, 209, 61)","rgb(54, 207, 201)","rgb(64, 169, 255)","rgb(89, 126, 247)","rgb(146, 84, 222)","rgb(247, 89, 171)","rgb(207, 19, 34)","rgb(212, 56, 13)","rgb(212, 107, 8)","rgb(212, 177, 6)","rgb(56, 158, 13)","rgb(8, 151, 156)","rgb(9, 109, 217)","rgb(29, 57, 196)","rgb(83, 29, 171)","rgb(196, 29, 127)","rgb(130, 0, 20)","rgb(135, 20, 0)","rgb(135, 56, 0)","rgb(97, 71, 0)","rgb(19, 82, 0)","rgb(0, 71, 79)","rgb(0, 58, 140)","rgb(6, 17, 120)","rgb(34, 7, 94)","rgb(120, 6, 80)"],ic={renderTextStyle:function(e,t){var n=e,r=n.color,o=n.bgColor,i=t;return r&&ec(i,{color:r}),o&&ec(i,{backgroundColor:o}),i},textStyleToHtml:function(e,t){if(!_t.isText(e))return t;var n=e,r=n.color,o=n.bgColor,i=n.text;if(!r&&!o)return t;t===i&&(t="<span>"+i+"</span>");var a=mr(t);r&&a.css("color",r),o&&a.css("background-color",o);var s=mr("<div></div>");return s.append(a),s.html()},menus:[{key:"color",factory:function(){return new nc},config:{colors:oc}},{key:"bgColor",factory:function(){return new rc},config:{colors:oc}}]},ac=/^(?:\w+:)?\/\/(\S+)$/,sc=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,lc=/^[^\s\.]+\.\S{2,}$/;function uc(e,t,n,r){var o=t.getMenuConfig(e).checkLink;if(o){var i=o(n,r);if("string"==typeof i)return t.alert(i,"error"),!1;if(null==i)return!1}return!0}function cc(e){return null==e.selection||!!eu(st.nodes(e,{match:function(t){var n=os.getNodeType(t);return"pre"===n||!!st.isVoid(e,t)||"link"===n},universal:!0}),1)[0]}function dc(e,t,n){if(n&&(t||(t=n),!os.checkMaxLength(e,t)&&(e.restoreSelection(),!cc(e)&&uc("insertLink",e,t,n)))){var r=e.selection;if(null!=r){var o=Et.isCollapsed(r),i={type:"link",url:n,children:o?[{text:t}]:[]};o?(e.insertText(" "),Ht.insertNodes(e,i),e.insertText(" ")):(Ht.wrapNodes(e,i,{split:!0}),Ht.collapse(e,{edge:"end"}))}}}var fc={type:"link",renderElem:function(e,t,n){var r=e,o=r.url,i=r.target;return F("a",{href:o,target:void 0===i?"_blank":i},t)}};function pc(e){return void 0===e&&(e="r"),e+"-"+Date.now().toString().slice(-5)+Math.random().toString(36).slice(-5)}function hc(){return pc("w-e-insert-link")}var gc=function(){function e(){this.title="插入链接",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M440.224 635.776a51.84 51.84 0 0 1-36.768-15.232c-95.136-95.136-95.136-249.92 0-345.056l192-192C641.536 37.408 702.816 12.032 768 12.032s126.432 25.376 172.544 71.456c95.136 95.136 95.136 249.92 0 345.056l-87.776 87.776a51.968 51.968 0 1 1-73.536-73.536l87.776-87.776a140.16 140.16 0 0 0 0-197.984c-26.432-26.432-61.6-40.992-99.008-40.992s-72.544 14.56-99.008 40.992l-192 192a140.16 140.16 0 0 0 0 197.984 51.968 51.968 0 0 1-36.768 88.768z"></path><path d="M256 1012a242.4 242.4 0 0 1-172.544-71.456c-95.136-95.136-95.136-249.92 0-345.056l87.776-87.776a51.968 51.968 0 1 1 73.536 73.536l-87.776 87.776a140.16 140.16 0 0 0 0 197.984c26.432 26.432 61.6 40.992 99.008 40.992s72.544-14.56 99.008-40.992l192-192a140.16 140.16 0 0 0 0-197.984 51.968 51.968 0 1 1 73.536-73.536c95.136 95.136 95.136 249.92 0 345.056l-192 192A242.4 242.4 0 0 1 256 1012z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.textInputId=hc(),this.urlInputId=hc(),this.buttonId=hc()}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.exec=function(e,t){},e.prototype.isDisabled=function(e){return cc(e)},e.prototype.getModalPositionNode=function(e){return null},e.prototype.getModalContentElem=function(e){var t=e.selection,n=this,r=n.textInputId,o=n.urlInputId,i=n.buttonId,a=eu(Rl("链接文本",r),2),s=a[0],l=a[1],u=eu(Rl("链接网址",o),2),c=u[0],d=u[1],f=eu(Ll(i,"确定"),1)[0];if(null==this.$content){var p=mr("<div></div>");p.on("click","#"+i,(function(t){t.preventDefault();var n=mr("#"+r).val(),i=mr("#"+o).val();dc(e,n,i),e.hidePanelOrModal()})),this.$content=p}var h=this.$content;if(h.html(""),h.append(s),h.append(c),h.append(f),null==t||Et.isCollapsed(t))l.val("");else{var g=st.string(e,t);l.val(g)}return d.val(""),setTimeout((function(){mr("#"+r).focus()})),h},e}();function vc(){return pc("w-e-update-link")}var mc=function(){function e(){this.title="修改链接",this.iconSvg=du,this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.urlInputId=vc(),this.buttonId=vc()}return e.prototype.getSelectedLinkElem=function(e){var t=os.getSelectedNodeByType(e,"link");return null==t?null:t},e.prototype.getValue=function(e){var t=this.getSelectedLinkElem(e);return t&&t.url||""},e.prototype.isActive=function(e){return!1},e.prototype.exec=function(e,t){},e.prototype.isDisabled=function(e){return null==e.selection||null==this.getSelectedLinkElem(e)},e.prototype.getModalPositionNode=function(e){return os.getSelectedNodeByType(e,"link")},e.prototype.getModalContentElem=function(e){var t=this.urlInputId,n=this.buttonId,r=eu(Rl("链接网址",t),2),o=r[0],i=r[1],a=eu(Ll(n,"确定"),1)[0];if(null==this.$content){var s=mr("<div></div>");s.on("click","button",(function(n){n.preventDefault(),e.restoreSelection();var r=os.getSelectedNodeByType(e,"link"),o=r?dt.string(r):"",i=mr("#"+t).val();!function(e,t,n){if(n&&uc("updateLink",e,t,n)){var r={url:n};Ht.setNodes(e,r,{match:function(e){return os.checkNodeType(e,"link")}})}}(e,o,i),e.hidePanelOrModal()})),this.$content=s}var l=this.$content;l.html(""),l.append(o),l.append(a);var u=this.getValue(e);return i.val(u),setTimeout((function(){mr("#"+t).focus()})),l},e}(),yc=function(){function e(){this.title="取消链接",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M608.16328 811.815036c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.347563 89.347564c-118.525421 118.523421-311.38448 118.531421-429.919901 0-118.527421-118.529421-118.527421-311.39048 0-429.917901l89.349564-89.349563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.195613 79.195613c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.349563 89.347564c-56.143726 56.145726-56.143726 147.49928 0 203.645005 56.143726 56.143726 147.49928 56.145726 203.647005 0l89.347564-89.347563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.193613 79.195613z m-113.135447-520.429459c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.347564-89.347564c56.143726-56.149726 147.49928-56.145726 203.647006 0 56.143726 56.145726 56.143726 147.49928 0 203.645006l-89.349564 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.195613 79.195613c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.349564-89.349563c118.529421-118.529421 118.529421-311.38848 0-429.917901-118.531421-118.527421-311.38848-118.527421-429.919901 0l-89.347563 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.193613 79.195613z m469.653707 718.556492l45.253779-45.253779c18.745908-18.745908 18.745908-49.13776 0-67.881669L127.195629 14.062931c-18.745908-18.745908-49.13776-18.745908-67.881669 0L14.058181 59.31871c-18.745908 18.745908-18.745908 49.13776 0 67.881669l882.74169 882.74169c18.745908 18.743908 49.13776 18.743908 67.881669 0z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){return null==e.selection||null==os.getSelectedNodeByType(e,"link")},e.prototype.exec=function(e,t){this.isDisabled(e)||Ht.unwrapNodes(e,{match:function(e){return os.checkNodeType(e,"link")}})},e}(),bc=function(){function e(){this.title="查看链接",this.iconSvg=fu,this.tag="button"}return e.prototype.getSelectedLinkElem=function(e){var t=os.getSelectedNodeByType(e,"link");return null==t?null:t},e.prototype.getValue=function(e){var t=this.getSelectedLinkElem(e);return t&&t.url||""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){return null==e.selection||null==this.getSelectedLinkElem(e)},e.prototype.exec=function(e,t){if(!this.isDisabled(e)){if(!t||"string"!=typeof t)throw new Error("View link failed, link url is '"+t+"'");window.open(t,"_blank")}},e}(),wc={checkLink:function(e,t){return!0}},xc={renderElems:[fc],elemsToHtml:[{type:"link",elemToHtml:function(e,t,n){var r=e,o=r.url,i=r.target;return'<a href="'+o+'" target="'+(void 0===i?"_blank":i)+'">'+t+"</a>"}}],menus:[{key:"insertLink",factory:function(){return new gc},config:wc},{key:"updateLink",factory:function(){return new mc},config:wc},{key:"unLink",factory:function(){return new yc}},{key:"viewLink",factory:function(){return new bc}}],editorPlugin:function(e){var t=e.isInline,n=e.insertData,r=e;return r.isInline=function(e){return"link"===e.type||t(e)},r.insertData=function(e){var t=e.getData("text/plain");if(function(e){if("string"!=typeof e)return!1;var t=e.match(ac);if(!t)return!1;var n=t[1];return!(!n||!sc.test(n)&&!lc.test(n))}(t)){if(!cc(r)){var o=r.selection;if(null!=o){var i=st.string(r,o);dc(r,i,t)}}}else n(e)},r}};function Ec(e,t){return"w-e-image-container-"+os.findKey(e,t).id}var Sc={type:"image",renderElem:function(e,t,n){var r=e,o=r.src,i=r.alt,a=void 0===i?"":i,s=r.href,l=void 0===s?"":s,u=r.style,c=void 0===u?{}:u,d=c.width,f=void 0===d?"":d,p=c.height,h=void 0===p?"":p,g=os.isNodeSelected(n,e),v={};f&&(v.width="100%"),h&&(v.height="100%");var m=F("img",{style:v,src:o,alt:a,"data-href":l});return g?function(e,t,n,r){var o=mr("body"),i=Ec(e,t),a=r.width,s=r.height,l=0,u=0,c=0,d=!1,f=null;function p(t){f=function(){var e=mr("#"+i);if(0===e.length)throw new Error("Cannot find image container elem");return e}(),l=t;var n=f.find("img");if(0===n.length)throw new Error("Cannot find image elem");u=n.width(),c=n.height(),o.on("mousemove",h),o.on("mouseup",g);var r=os.getHoverbar(e);r&&r.hideAndClean()}var h=io((function(e){e.preventDefault();var t=e.clientX,n=u+(d?l-t:t-l),r=c*(n/u);null!=f&&(f.css("width",n+"px"),f.css("height",r+"px"))}),100);function g(n){if(o.off("mousemove",h),null!=f){var r=f.width().toFixed(2),i=f.height().toFixed(2),a={style:Jl(Jl({},t.style),{width:r+"px",height:i+"px"})};Ht.setNodes(e,a,{at:os.findPath(e,t)}),o.off("mouseup",g)}}var v={};return a&&(v.width=a),s&&(v.height=s),F("div",{id:i,style:v,className:"w-e-image-container w-e-selected-image-container",on:{mousedown:function(e){var t=mr(e.target);t.hasClass("w-e-image-dragger")&&(e.preventDefault(),(t.hasClass("left-top")||t.hasClass("left-bottom"))&&(d=!0),p(e.clientX))}}},n,F("div",{className:"w-e-image-dragger left-top"}),F("div",{className:"w-e-image-dragger right-top"}),F("div",{className:"w-e-image-dragger left-bottom"}),F("div",{className:"w-e-image-dragger right-bottom"}))}(n,e,m,{width:f,height:h}):function(e,t,n,r){var o=r.width,i=r.height,a={};return o&&(a.width=o),i&&(a.height=i),F("div",{id:Ec(e,t),style:a,className:"w-e-image-container"},n)}(n,e,m,{width:f,height:h})}};function kc(e,t,n,r,o){void 0===r&&(r=""),void 0===o&&(o="");var i=t.getMenuConfig(e).checkImage;if(i){var a=i(n,r,o);if("string"==typeof a)return t.alert(a,"error"),!1;if(null==a)return!1}return!0}function Oc(e,t,n,r){if(void 0===n&&(n=""),void 0===r&&(r=""),kc("insertImage",e,t,n,r)){var o={type:"image",src:t,href:r,alt:n,style:{},children:[{text:""}]};Ht.insertNodes(e,o);var i=e.getMenuConfig("insertImage").onInsertedImage;i&&i(t,n,r)}}function _c(){return pc("w-e-insert-image")}var Ac=function(){function e(){this.title="网络图片",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=_c(),this.altInputId=_c(),this.hrefInputId=_c(),this.buttonId=_c()}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.exec=function(e,t){},e.prototype.isDisabled=function(e){var t=e.selection;return null==t||!Et.isCollapsed(t)||!!eu(st.nodes(e,{match:function(t){var n=os.getNodeType(t);return"code"===n||"pre"===n||"link"===n||"list-item"===n||!!n.startsWith("header")||"blockquote"===n||!!st.isVoid(e,t)},universal:!0}),1)[0]},e.prototype.getModalPositionNode=function(e){return null},e.prototype.getModalContentElem=function(e){var t=this,n=this,r=n.srcInputId,o=n.altInputId,i=n.hrefInputId,a=n.buttonId,s=eu(Rl("图片地址",r),2),l=s[0],u=s[1],c=eu(Rl("描述文字",o),2),d=c[0],f=c[1],p=eu(Rl("图片链接",i),2),h=p[0],g=p[1],v=eu(Ll(a,"确定"),1)[0];if(null==this.$content){var m=mr("<div></div>");m.on("click","#"+a,(function(n){n.preventDefault();var a=mr("#"+r).val().trim(),s=mr("#"+o).val().trim(),l=mr("#"+i).val().trim();t.insertImage(e,a,s,l),e.hidePanelOrModal()})),this.$content=m}var y=this.$content;return y.html(""),y.append(l),y.append(d),y.append(h),y.append(v),u.val(""),f.val(""),g.val(""),setTimeout((function(){mr("#"+r).focus()})),y},e.prototype.insertImage=function(e,t,n,r){void 0===n&&(n=""),void 0===r&&(r=""),t&&(e.restoreSelection(),this.isDisabled(e)||Oc(e,t,n,r))},e}(),Tc=function(){function e(){this.title="删除图片",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z" p-id="9577"></path><path d="M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){return null==e.selection||null==os.getSelectedNodeByType(e,"image")},e.prototype.exec=function(e,t){this.isDisabled(e)||Ht.removeNodes(e,{match:function(e){return os.checkNodeType(e,"image")}})},e}();function Cc(){return pc("w-e-edit-image")}var Nc=function(){function e(){this.title="编辑图片",this.iconSvg=du,this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=Cc(),this.altInputId=Cc(),this.hrefInputId=Cc(),this.buttonId=Cc()}return e.prototype.getValue=function(e){return""},e.prototype.getImageNode=function(e){return os.getSelectedNodeByType(e,"image")},e.prototype.isActive=function(e){return!1},e.prototype.exec=function(e,t){},e.prototype.isDisabled=function(e){var t=e.selection;return null==t||!Et.isCollapsed(t)||null==os.getSelectedNodeByType(e,"image")},e.prototype.getModalPositionNode=function(e){return this.getImageNode(e)},e.prototype.getModalContentElem=function(e){var t=this,n=this,r=n.srcInputId,o=n.altInputId,i=n.hrefInputId,a=n.buttonId,s=this.getImageNode(e);if(null==s)throw new Error("Not found selected image node");var l=eu(Rl("图片地址",r),2),u=l[0],c=l[1],d=eu(Rl("描述文字",o),2),f=d[0],p=d[1],h=eu(Rl("图片链接",i),2),g=h[0],v=h[1],m=eu(Ll(a,"确定"),1)[0];if(null==this.$content){var y=mr("<div></div>");y.on("click","#"+a,(function(n){n.preventDefault();var a=mr("#"+r).val(),s=mr("#"+o).val(),l=mr("#"+i).val();t.updateImage(e,a,s,l),e.hidePanelOrModal()})),this.$content=y}var b=this.$content;b.html(""),b.append(u),b.append(f),b.append(g),b.append(m);var w=s,x=w.src,E=w.alt,S=void 0===E?"":E,k=w.href,O=void 0===k?"":k;return c.val(x),p.val(S),v.val(O),setTimeout((function(){mr("#"+r).focus()})),b},e.prototype.updateImage=function(e,t,n,r,o){void 0===n&&(n=""),void 0===r&&(r=""),void 0===o&&(o={}),t&&(e.restoreSelection(),this.isDisabled(e)||function(e,t,n,r,o){if(void 0===n&&(n=""),void 0===r&&(r=""),void 0===o&&(o={}),kc("editImage",e,t,n,r)){var i=os.getSelectedNodeByType(e,"image");if(null!=i){var a=i.style,s={src:t,alt:n,href:r,style:Jl(Jl({},void 0===a?{}:a),o)};Ht.setNodes(e,s,{match:function(e){return os.checkNodeType(e,"image")}});var l=e.getMenuConfig("editImage").onUpdatedImage;l&&l(t,n,r)}}}(e,t,n,r,o))},e}(),Pc=function(){function e(){this.title="查看链接",this.iconSvg=fu,this.tag="button"}return e.prototype.getValue=function(e){var t=os.getSelectedNodeByType(e,"image");return t&&t.href||""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){return null==e.selection||!this.getValue(e)},e.prototype.exec=function(e,t){if(!this.isDisabled(e)){if(!t||"string"!=typeof t)throw new Error("View image link failed, image.href is '"+t+"'");window.open(t,"_blank")}},e}(),Fc=function(){function e(){this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.getSelectedNode=function(e){return os.getSelectedNodeByType(e,"image")},e.prototype.isDisabled=function(e){return null==e.selection||null==this.getSelectedNode(e)},e.prototype.exec=function(e,t){if(!this.isDisabled(e)){var n=this.getSelectedNode(e);if(null!=n){var r=os.getHoverbar(e);r&&r.hideAndClean();var o=n.style,i={style:Jl(Jl({},void 0===o?{}:o),{width:this.value,height:""})};Ht.setNodes(e,i,{match:function(e){return os.checkNodeType(e,"image")}})}}},e}(),jc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="30%",t.value="30%",t}return Yl(t,e),t}(Fc),Dc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="50%",t.value="50%",t}return Yl(t,e),t}(Fc),Ic=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="100%",t.value="100%",t}return Yl(t,e),t}(Fc),Mc={onInsertedImage:function(e,t,n){},checkImage:function(e,t,n){return!0},onUpdatedImage:function(e,t,n){}},Rc={renderElems:[Sc],elemsToHtml:[{type:"image",elemToHtml:function(e,t,n){var r=e,o=r.src,i=r.alt,a=void 0===i?"":i,s=r.href,l=void 0===s?"":s,u=r.style,c=void 0===u?{}:u,d=c.width,f=void 0===d?"":d,p=c.height,h=void 0===p?"":p,g="";return f&&(g+="width: "+f+";"),h&&(g+="height: "+h+";"),'<img src="'+o+'" alt="'+a+'" data-href="'+l+'" style="'+g+'"/>'}}],menus:[{key:"insertImage",factory:function(){return new Ac},config:Mc},{key:"deleteImage",factory:function(){return new Tc}},{key:"editImage",factory:function(){return new Nc},config:Mc},{key:"viewImageLink",factory:function(){return new Pc}},{key:"imageWidth30",factory:function(){return new jc}},{key:"imageWidth50",factory:function(){return new Dc}},{key:"imageWidth100",factory:function(){return new Ic}}],editorPlugin:function(e){var t=e.isInline,n=e.isVoid,r=e;return r.isInline=function(e){return"image"===e.type||t(e)},r.isVoid=function(e){return"image"===e.type||n(e)},r}},Lc={type:"blockquote",renderElem:function(e,t,n){return F("blockquote",null,t)}},Bc=function(){function e(){this.title="引用",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M894.6 907.1H605.4c-32.6 0-59-26.4-59-59V608.2l-4-14.9c0-315.9 125.5-485.1 376.5-507.5v59.8C752.7 180.4 711.3 315.8 711.3 442.4v41.2l31.5 12.3h151.8c32.6 0 59 26.4 59 59v293.2c0 32.5-26.4 59-59 59z m-472 0H133.4c-32.6 0-59-26.4-59-59V608.2l-4-14.9c0-315.9 125.5-485.1 376.5-507.5v59.8C280.7 180.4 239.3 315.8 239.3 442.4v41.2l31.5 12.3h151.8c32.6 0 59 26.4 59 59v293.2c0 32.5-26.4 59-59 59z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!!os.getSelectedNodeByType(e,"blockquote")},e.prototype.isDisabled=function(e){return null==e.selection||!eu(st.nodes(e,{match:function(e){var t=os.getNodeType(e);return"paragraph"===t||"blockquote"===t},universal:!0,mode:"highest"}),1)[0]},e.prototype.exec=function(e,t){if(!this.isDisabled(e)){var n=this.isActive(e)?"paragraph":"blockquote";Ht.setNodes(e,{type:n},{mode:"highest"})}},e}(),zc={renderElems:[Lc],elemsToHtml:[{type:"blockquote",elemToHtml:function(e,t,n){return"<blockquote>"+t+"</blockquote>"}}],menus:[{key:"blockquote",factory:function(){return new Bc}}],editorPlugin:function(e){var t=e.insertBreak,n=e;return n.insertBreak=function(){var r=eu(st.nodes(e,{match:function(e){return os.checkNodeType(e,"blockquote")},universal:!0}),1)[0];r&&os.isSelectionAtLineEnd(e,r[1])?Ht.insertNodes(n,{type:"paragraph",children:[{text:""}]},{mode:"highest"}):t()},n}},Hc=function(){function e(){this.title="表情",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m0-102.4c226.742857 0 409.6-182.857143 409.6-409.6S738.742857 102.4 512 102.4 102.4 285.257143 102.4 512s182.857143 409.6 409.6 409.6z m-204.8-358.4h409.6c0 113.371429-91.428571 204.8-204.8 204.8s-204.8-91.428571-204.8-204.8z m0-102.4c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8 76.8 32.914286 76.8 76.8-32.914286 76.8-76.8 76.8z m409.6 0c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8c43.885714 0 76.8 32.914286 76.8 76.8s-32.914286 76.8-76.8 76.8z"></path></svg>',this.tag="button",this.showDropPanel=!0,this.$content=null}return e.prototype.exec=function(e,t){},e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){return null==e.selection||!!eu(st.nodes(e,{match:function(t){return"pre"===os.getNodeType(t)||!!st.isVoid(e,t)},universal:!0}),1)[0]},e.prototype.getPanelContentElem=function(e){if(null==this.$content){var t=mr('<ul class="w-e-panel-content-emotion"></ul>');t.on("mousedown","li",(function(t){var n=t.target;if(null!=n){t.preventDefault();var r=mr(n).text();e.insertText(r)}})),this.$content=t}var n=this.$content;if(null==n)return mr();n.html("");var r=e.getMenuConfig("emotion").emotions;return(void 0===r?[]:r).forEach((function(e){var t=mr("<li>"+e+"</li>");n.append(t)})),n},e}(),Uc={menus:[{key:"emotion",factory:function(){return new Hc},config:{emotions:"😀 😃 😄 😁 😆 😅 😂 🤣 😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😛 😝 😜 🤓 😎 😏 😒 😞 😔 😟 😕 🙁 😣 😖 😫 😩 😢 😭 😤 😠 😡 😳 😱 😨 🤗 🤔 😶 😑 😬 🙄 😯 😴 😷 🤑 😈 🤡 💩 👻 💀 👀 👣 👐 🙌 👏 🤝 👍 👎 👊 ✊ 🤛 🤜 🤞 ✌️ 🤘 👌 👈 👉 👆 👇 ☝️ ✋ 🤚 🖐 🖖 👋 🤙 💪 🖕 ✍️ 🙏".split(" ")}}]},$c=function(){function e(){this.tag="select",this.width=80}return e.prototype.isActive=function(e){return!1},e.prototype.getValue=function(e){var t=this.mark,n=st.marks(e);return n&&n[t]?n[t]:""},e.prototype.isDisabled=function(e){return null==e.selection||(this.mark,!!eu(st.nodes(e,{match:function(t){return"pre"===os.getNodeType(t)||!!st.isVoid(e,t)},universal:!0}),1)[0])},e.prototype.exec=function(e,t){var n=this.mark;t?e.addMark(n,t):e.removeMark(n)},e}(),Vc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="字号",t.iconSvg=gu,t.mark="fontSize",t}return Yl(t,e),t.prototype.getOptions=function(e){var t=[],n=e.getMenuConfig(this.mark).fontSizeList,r=void 0===n?[]:n;t.push({text:"默认字号",value:""}),r.forEach((function(e){t.push({text:e,value:e})}));var o=this.getValue(e);return t.forEach((function(e){e.value===o?e.selected=!0:delete e.selected})),t},t}($c),qc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="字体",t.iconSvg=vu,t.mark="fontFamily",t.selectPanelWidth=150,t}return Yl(t,e),t.prototype.getOptions=function(e){var t=[],n=e.getMenuConfig(this.mark).fontFamilyList,r=void 0===n?[]:n;t.push({text:"默认字体",value:""}),r.forEach((function(e){if("string"==typeof e)t.push({text:e,value:e,styleForRenderMenuList:{"font-family":e}});else if("object"==typeof e){var n=e.name,r=e.value;t.push({text:n,value:r,styleForRenderMenuList:{"font-family":r}})}}));var o=this.getValue(e);return t.forEach((function(e){e.value===o?e.selected=!0:delete e.selected})),t},t}($c),Wc={renderTextStyle:function(e,t){var n=e,r=n.fontSize,o=n.fontFamily,i=t;return r&&ec(i,{fontSize:r}),o&&ec(i,{fontFamily:o}),i},textStyleToHtml:function(e,t){if(!_t.isText(e))return t;var n=e,r=n.fontSize,o=n.fontFamily,i=n.text;if(!r&&!o)return t;t===i&&(t="<span>"+i+"</span>");var a=mr(t);r&&a.css("font-size",r),o&&a.css("font-family",o);var s=mr("<div></div>");return s.append(a),s.html()},menus:[{key:"fontSize",factory:function(){return new Vc},config:{fontSizeList:["12px","13px","14px","15px","16px","19px","22px","24px","29px","32px","40px","48px"]}},{key:"fontFamily",factory:function(){return new qc},config:{fontFamilyList:["黑体",{name:"仿宋",value:"仿宋"},"楷体","标楷体","华文仿宋","华文楷体",{name:"宋体",value:"宋体"},"微软雅黑","Arial","Tahoma","Verdana","Times New Roman","Courier New"]}}]},Gc=function(){function e(){this.tag="button"}return e.prototype.getValue=function(e){var t=eu(st.nodes(e,{match:function(e){return!!e.indent},universal:!0}),1)[0];return null==t?"":eu(t,1)[0].indent||""},e.prototype.isActive=function(e){return!1},e.prototype.getMatchNode=function(e){var t=eu(st.nodes(e,{match:function(e){var t=os.getNodeType(e);return"paragraph"===t||!!t.startsWith("header")},universal:!0,mode:"highest"}),1)[0];return null==t?null:t[0]},e}(),Kc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="减少缩进",t.iconSvg=mu,t}return Yl(t,e),t.prototype.isDisabled=function(e){var t=this.getMatchNode(e);return null==t||!t.indent},t.prototype.exec=function(e,t){if(t){var n=parseInt(t.toString(),10)-32;n<0&&(n=0),Ht.setNodes(e,{indent:0===n?null:n+"px"},{match:function(e){return rt.isElement(e)}})}},t}(Gc),Xc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="增加缩进",t.iconSvg=yu,t}return Yl(t,e),t.prototype.isDisabled=function(e){return null==this.getMatchNode(e)},t.prototype.exec=function(e,t){var n=parseInt(t.toString(),10);n||(n=0);var r=n+32;Ht.setNodes(e,{indent:r+"px"},{match:function(e){return rt.isElement(e)}})},t}(Gc),Zc={renderTextStyle:function(e,t){if(!rt.isElement(e))return t;var n=e.indent,r=t;return n&&ec(r,{paddingLeft:n}),r},textStyleToHtml:function(e,t){if(!rt.isElement(e))return t;var n=e.indent;if(!n)return t;var r=mr(t);r.css("padding-left",n);var o=mr("<div></div>");return o.append(r),o.html()},menus:[{key:"indent",factory:function(){return new Xc}},{key:"delIndent",factory:function(){return new Kc}}]},Yc=function(){function e(){this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.getMatchNode=function(e){var t=eu(st.nodes(e,{match:function(e){var t=os.getNodeType(e);return"paragraph"===t||"blockquote"===t||!!t.startsWith("header")},universal:!0,mode:"highest"}),1)[0];return null==t?null:t[0]},e.prototype.isDisabled=function(e){return null==e.selection||!!eu(st.nodes(e,{match:function(t){var n=os.getNodeType(t);return"pre"===n||"video"===n||!!st.isVoid(e,t)},universal:!0}),1)[0]},e}(),Jc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="左对齐",t.iconSvg=bu,t}return Yl(t,e),t.prototype.exec=function(e,t){Ht.setNodes(e,{textAlign:"left"},{match:function(e){return rt.isElement(e)}})},t}(Yc),Qc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="右对齐",t.iconSvg=wu,t}return Yl(t,e),t.prototype.exec=function(e,t){Ht.setNodes(e,{textAlign:"right"},{match:function(e){return rt.isElement(e)}})},t}(Yc),ed=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="居中对齐",t.iconSvg=xu,t}return Yl(t,e),t.prototype.exec=function(e,t){Ht.setNodes(e,{textAlign:"center"},{match:function(e){return rt.isElement(e)}})},t}(Yc),td=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="两端对齐",t.iconSvg=Eu,t}return Yl(t,e),t.prototype.exec=function(e,t){Ht.setNodes(e,{textAlign:"justify"},{match:function(e){return rt.isElement(e)}})},t}(Yc),nd={renderTextStyle:function(e,t){if(!rt.isElement(e))return t;var n=e.textAlign,r=t;return n&&ec(r,{textAlign:n}),r},textStyleToHtml:function(e,t){if(!rt.isElement(e))return t;var n=e.textAlign;if(!n)return t;var r=mr(t);r.css("text-align",n);var o=mr("<div></div>");return o.append(r),o.html()},menus:[{key:"justifyLeft",factory:function(){return new Jc}},{key:"justifyRight",factory:function(){return new Qc}},{key:"justifyCenter",factory:function(){return new ed}},{key:"justifyJustify",factory:function(){return new td}}]},rd=function(){function e(){this.title="行高",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M964 788a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526zM198.93 144.306c6.668-5.798 16.774-5.094 22.573 1.574l122.26 140.582a16 16 0 0 1 3.927 10.5c0 8.836-7.164 16-16 16h-61.8a8 8 0 0 0-8 8v390.077h69.819a16 16 0 0 1 10.502 3.928c6.666 5.8 7.37 15.906 1.57 22.573L221.476 878.123a16 16 0 0 1-1.57 1.57c-6.668 5.8-16.774 5.097-22.574-1.57L75.051 737.538a16 16 0 0 1-3.928-10.5c0-8.837 7.163-16 16-16h69.822V312.96H87.127a16 16 0 0 1-10.502-3.928c-6.666-5.8-7.37-15.906-1.57-22.573l122.303-140.582a16 16 0 0 1 1.572-1.572zM964 465a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526z m0-323a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526z"></path></svg>',this.tag="select",this.width=80}return e.prototype.getOptions=function(e){var t=[],n=e.getMenuConfig("lineHeight").lineHeightList,r=void 0===n?[]:n;t.push({text:"默认行高",value:""}),r.forEach((function(e){t.push({text:e,value:e})}));var o=this.getValue(e);return t.forEach((function(e){e.value===o?e.selected=!0:delete e.selected})),t},e.prototype.getMatchNode=function(e){var t=eu(st.nodes(e,{match:function(e){var t=os.getNodeType(e);return!!t.startsWith("header")||!!["paragraph","blockquote","bulleted-list","numbered-list"].includes(t)},universal:!0,mode:"highest"}),1)[0];return null==t?null:t[0]},e.prototype.isActive=function(e){return!1},e.prototype.getValue=function(e){var t=this.getMatchNode(e);return null==t?"":rt.isElement(t)&&t.lineHeight||""},e.prototype.isDisabled=function(e){return null==e.selection||null==this.getMatchNode(e)},e.prototype.exec=function(e,t){Ht.setNodes(e,{lineHeight:t.toString()},{mode:"highest"})},e}(),od={renderTextStyle:function(e,t){if(!rt.isElement(e))return t;var n=e.lineHeight,r=t;return n&&ec(r,{lineHeight:n}),r},textStyleToHtml:function(e,t){if(!rt.isElement(e))return t;var n=e.lineHeight;if(!n)return t;var r=mr(t);r.css("line-height",n);var o=mr("<div></div>");return o.append(r),o.html()},menus:[{key:"lineHeight",factory:function(){return new rd},config:{lineHeightList:["1","1.15","1.5","2","2.5","3"]}}]},id=function(){function e(){this.title="重做",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M0.00032 576a510.72 510.72 0 0 0 173.344 384l84.672-96A383.136 383.136 0 0 1 128.00032 576C128.00032 363.936 299.93632 192 512.00032 192c106.048 0 202.048 42.976 271.52 112.48L640.00032 448h384V64l-149.984 149.984A510.272 510.272 0 0 0 512.00032 64C229.21632 64 0.00032 293.216 0.00032 576z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){return null==e.selection},e.prototype.exec=function(e,t){"function"==typeof e.redo&&e.redo()},e}(),ad=function(){function e(){this.title="撤销",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M512 64A510.272 510.272 0 0 0 149.984 213.984L0.032 64v384h384L240.512 304.48A382.784 382.784 0 0 1 512.032 192c212.064 0 384 171.936 384 384 0 114.688-50.304 217.632-130.016 288l84.672 96a510.72 510.72 0 0 0 173.344-384c0-282.784-229.216-512-512-512z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){return null==e.selection},e.prototype.exec=function(e,t){"function"==typeof e.undo&&e.undo()},e}(),sd={menus:[{key:"redo",factory:function(){return new id}},{key:"undo",factory:function(){return new ad}}]},ld={type:"divider",renderElem:function(e,t,n){return F("div",{className:"w-e-textarea-divider","data-selected":os.isNodeSelected(n,e)?"true":"",style:{}},F("hr",null))}},ud=function(){function e(){this.title="分割线",this.iconSvg='<svg viewBox="0 0 1092 1024"><path d="M0 51.2m51.2 0l989.866667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-989.866667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M0 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M819.2 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M409.6 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M0 870.4m51.2 0l989.866667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-989.866667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){return null==e.selection||!!os.getSelectedNodeByType(e,"divider")},e.prototype.exec=function(e,t){Ht.insertNodes(e,{type:"divider",children:[{text:""}]},{mode:"highest"})},e}(),cd={renderElems:[ld],elemsToHtml:[{type:"divider",elemToHtml:function(e,t,n){return"<hr/>"}}],menus:[{key:"divider",factory:function(){return new ud}}],editorPlugin:function(e){var t=e.isVoid,n=e.normalizeNode,r=e;return r.isVoid=function(e){return"divider"===e.type||t(e)},r.normalizeNode=function(e){var t=eu(e,2),o=t[0],i=t[1];if("divider"!==os.getNodeType(o))return n([o,i]);var a=((r.children||[])[i[0]+1]||{}).type,s=void 0===a?"":a;if("paragraph"!==s&&"blockquote"!==s&&!s.startsWith("header")){var l=[i[0]+1];Ht.insertNodes(r,{type:"paragraph",children:[{text:""}]},{at:l})}},r}},dd=function(){function e(){this.title="代码块",this.iconSvg='<svg viewBox="0 0 1280 1024"><path d="M832 736l96 96 320-320L928 192l-96 96 224 224zM448 288l-96-96L32 512l320 320 96-96-224-224zM701.312 150.528l69.472 18.944-192 704.032-69.472-18.944 192-704.032z"></path></svg>',this.tag="button"}return e.prototype.getSelectCodeElem=function(e){var t=os.getSelectedNodeByType(e,"code");if(null==t)return null;var n=os.getParentNode(e,t);return null==n||"pre"!==os.getNodeType(n)?null:t},e.prototype.getValue=function(e){var t=this.getSelectCodeElem(e);return null==t?"":t.language||""},e.prototype.isActive=function(e){return!!this.getSelectCodeElem(e)},e.prototype.isDisabled=function(e){return null==e.selection||null==eu(st.nodes(e,{match:function(e){var t=os.getNodeType(e);return"pre"===t||"paragraph"===t},universal:!0}),1)[0]},e.prototype.exec=function(e,t){this.isActive(e)?this.changeToPlainText(e):this.changeToCodeBlock(e,t.toString())},e.prototype.changeToPlainText=function(e){var t=this.getSelectCodeElem(e);if(null!=t){var n=dt.string(t);Ht.removeNodes(e,{mode:"highest"});var r=n.split("\n").map((function(e){return{type:"paragraph",children:[{text:e}]}}));Ht.insertNodes(e,r,{mode:"highest"})}},e.prototype.changeToCodeBlock=function(e,t){var n,r,o=[],i=st.nodes(e,{match:function(t){return e.children.includes(t)},universal:!0});try{for(var a=Ql(i),s=a.next();!s.done;s=a.next()){var l=eu(s.value,1)[0];l&&o.push(dt.string(l))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}Ht.removeNodes(e,{mode:"highest"});var u={type:"pre",children:[{type:"code",language:t,children:[{text:o.join("\n")}]}]};Ht.insertNodes(e,u,{mode:"highest"})},e}(),fd={menus:[{key:"codeBlock",factory:function(){return new dd}}],editorPlugin:function(e){var t=e.insertBreak,n=e.normalizeNode,r=e.insertData,o=e;return o.insertBreak=function(){var n=os.getSelectedNodeByType(o,"code");null!=n?"\n\n"===dt.string(n).slice(-2)?Ht.insertNodes(e,{type:"paragraph",children:[{text:""}]},{mode:"highest"}):o.insertText("\n"):t()},o.normalizeNode=function(e){var t=eu(e,2),r=t[0],i=t[1],a=os.getNodeType(r);if(!("code"===a&&i.length<=1))return"pre"===a&&o.children[0]===r&&Ht.insertNodes(o,{type:"paragraph",children:[{text:""}]},{at:i}),n([r,i]);Ht.setNodes(o,{type:"paragraph"},{at:i})},o.insertData=function(e){if(null!=os.getSelectedNodeByType(o,"code")){var t=e.getData("text/plain");st.insertText(o,t)}else r(e)},o},renderElems:[{type:"pre",renderElem:function(e,t,n){return F("pre",null,t)}},{type:"code",renderElem:function(e,t,n){return F("code",null,t)}}],elemsToHtml:[{type:"code",elemToHtml:function(e,t,n){return"<code>"+t+"</code>"}},{type:"pre",elemToHtml:function(e,t,n){return"<pre>"+t+"</pre>"}}]},pd=function(){function e(){this.title="全屏",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M133.705143 335.433143V133.851429h201.581714a29.622857 29.622857 0 0 0 29.622857-29.549715V68.754286a29.622857 29.622857 0 0 0-29.622857-29.622857H61.732571A22.893714 22.893714 0 0 0 38.765714 62.025143V335.725714c0 16.310857 13.238857 29.622857 29.622857 29.622857h35.547429a29.842286 29.842286 0 0 0 29.696-29.842285zM690.980571 133.851429h201.581715v201.654857c0 16.310857 13.238857 29.549714 29.622857 29.549714h35.547428a29.622857 29.622857 0 0 0 29.549715-29.549714V61.952a22.893714 22.893714 0 0 0-22.820572-22.893714h-273.554285a29.622857 29.622857 0 0 0-29.549715 29.622857v35.547428c0 16.310857 13.238857 29.696 29.622857 29.696zM335.286857 892.781714H133.705143V691.2a29.622857 29.622857 0 0 0-29.622857-29.622857H68.534857a29.622857 29.622857 0 0 0-29.549714 29.622857v273.554286c0 12.653714 10.24 22.893714 22.820571 22.893714h273.554286a29.622857 29.622857 0 0 0 29.696-29.622857v-35.547429a29.769143 29.769143 0 0 0-29.769143-29.696z m557.348572-201.581714v201.581714H690.907429a29.622857 29.622857 0 0 0-29.622858 29.622857v35.547429c0 16.310857 13.238857 29.622857 29.622858 29.622857h273.554285c12.580571 0 22.893714-10.313143 22.893715-22.893714V691.2a29.622857 29.622857 0 0 0-29.622858-29.622857h-35.547428a29.622857 29.622857 0 0 0-29.696 29.622857z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return e.isFullScreen},e.prototype.isDisabled=function(e){return!1},e.prototype.exec=function(e,t){e.isFullScreen?e.unFullScreen():e.fullScreen()},e}(),hd=[Cu,Qu,nu,ic,xc,Rc,zc,Uc,Wc,Zc,nd,od,sd,cd,fd,{menus:[{key:"fullScreen",factory:function(){return new pd}}]}];function gd(e){if("bulleted-list"===e)return"ul";if("numbered-list"===e)return"ol";if("list-item"===e)return"li";throw new Error("list type '"+e+"' is invalid")}function vd(e){var t=os.getNodeType(e);return["bulleted-list","numbered-list"].includes(t)}function md(e){return function(t,n,r){return F(gd(e),null,n)}}var yd={type:"bulleted-list",renderElem:md("bulleted-list")},bd={type:"numbered-list",renderElem:md("numbered-list")},wd={type:"list-item",renderElem:md("list-item")};function xd(e){var t=gd(e);return function(e,n,r){return"<"+t+">"+n+"</"+t+">"}}var Ed={type:"bulleted-list",elemToHtml:xd("bulleted-list")},Sd={type:"numbered-list",elemToHtml:xd("numbered-list")},kd={type:"list-item",elemToHtml:xd("list-item")},Od=function(e,t){return(Od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function _d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Od(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Ad(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var Td=function(){function e(){this.tag="button"}return e.prototype.getListNode=function(e){var t=this.type;return os.getSelectedNodeByType(e,t)},e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!!this.getListNode(e)},e.prototype.isDisabled=function(e){return null==e.selection||!!Ad(st.nodes(e,{match:function(t){var n=os.getNodeType(t);return"pre"===n||!!st.isVoid(e,t)||"table"===n},universal:!0}),1)[0]},e.prototype.getMatchListType=function(e){var t=Ad(st.nodes(e,{match:function(e){return vd(e)},universal:!0}),1)[0];if(null==t)return"";var n=Ad(t,1)[0];return os.getNodeType(n)},e.prototype.exec=function(e,t){var n=this.type,r=this.isActive(e);Ht.unwrapNodes(e,{match:function(e){return vd(e)},split:!0}),Ht.setNodes(e,{type:r?"paragraph":"list-item"});var o={type:n,children:[]};r||Ht.wrapNodes(e,o);var i=this.getMatchListType(e);""!=i&&i!==n&&Ht.wrapNodes(e,o)},e}(),Cd='<svg viewBox="0 0 1024 1024"><path d="M384 64h640v128H384V64z m0 384h640v128H384v-128z m0 384h640v128H384v-128zM0 128a128 128 0 1 1 256 0 128 128 0 0 1-256 0z m0 384a128 128 0 1 1 256 0 128 128 0 0 1-256 0z m0 384a128 128 0 1 1 256 0 128 128 0 0 1-256 0z"></path></svg>',Nd='<svg viewBox="0 0 1024 1024"><path d="M384 832h640v128H384z m0-384h640v128H384z m0-384h640v128H384zM192 0v256H128V64H64V0zM128 526.016v50.016h128v64H64v-146.016l128-60V384H64v-64h192v146.016zM256 704v320H64v-64h128v-64H64v-64h128v-64H64v-64z"></path></svg>',Pd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="bulleted-list",t.title="无序列表",t.iconSvg=Cd,t}return _d(t,e),t}(Td),Fd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="numbered-list",t.title="有序列表",t.iconSvg=Nd,t}return _d(t,e),t}(Td),jd={renderElems:[yd,bd,wd],elemsToHtml:[Ed,Sd,kd],menus:[{key:"bulletedList",factory:function(){return new Pd}},{key:"numberedList",factory:function(){return new Fd}}],editorPlugin:function(e){var t=e.insertBreak,n=e.deleteBackward,r=e;return r.insertBreak=function(){var e=os.getSelectedNodeByType(r,"list-item");if(null!=e){var n=os.getParentNode(r,e),o=(null==n?void 0:n.children)||[];if(e===o[o.length-1]&&""===dt.string(e))return Ht.removeNodes(r,{match:function(e){return os.checkNodeType(e,"list-item")}}),void Ht.insertNodes(r,{type:"paragraph",children:[{text:""}]},{mode:"highest"});t()}else t()},r.deleteBackward=function(e){(function(e){var t=Ad(st.nodes(e,{match:function(t){return e.children[0]===t},mode:"highest"}),1)[0];if(null==t)return!1;var n=t[0];return!(!rt.isElement(n)||dt.string(n)||!vd(n)||(Ht.unwrapNodes(e,{match:function(e){return vd(e)},split:!0}),Ht.setNodes(e,{type:"paragraph"}),0))})(r)||n(e)},r}};
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
function Dd(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Id(e){var t=e.selection;if(null==t)return!1;var n=Dd(st.nodes(e,{match:function(e){return os.checkNodeType(e,"table-cell")}}),1)[0];if(n){var r=Dd(n,2)[1],o=st.start(e,r);if(bt.equals(t.anchor,o))return!0}return!1}var Md={type:"table",renderElem:function(e,t,n){var r=e,o=r.withHeader,i=void 0!==o&&o,a=r.fullWidth,s=void 0!==a&&a,l=[];return i&&l.push("with-header"),s&&l.push("full-width"),F("table",{className:l.join(" ")},F("tbody",null,t))}},Rd={type:"table-row",renderElem:function(e,t,n){return F("tr",null,t)}},Ld={type:"table-cell",renderElem:function(e,t,n){var r=e,o=r.colSpan,i=void 0===o?1:o,a=r.rowSpan;return F("td",{colSpan:i,rowSpan:void 0===a?1:a},t)}},Bd={type:"table-cell",elemToHtml:function(e,t,n){var r=e,o=r.colSpan,i=void 0===o?1:o,a=r.rowSpan,s=void 0===a?1:a,l="td",u=os.getParentNode(n,e);if(null==u)throw new Error("Cannot get table row node by cell node "+JSON.stringify(e));var c=os.getParentNode(n,u);if(null==c)throw new Error("Cannot get table node by cell node "+JSON.stringify(e));return c.withHeader&&0===c.children.findIndex((function(e){return e===u}))&&(l="th"),"<"+l+' colSpan="'+i+'" rowSpan="'+s+'">'+t+"</"+l+">"}};mr.fn.append=Dr,mr.fn.on=Or,mr.fn.focus=Ur,mr.fn.attr=xr,mr.fn.val=kr,mr.fn.html=Fr,mr.fn.dataset=Sr,mr.fn.addClass=yr,mr.fn.removeClass=br,mr.fn.children=Rr,mr.fn.each=Pr;var zd=function(){function e(){this.title="插入表格",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M0 64v896h1024V64H0z m384 576v-192h256v192h-256z m256 64v192h-256v-192h256z m0-512v192h-256V192h256zM320 192v192H64V192h256z m-256 256h256v192H64v-192z m640 0h256v192h-256v-192z m0-64V192h256v192h-256zM64 704h256v192H64v-192z m640 192v-192h256v192h-256z"></path></svg>',this.tag="button",this.showDropPanel=!0,this.$content=null}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.exec=function(e,t){},e.prototype.isDisabled=function(e){var t=e.selection;return null==t||!Et.isCollapsed(t)||null!=Dd(st.nodes(e,{match:function(e){return os.checkNodeType(e,"table")},universal:!0}),1)[0]},e.prototype.getPanelContentElem=function(e){var t=this;if(this.$content)return this.$content;for(var n=mr('<div class="w-e-panel-content-table"></div>'),r=mr("<table></table>"),o=0;o<10;o++){for(var i=mr("<tr></tr>"),a=0;a<10;a++){var s=mr("<td></td>");s.attr("data-x",a.toString()),s.attr("data-y",o.toString()),i.append(s),s.on("mouseenter",(function(e){var t=e.target;if(null!=t){var n=mr(t).dataset(),o=n.x,i=n.y;r.children().each((function(e){mr(e).children().each((function(e){var t=mr(e),n=t.dataset(),r=n.x,a=n.y;r<=o&&a<=i?t.addClass("active"):t.removeClass("active")}))}))}})),s.on("mousedown",(function(n){n.preventDefault();var r=n.target;if(null!=r){var o=mr(r).dataset(),i=o.x,a=o.y;t.insertTable(e,a+1,i+1)}}))}r.append(i)}return n.append(r),this.$content=n,n},e.prototype.insertTable=function(e,t,n){var r=parseInt(t,10),o=parseInt(n,10);if(r&&o&&!(r<=0||o<=0)){var i=os.getSelectedNodeByType(e,"paragraph");i&&""===dt.string(i)&&Ht.removeNodes(e,{mode:"highest"});var a=function(e,t){for(var n=[],r=0;r<e;r++){for(var o=[],i=0;i<t;i++)o.push({type:"table-cell",children:[{text:""}]});n.push({type:"table-row",children:o})}return{type:"table",withHeader:!0,children:n}}(r,o);Ht.insertNodes(e,a,{mode:"highest"})}},e}(),Hd=function(){function e(){this.title="删除表格",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z" p-id="9577"></path><path d="M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){return null==e.selection||null==os.getSelectedNodeByType(e,"table")},e.prototype.exec=function(e,t){this.isDisabled(e)||Ht.removeNodes(e,{mode:"highest"})},e}(),Ud=function(){function e(){this.title="插入行",this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M707.7888 521.0112h-147.456v-147.456H488.2432v147.456h-147.456v68.8128h147.456v147.456h72.0896v-147.456h147.456zM0 917.504V0h1048.576v917.504H0zM327.68 65.536H65.536v196.608H327.68V65.536z m327.68 0H393.216v196.608h262.144V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 258.8672H65.536v462.0288H983.04V324.4032z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){var t=e.selection;return null==t||!Et.isCollapsed(t)||null==os.getSelectedNodeByType(e,"table")},e.prototype.exec=function(e,t){if(!this.isDisabled(e)){var n=Dd(st.nodes(e,{match:function(e){return os.checkNodeType(e,"table-cell")},universal:!0}),1),r=Dd(n[0],2),o=r[0],i=r[1],a=os.getParentNode(e,o),s=(null==a?void 0:a.children.length)||0;if(0!==s){for(var l={type:"table-row",children:[]},u=0;u<s;u++)l.children.push({type:"table-cell",children:[{text:""}]});var c=gt.parent(i),d=gt.next(c);Ht.insertNodes(e,l,{at:d})}}},e}(),$d=function(){function e(){this.title="删除行",this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M907.6736 586.5472L747.1104 425.984l163.84-163.84-78.6432-78.6432-163.84 163.84L507.904 186.7776 429.2608 262.144l163.84 163.84-167.1168 167.1168 78.6432 78.6432 167.1168-167.1168 160.5632 160.5632 75.3664-78.6432zM0 917.504V0h1048.576v917.504H0z m983.04-327.68h-22.9376l-65.536-65.536H983.04V327.68h-91.7504l65.536-65.536h26.2144V65.536H65.536v196.608h317.8496l65.536 65.536H65.536v196.608h380.1088l-65.536 65.536H65.536v196.608H983.04v-196.608z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){var t=e.selection;return null==t||!Et.isCollapsed(t)||null==os.getSelectedNodeByType(e,"table-row")},e.prototype.exec=function(e,t){if(!this.isDisabled(e)){var n=Dd(st.nodes(e,{match:function(e){return os.checkNodeType(e,"table-row")},universal:!0}),1),r=Dd(n[0],2),o=r[0],i=r[1],a=os.getParentNode(e,o);((null==a?void 0:a.children.length)||0)<=1?Ht.removeNodes(e,{mode:"highest"}):Ht.removeNodes(e,{at:i})}},e}(),Vd=function(){function e(){this.title="插入列",this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M327.68 193.3312v186.7776H140.9024v91.7504H327.68v186.7776h88.4736V471.8592h190.0544V380.1088H416.1536V193.3312zM0 917.504V0h1048.576v917.504H0zM655.36 65.536H65.536v720.896H655.36V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 262.144h-262.144v196.608h262.144V327.68z m0 262.144h-262.144v196.608h262.144v-196.608z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){var t=e.selection;return null==t||!Et.isCollapsed(t)||null==os.getSelectedNodeByType(e,"table")},e.prototype.exec=function(e,t){if(!this.isDisabled(e)){var n=Dd(st.nodes(e,{match:function(e){return os.checkNodeType(e,"table-cell")},universal:!0}),1),r=Dd(n[0],2),o=r[0],i=r[1],a=i.slice(0,1);os.recordChangingPath(e,a);var s=os.getParentNode(e,o);if(null!=s){var l=os.getParentNode(e,s);null!=l&&((l.children||[]).forEach((function(t){rt.isElement(t)&&(t.children||[]).forEach((function(t){var n=os.findPath(e,t);n.length===i.length&&Ut(n.slice(-1),i.slice(-1))&&Ht.insertNodes(e,{type:"table-cell",children:[{text:""}]},{at:n})}))})),os.deleteChangingPath(e))}}},e}(),qd=function(){function e(){this.title="删除列",this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M327.68 510.976L393.216 445.44v-13.1072L327.68 366.7968V510.976z m327.68-78.4384l65.536-65.536V507.904L655.36 442.368v-9.8304z m393.216 484.9664V0H0v917.504h1048.576z m-65.536-131.072h-262.144v-52.4288l-13.1072 13.1072-52.4288-52.4288v91.7504H393.216v-91.7504l-52.4288 52.4288-13.1072-13.1072v52.4288H65.536V65.536H327.68v121.2416l36.0448-36.0448 29.4912 29.4912V62.2592h262.144V180.224l49.152-49.152 16.384 16.384V62.2592h262.144V786.432z m-294.912-108.1344l-160.5632-160.5632-167.1168 167.1168-78.6432-78.6432 167.1168-167.1168L288.3584 278.528l78.6432-78.6432 160.5632 160.5632 163.84-163.84 78.6432 78.6432-163.84 163.84 160.5632 160.5632-78.6432 78.6432z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){var t=e.selection;return null==t||!Et.isCollapsed(t)||null==os.getSelectedNodeByType(e,"table-cell")},e.prototype.exec=function(e,t){if(!this.isDisabled(e)){var n=Dd(st.nodes(e,{match:function(e){return os.checkNodeType(e,"table-cell")},universal:!0}),1),r=Dd(n[0],2),o=r[0],i=r[1],a=os.getParentNode(e,o),s=(null==a?void 0:a.children.length)||0;if(!a||s<=1)Ht.removeNodes(e,{mode:"highest"});else{var l=i.slice(0,1);os.recordChangingPath(e,l);var u=os.getParentNode(e,a);null!=u&&((u.children||[]).forEach((function(t){rt.isElement(t)&&(t.children||[]).forEach((function(t){var n=os.findPath(e,t);n.length===i.length&&Ut(n.slice(-1),i.slice(-1))&&Ht.removeNodes(e,{at:n})}))})),os.deleteChangingPath(e))}}},e}(),Wd=function(){function e(){this.title="表头",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M704 128l-64 0L384 128 320 128 0 128l0 256 0 64 0 192 0 64 0 256 320 0 64 0 256 0 64 0 320 0 0-256 0-64L1024 448 1024 384 1024 128 704 128zM640 640 384 640 384 448l256 0L640 640zM64 448l256 0 0 192L64 640 64 448zM320 896 64 896l0-192 256 0L320 896zM640 896 384 896l0-192 256 0L640 896zM960 896l-256 0 0-192 256 0L960 896zM960 640l-256 0L704 448l256 0L960 640z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){var t=os.getSelectedNodeByType(e,"table");return null!=t&&!!t.withHeader},e.prototype.isActive=function(e){return!!this.getValue(e)},e.prototype.isDisabled=function(e){var t=e.selection;return null==t||!Et.isCollapsed(t)||null==os.getSelectedNodeByType(e,"table")},e.prototype.exec=function(e,t){if(!this.isDisabled(e)){var n={withHeader:!t||null};Ht.setNodes(e,n,{mode:"highest"})}},e}(),Gd=function(){function e(){this.title="宽度自适应",this.iconSvg='<svg viewBox="0 0 1228 1024"><path d="M862.514337 563.200461H404.581995v121.753478a13.311987 13.311987 0 0 1-6.655993 11.468789 10.23999 10.23999 0 0 1-12.083188-1.433599l-204.799795-179.199821a13.721586 13.721586 0 0 1 0-20.479979l204.799795-179.302221a10.23999 10.23999 0 0 1 12.185588-1.535998 13.209587 13.209587 0 0 1 6.553593 11.673588v115.097485h457.932342V319.693504a11.571188 11.571188 0 0 1 18.841582-10.239989l204.799795 179.19982a13.721586 13.721586 0 0 1 0 20.47998l-204.799795 179.199821a10.23999 10.23999 0 0 1-12.185588 1.535998 13.311987 13.311987 0 0 1-6.655994-11.571188V563.200461zM136.499064 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785H15.155185A15.155185 15.155185 0 0 1 0 1008.844815V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086294a15.155185 15.155185 0 0 1 15.257585 15.155185zM1228.798771 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785h-106.188693a15.155185 15.155185 0 0 1-15.155185-15.052785V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086293A15.155185 15.155185 0 0 1 1228.798771 15.053809z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){var t=os.getSelectedNodeByType(e,"table");return null!=t&&!!t.fullWidth},e.prototype.isActive=function(e){return!!this.getValue(e)},e.prototype.isDisabled=function(e){var t=e.selection;return null==t||!Et.isCollapsed(t)||null==os.getSelectedNodeByType(e,"table")},e.prototype.exec=function(e,t){if(!this.isDisabled(e)){var n={fullWidth:!t||null};Ht.setNodes(e,n,{mode:"highest"})}},e}(),Kd={renderElems:[Md,Rd,Ld],elemsToHtml:[{type:"table",elemToHtml:function(e,t,n){var r=e.fullWidth,o="";return void 0!==r&&r&&(o+="width: 100%;"),'<table style="'+o+'"><tbody>'+t+"</tbody></table>"}},{type:"table-row",elemToHtml:function(e,t,n){return"<tr>"+t+"</tr>"}},Bd],menus:[{key:"insertTable",factory:function(){return new zd}},{key:"deleteTable",factory:function(){return new Hd}},{key:"insertTableRow",factory:function(){return new Ud}},{key:"deleteTableRow",factory:function(){return new $d}},{key:"insertTableCol",factory:function(){return new Vd}},{key:"deleteTableCol",factory:function(){return new qd}},{key:"tableHeader",factory:function(){return new Wd}},{key:"tableFullWidth",factory:function(){return new Gd}}],editorPlugin:function(e){var t=e.insertBreak,n=e.deleteBackward,r=e.deleteForward,o=e.normalizeNode,i=e.insertData,a=e;return a.insertBreak=function(){null==os.getSelectedNodeByType(a,"table")?t():a.insertText("\n")},a.deleteBackward=function(e){Id(a)||n(e)},a.deleteForward=function(e){Id(a)||r(e)},a.normalizeNode=function(e){var t=Dd(e,2),n=t[0],r=t[1];if("table"!==os.getNodeType(n))return o([n,r]);var i=n.children,s=void 0===i?[]:i,l=a.children||[],u=(l[r[0]+1]||{}).type,c=void 0===u?"":u;if("paragraph"!==c&&"blockquote"!==c&&!c.startsWith("header")){var d={type:"paragraph",children:[{text:""}]},f=[r[0]+1];Ht.insertNodes(a,d,{at:f})}if(l[0]===n&&(d={type:"paragraph",children:[{text:""}]},Ht.insertNodes(a,d,{at:r})),os.isChangingPath(a,r))return o([n,r]);var p=0;s.forEach((function(e){if(rt.isElement(e)){var t=(e.children||[]).length;p<t&&(p=t)}})),s.forEach((function(e,t){if(rt.isElement(e)){var n=e.children||[],o=r.concat(t);if(n.length<p)for(var i=n.length;i<p;i++){var s=o.concat(i);Ht.insertNodes(a,{type:"table-cell",children:[{text:""}]},{at:s})}n.forEach((function(e,t){if(rt.isElement(e)&&"table-cell"!==e.type){var n=o.concat(t);Ht.setNodes(a,{type:"table-cell"},{at:n})}}))}}))},a.insertData=function(e){if(null!=os.getSelectedNodeByType(a,"table")){var t=e.getData("text/plain");st.insertText(a,t)}else i(e)},a}};
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function Xd(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var Zd={type:"video",renderElem:function(e,t,n){var r=e.src,o=void 0===r?"":r,i=os.isNodeSelected(n,e);return 0===o.trim().indexOf("<iframe")?F("div",{contentEditable:!1,className:"w-e-textarea-video-container","data-selected":i?"true":"",innerHTML:o}):F("div",{contentEditable:!1,className:"w-e-textarea-video-container","data-selected":i?"true":""},F("video",{controls:!0},F("source",{src:o,type:"video/mp4"}),"Sorry, your browser doesn't support embedded videos.\n 抱歉，浏览器不支持 video 视频"))}};function Yd(){return void 0===(e="w-e-insert-video")&&(e="r"),e+"-"+Date.now().toString().slice(-5)+Math.random().toString(36).slice(-5);var e}mr.fn.append=Dr,mr.fn.on=Or,mr.fn.focus=Ur,mr.fn.attr=xr,mr.fn.val=kr,mr.fn.html=Fr;var Jd=function(){function e(){this.title="插入视频",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=Yd(),this.buttonId=Yd()}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.exec=function(e,t){},e.prototype.isDisabled=function(e){var t=e.selection;return null==t||!Et.isCollapsed(t)},e.prototype.getModalPositionNode=function(e){return null},e.prototype.getModalContentElem=function(e){var t=this,n=this.srcInputId,r=this.buttonId,o=Xd(Rl("视频地址",n,"mp4 网址，或第三方 <iframe>..."),2),i=o[0],a=o[1],s=Xd(Ll(r,"确定"),1)[0];if(null==this.$content){var l=mr("<div></div>");l.on("click","#"+r,(function(r){r.preventDefault();var o=mr("#"+n).val().trim();t.insertVideo(e,o),e.hidePanelOrModal()})),this.$content=l}var u=this.$content;return u.html(""),u.append(i),u.append(s),a.val(""),setTimeout((function(){mr("#"+n).focus()})),u},e.prototype.insertVideo=function(e,t){if(t&&(e.restoreSelection(),!this.isDisabled(e))){var n=e.getMenuConfig("insertVideo"),r=n.onInsertedVideo,o=(0,n.checkVideo)(t);if("string"!=typeof o){if(null!=o){var i={type:"video",src:t,children:[{text:""}]};Ht.insertNodes(e,i),r(t)}}else e.alert(o,"error")}},e}(),Qd=function(){function e(){this.title="删除视频",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z" p-id="9577"></path><path d="M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){return null==e.selection||null==os.getSelectedNodeByType(e,"video")},e.prototype.exec=function(e,t){this.isDisabled(e)||Ht.removeNodes(e,{match:function(e){return os.checkNodeType(e,"video")}})},e}(),ef={renderElems:[Zd],elemsToHtml:[{type:"video",elemToHtml:function(e,t,n){var r=e.src,o=void 0===r?"":r,i='<div class="wangeditor-video-container">\n';return 0===o.trim().indexOf("<iframe")?i+=o:i+='<video controls><source src="'+o+'" type="video/mp4"/></video>',i+"\n</div>"}}],menus:[{key:"insertVideo",factory:function(){return new Jd},config:{onInsertedVideo:function(e){},checkVideo:function(e){return!0}}},{key:"deleteVideo",factory:function(){return new Qd}}],editorPlugin:function(e){var t=e.isVoid,n=e.normalizeNode,r=e;return r.isVoid=function(e){return"video"===e.type||t(e)},r.normalizeNode=function(e){var t=Xd(e,2),o=t[0],i=t[1];if("video"===os.getNodeType(o)){var a=(r.children||[])[i[0]+1]||{},s=os.getNodeType(a);if("paragraph"!==s&&"blockquote"!==s&&!s.startsWith("header")){var l=[i[0]+1];Ht.insertNodes(r,{type:"paragraph",children:[{text:""}]},{at:l})}}return n([o,i])},r}},tf=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};function nf(){return(nf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var rf,of=function(){function e(e){var t=this;this.locale={strings:{},pluralize:function(e){return 1===e?0:1}},Array.isArray(e)?e.forEach((function(e){return t._apply(e)})):this._apply(e)}var t=e.prototype;return t._apply=function(e){if(e&&e.strings){var t=this.locale;this.locale=nf({},t,{strings:nf({},t.strings,e.strings)}),this.locale.pluralize=e.pluralize||t.pluralize}}
/**
     * Takes a string with placeholder variables like `%{smart_count} file selected`
     * and replaces it with values from options `{smart_count: 5}`
     *
     * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
     * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
     *
     * @param {string} phrase that needs interpolation, with placeholders
     * @param {object} options with values that will be used to replace placeholders
     * @returns {any[]} interpolated
     */,t.interpolate=function(e,t){var n=String.prototype,r=n.split,o=n.replace,i=/\$/g,a=[e];for(var s in t)if("_"!==s&&tf(t,s)){var l=t[s];"string"==typeof l&&(l=o.call(t[s],i,"$$$$")),a=u(a,new RegExp("%\\{"+s+"\\}","g"),l)}return a;function u(e,t,n){var o=[];return e.forEach((function(e){if("string"!=typeof e)return o.push(e);r.call(e,t).forEach((function(e,t,r){""!==e&&o.push(e),t<r.length-1&&o.push(n)}))})),o}},t.translate=function(e,t){return this.translateArray(e,t).join("")},t.translateArray=function(e,t){if(!tf(this.locale.strings,e))throw new Error("missing string: "+e);var n=this.locale.strings[e];if("object"==typeof n){if(t&&void 0!==t.smart_count){var r=this.locale.pluralize(t.smart_count);return this.interpolate(n[r],t)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return this.interpolate(n,t)},e}(),af=function(){var e={},t=e._fns={};return e.emit=function(e,n,r,o,i,a,s){var l=function(e){var n=t[e]?t[e]:[],r=e.indexOf(":"),o=-1===r?[e]:[e.substring(0,r),e.substring(r+1)],i=Object.keys(t),a=0,s=i.length;for(;a<s;a++){var l=i[a];if("*"===l&&(n=n.concat(t[l])),2===o.length&&o[0]===l){n=n.concat(t[l]);break}}return n}(e);l.length&&function(e,t,n){var r=0,o=t.length;for(;r<o&&t[r];r++)t[r].event=e,t[r].apply(t[r],n)}(e,l,[n,r,o,i,a,s])},e.on=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},e.once=function(t,n){this.on(t,(function r(){n.apply(this,arguments),e.off(t,r)}))},e.off=function(e,t){var n=[];if(e&&t)for(var r=this._fns[e],o=0,i=r?r.length:0;o<i;o++)r[o]!==t&&n.push(r[o]);n.length?this._fns[e]=n:delete this._fns[e]},e},sf=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},lf="object"==typeof window?window:self,uf=Object.keys(lf).length,cf=navigator.mimeTypes?navigator.mimeTypes.length:0,df=sf((cf+navigator.userAgent.length).toString(36)+uf.toString(36),4),ff=function(){return df},pf="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;if(pf){var hf=Math.pow(2,32)-1;rf=function(){return Math.abs(pf.getRandomValues(new Uint32Array(1))[0]/hf)}}else rf=Math.random;var gf=rf,vf=0,mf=Math.pow(36,4);function yf(){return sf((gf()*mf<<0).toString(36),4)}function bf(){return vf=vf<mf?vf:0,++vf-1}function wf(){return"c"+(new Date).getTime().toString(36)+sf(bf().toString(36),4)+ff()+(yf()+yf())}wf.slug=function(){var e=(new Date).getTime().toString(36),t=bf().toString(36).slice(-4),n=ff().slice(0,1)+ff().slice(-1),r=yf().slice(-2);return e.slice(-2)+t+n+r},wf.isCuid=function(e){return"string"==typeof e&&!!e.startsWith("c")},wf.isSlug=function(e){if("string"!=typeof e)return!1;var t=e.length;return t>=7&&t<=10},wf.fingerprint=ff;var xf=wf,Ef=function(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,r));var o=n[r];return e>=10||e%1==0?(t?"-":"")+e.toFixed(0)+" "+o:(t?"-":"")+e.toFixed(1)+" "+o};function Sf(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}Sf.prototype.match=function(e){var t,n,r=!0,o=this.parts,i=o.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;r&&t<i;t++)"*"!==o[t]&&(r=t<n.length&&o[t]===n[t]);r=r&&n}else r=!1;else if("function"==typeof e.splice)for(r=[],t=e.length;t--;)this.match(e[t])&&(r[r.length]=e[t]);else if("object"==typeof e)for(var a in r={},e)this.match(a)&&(r[a]=e[a]);return r};var kf=/[\/\+\.]/,Of=function(e,t){function n(t){var n=function(e,t,n){var r=new Sf(e,n||/[\/\.]/);return void 0!==t?r.match(t):r}(t,e,kf);return n&&n.length>=2}return t?n(t.split(";")[0]):n};function _f(){return(_f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Af=function(){function e(){this.state={},this.callbacks=[]}var t=e.prototype;return t.getState=function(){return this.state},t.setState=function(e){var t=_f({},this.state),n=_f({},this.state,e);this.state=n,this._publish(t,n,e)},t.subscribe=function(e){var t=this;return this.callbacks.push(e),function(){t.callbacks.splice(t.callbacks.indexOf(e),1)}},t._publish=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callbacks.forEach((function(e){e.apply(void 0,t)}))},e}();Af.VERSION="1.2.7";var Tf=function(e){var t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}},Cf={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Nf(e){var t="";return e.replace(/[^A-Z0-9]/gi,(function(e){return t+="-"+function(e){return e.charCodeAt(0).toString(32)}(e),"/"}))+t}var Pf=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},Ff=function(e){if(null==e&&(e="undefined"!=typeof navigator?navigator.userAgent:null),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var n=t[1].split("."),r=n[0],o=n[1];return r=parseInt(r,10),o=parseInt(o,10),r<15||15===r&&o<15063||(r>18||18===r&&o>=18218)},jf=function(){var e=new Date;return Df(e.getHours().toString())+":"+Df(e.getMinutes().toString())+":"+Df(e.getSeconds().toString())};function Df(e){return 2!==e.length?0+e:e}var If={justErrorsLogger:{debug:function(){},warn:function(){},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] ["+jf()+"]"].concat(n))}},debugLogger:{debug:function(){for(var e=console.debug||console.log,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.call.apply(e,[console,"[Uppy] ["+jf()+"]"].concat(n))},warn:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,["[Uppy] ["+jf()+"]"].concat(n))},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] ["+jf()+"]"].concat(n))}}};function Mf(){}var Rf={},Lf=[],Bf=[];function zf(e,t){var n,r,o,i,a=Bf;for(i=arguments.length;i-- >2;)Lf.push(arguments[i]);for(t&&null!=t.children&&(Lf.length||Lf.push(t.children),delete t.children);Lf.length;)if((r=Lf.pop())&&void 0!==r.pop)for(i=r.length;i--;)Lf.push(r[i]);else"boolean"==typeof r&&(r=null),(o="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(o=!1)),o&&n?a[a.length-1]+=r:a===Bf?a=[r]:a.push(r),n=o;var s=new Mf;return s.nodeName=e,s.children=a,s.attributes=null==t?void 0:t,s.key=null==t?void 0:t.key,void 0!==Rf.vnode&&Rf.vnode(s),s}function Hf(e,t){for(var n in t)e[n]=t[n];return e}var Uf="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function $f(e,t){return zf(e.nodeName,Hf(Hf({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var Vf=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,qf=[];function Wf(e){!e._dirty&&(e._dirty=!0)&&1==qf.push(e)&&(Rf.debounceRendering||Uf)(Gf)}function Gf(){var e,t=qf;for(qf=[];e=t.pop();)e._dirty&&pp(e)}function Kf(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&Xf(e,t.nodeName):n||e._componentConstructor===t.nodeName}function Xf(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function Zf(e){var t=Hf({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function Yf(e){var t=e.parentNode;t&&t.removeChild(e)}function Jf(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"==typeof r[i]&&!1===Vf.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,Qf,a):e.removeEventListener(t,Qf,a),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e)!function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var s=o&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function Qf(e){return this._listeners[e.type](Rf.event&&Rf.event(e)||e)}var ep=[],tp=0,np=!1,rp=!1;function op(){for(var e;e=ep.pop();)Rf.afterMount&&Rf.afterMount(e),e.componentDidMount&&e.componentDidMount()}function ip(e,t,n,r,o,i){tp++||(np=null!=o&&void 0!==o.ownerSVGElement,rp=null!=e&&!("__preactattr_"in e));var a=ap(e,t,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--tp||(rp=!1,i||op()),a}function ap(e,t,n,r,o){var i=e,a=np;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),sp(e,!0))),i.__preactattr_=!0,i;var s,l,u=t.nodeName;if("function"==typeof u)return function(e,t,n,r){var o=e&&e._component,i=o,a=e,s=o&&e._componentConstructor===t.nodeName,l=s,u=Zf(t);for(;o&&!l&&(o=o._parentComponent);)l=o.constructor===t.nodeName;o&&l&&(!r||o._component)?(fp(o,u,3,n,r),e=o.base):(i&&!s&&(hp(i),e=a=null),o=cp(t.nodeName,u,n),e&&!o.nextBase&&(o.nextBase=e,a=null),fp(o,u,1,n,r),e=o.base,a&&e!==a&&(a._component=null,sp(a,!1)));return e}(e,t,n,r);if(np="svg"===u||"foreignObject"!==u&&np,u=String(u),(!e||!Xf(e,u))&&(s=u,(l=np?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,i=l,e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),sp(e,!0)}var c=i.firstChild,d=i.__preactattr_,f=t.children;if(null==d){d=i.__preactattr_={};for(var p=i.attributes,h=p.length;h--;)d[p[h].name]=p[h].value}return!rp&&f&&1===f.length&&"string"==typeof f[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=f[0]&&(c.nodeValue=f[0]):(f&&f.length||null!=c)&&function(e,t,n,r,o){var i,a,s,l,u,c=e.childNodes,d=[],f={},p=0,h=0,g=c.length,v=0,m=t?t.length:0;if(0!==g)for(var y=0;y<g;y++){var b=c[y],w=b.__preactattr_;null!=(x=m&&w?b._component?b._component.__key:w.key:null)?(p++,f[x]=b):(w||(void 0!==b.splitText?!o||b.nodeValue.trim():o))&&(d[v++]=b)}if(0!==m)for(y=0;y<m;y++){var x;if(u=null,null!=(x=(l=t[y]).key))p&&void 0!==f[x]&&(u=f[x],f[x]=void 0,p--);else if(!u&&h<v)for(i=h;i<v;i++)if(void 0!==d[i]&&Kf(a=d[i],l,o)){u=a,d[i]=void 0,i===v-1&&v--,i===h&&h++;break}u=ap(u,l,n,r),s=c[y],u&&u!==e&&u!==s&&(null==s?e.appendChild(u):u===s.nextSibling?Yf(s):e.insertBefore(u,s))}if(p)for(var y in f)void 0!==f[y]&&sp(f[y],!1);for(;h<=v;)void 0!==(u=d[v--])&&sp(u,!1)}(i,f,n,r,rp||null!=d.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||Jf(e,r,n[r],n[r]=void 0,np);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||Jf(e,r,n[r],n[r]=t[r],np)}(i,t.attributes,d),np=a,i}function sp(e,t){var n=e._component;n?hp(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||Yf(e),lp(e))}function lp(e){for(e=e.lastChild;e;){var t=e.previousSibling;sp(e,!0),e=t}}var up={};function cp(e,t,n){var r,o=up[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),gp.call(r,t,n)):((r=new gp(t,n)).constructor=e,r.render=dp),o)for(var i=o.length;i--;)if(o[i].constructor===e){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function dp(e,t,n){return this.constructor(e,n)}function fp(e,t,n,r,o){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===Rf.syncComponentUpdates&&e.base?Wf(e):pp(e,1,o)),e.__ref&&e.__ref(e))}function pp(e,t,n,r){if(!e._disable){var o,i,a,s=e.props,l=e.state,u=e.context,c=e.prevProps||s,d=e.prevState||l,f=e.prevContext||u,p=e.base,h=e.nextBase,g=p||h,v=e._component,m=!1;if(p&&(e.props=c,e.state=d,e.context=f,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(s,l,u)?m=!0:e.componentWillUpdate&&e.componentWillUpdate(s,l,u),e.props=s,e.state=l,e.context=u),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!m){o=e.render(s,l,u),e.getChildContext&&(u=Hf(Hf({},u),e.getChildContext()));var y,b,w=o&&o.nodeName;if("function"==typeof w){var x=Zf(o);(i=v)&&i.constructor===w&&x.key==i.__key?fp(i,x,1,u,!1):(y=i,e._component=i=cp(w,x,u),i.nextBase=i.nextBase||h,i._parentComponent=e,fp(i,x,0,u,!1),pp(i,1,n,!0)),b=i.base}else a=g,(y=v)&&(a=e._component=null),(g||1===t)&&(a&&(a._component=null),b=ip(a,o,u,n||!p,g&&g.parentNode,!0));if(g&&b!==g&&i!==v){var E=g.parentNode;E&&b!==E&&(E.replaceChild(b,g),y||(g._component=null,sp(g,!1)))}if(y&&hp(y),e.base=b,b&&!r){for(var S=e,k=e;k=k._parentComponent;)(S=k).base=b;b._component=S,b._componentConstructor=S.constructor}}if(!p||n?ep.unshift(e):m||(e.componentDidUpdate&&e.componentDidUpdate(c,d,f),Rf.afterUpdate&&Rf.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);tp||r||op()}}function hp(e){Rf.beforeUnmount&&Rf.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?hp(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,Yf(t),function(e){var t=e.constructor.name;(up[t]||(up[t]=[])).push(e)}(e),lp(t)),e.__ref&&e.__ref(null)}function gp(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function vp(e,t,n){return ip(n,e,{},!1,t,!1)}Hf(gp.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=Hf({},n)),Hf(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),Wf(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),pp(this,2)},render:function(){}});var mp={h:zf,createElement:zf,cloneElement:$f,Component:gp,render:vp,rerender:Gf,options:Rf},yp=function(e,t){return void 0===t&&(t=document),"string"==typeof e?t.querySelector(e):(n=e)&&"object"==typeof n&&n.nodeType===Node.ELEMENT_NODE?e:void 0;var n},bp=M(Object.freeze({__proto__:null,default:mp,h:zf,createElement:zf,cloneElement:$f,Component:gp,render:vp,rerender:Gf,options:Rf}));function wp(){return(wp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var xp=function(){function e(e,t){this.uppy=e,this.opts=t||{},this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}var t=e.prototype;return t.getPluginState=function(){return this.uppy.getState().plugins[this.id]||{}},t.setPluginState=function(e){var t,n=this.uppy.getState().plugins;this.uppy.setState({plugins:wp({},n,(t={},t[this.id]=wp({},n[this.id],e),t))})},t.setOptions=function(e){this.opts=wp({},this.opts,e),this.setPluginState()},t.update=function(e){void 0!==this.el&&this._updateUI&&this._updateUI(e)},t.afterUpdate=function(){},t.onMount=function(){},t.mount=function(t,n){var r,o=this,i=n.id,a=yp(t);if(a)return this.isTargetDOMEl=!0,this.rerender=function(e){o.uppy.getPlugin(o.id)&&(o.el=bp.render(o.render(e),a,o.el),o.afterUpdate())},this._updateUI=function(e){var t=null,n=null;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=o,t||(t=Promise.resolve().then((function(){return t=null,e.apply(void 0,n)}))),t}}(this.rerender),this.uppy.log("Installing "+i+" to a DOM element '"+t+"'"),this.opts.replaceTargetContent&&(a.innerHTML=""),this.el=bp.render(this.render(this.uppy.getState()),a),this.onMount(),this.el;if("object"==typeof t&&t instanceof e)r=t;else if("function"==typeof t){var s=t;this.uppy.iteratePlugins((function(e){if(e instanceof s)return r=e,!1}))}if(r)return this.uppy.log("Installing "+i+" to "+r.id),this.parent=r,this.el=r.addTarget(n),this.onMount(),this.el;this.uppy.log("Not installing "+i);var l="Invalid target option given to "+i+".";throw l+="function"==typeof t?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)},t.render=function(e){throw new Error("Extend the render method to add your plugin to a DOM element")},t.addTarget=function(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},t.unmount=function(){this.isTargetDOMEl&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},t.install=function(){},t.uninstall=function(){this.unmount()},e}();function Ep(){return(Ep=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kp(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Tp(e,t)}function Op(e){var t="function"==typeof Map?new Map:void 0;return(Op=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _p(e,arguments,Cp(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Tp(n,e)})(e)}function _p(e,t,n){return(_p=Ap()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Tp(o,n.prototype),o}).apply(null,arguments)}function Ap(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Tp(e,t){return(Tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cp(e){return(Cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Np=If.justErrorsLogger,Pp=If.debugLogger,Fp=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).isRestriction=!0,t}return kp(t,e),t}(Op(Error));"undefined"==typeof AggregateError&&(AggregateError=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).errors=n,r}return kp(t,e),t}(Op(Error)));var jp=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).isRestriction=!0,t}return kp(t,e),t}(AggregateError),Dp=function(){function e(e){var t=this;this.defaultLocale={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",exceedsSize2:"%{backwardsCompat} %{size}",exceedsSize:"%{file} exceeds maximum allowed size of",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noNewAlreadyUploading:"Cannot add new files: already uploading",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},selectAllFilesFromFolderNamed:"Select all files from folder %{name}",unselectAllFilesFromFolderNamed:"Unselect all files from folder %{name}",selectFileNamed:"Select file %{name}",unselectFileNamed:"Unselect file %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",backToSearch:"Back to Search",emptyFolderAdded:"No files were added from empty folder",folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};var n={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},meta:{},onBeforeFileAdded:function(e){return e},onBeforeUpload:function(e){return e},store:new Af,logger:Np,infoTimeout:5e3};if(this.opts=Ep({},n,e,{restrictions:Ep({},n.restrictions,e&&e.restrictions)}),e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=Pp),this.log("Using Core v"+this.constructor.VERSION),this.opts.restrictions.allowedFileTypes&&null!==this.opts.restrictions.allowedFileTypes&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.plugins={},this.getState=this.getState.bind(this),this.getPlugin=this.getPlugin.bind(this),this.setFileMeta=this.setFileMeta.bind(this),this.setFileState=this.setFileState.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.hideInfo=this.hideInfo.bind(this),this.addFile=this.addFile.bind(this),this.removeFile=this.removeFile.bind(this),this.pauseResume=this.pauseResume.bind(this),this.validateRestrictions=this.validateRestrictions.bind(this),this.calculateProgress=io(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.updateOnlineStatus=this.updateOnlineStatus.bind(this),this.resetProgress=this.resetProgress.bind(this),this.pauseAll=this.pauseAll.bind(this),this.resumeAll=this.resumeAll.bind(this),this.retryAll=this.retryAll.bind(this),this.cancelAll=this.cancelAll.bind(this),this.retryUpload=this.retryUpload.bind(this),this.upload=this.upload.bind(this),this.emitter=af(),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:Ff(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:Ep({},this.opts.meta),info:{isHidden:!0,type:"info",message:""},recoveredState:null}),this.storeUnsubscribe=this.store.subscribe((function(e,n,r){t.emit("state-update",e,n,r),t.updateAll(n)})),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),this.addListeners()}var t,n,r,o=e.prototype;return o.on=function(e,t){return this.emitter.on(e,t),this},o.off=function(e,t){return this.emitter.off(e,t),this},o.updateAll=function(e){this.iteratePlugins((function(t){t.update(e)}))},o.setState=function(e){this.store.setState(e)},o.getState=function(){return this.store.getState()},o.setFileState=function(e,t){var n;if(!this.getState().files[e])throw new Error("Can’t set state for "+e+" (the file could have been removed)");this.setState({files:Ep({},this.getState().files,(n={},n[e]=Ep({},this.getState().files[e],t),n))})},o.i18nInit=function(){this.translator=new of([this.defaultLocale,this.opts.locale]),this.locale=this.translator.locale,this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator)},o.setOptions=function(e){this.opts=Ep({},this.opts,e,{restrictions:Ep({},this.opts.restrictions,e&&e.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins((function(e){e.setOptions()})),this.setState()},o.resetProgress=function(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t=Ep({},this.getState().files),n={};Object.keys(t).forEach((function(r){var o=Ep({},t[r]);o.progress=Ep({},o.progress,e),n[r]=o})),this.setState({files:n,totalProgress:0}),this.emit("reset-progress")},o.addPreProcessor=function(e){this.preProcessors.push(e)},o.removePreProcessor=function(e){var t=this.preProcessors.indexOf(e);-1!==t&&this.preProcessors.splice(t,1)},o.addPostProcessor=function(e){this.postProcessors.push(e)},o.removePostProcessor=function(e){var t=this.postProcessors.indexOf(e);-1!==t&&this.postProcessors.splice(t,1)},o.addUploader=function(e){this.uploaders.push(e)},o.removeUploader=function(e){var t=this.uploaders.indexOf(e);-1!==t&&this.uploaders.splice(t,1)},o.setMeta=function(e){var t=Ep({},this.getState().meta,e),n=Ep({},this.getState().files);Object.keys(n).forEach((function(t){n[t]=Ep({},n[t],{meta:Ep({},n[t].meta,e)})})),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})},o.setFileMeta=function(e,t){var n=Ep({},this.getState().files);if(n[e]){var r=Ep({},n[e].meta,t);n[e]=Ep({},n[e],{meta:r}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that has been removed: ",e)},o.getFile=function(e){return this.getState().files[e]},o.getFiles=function(){var e=this.getState().files;return Object.keys(e).map((function(t){return e[t]}))},o.validateRestrictions=function(e,t){try{return this.checkRestrictions(e,t),{result:!0}}catch(e){return{result:!1,reason:e.message}}},o.checkRestrictions=function(e,t){void 0===t&&(t=this.getFiles());var n=this.opts.restrictions,r=n.maxFileSize,o=n.minFileSize,i=n.maxTotalFileSize,a=n.maxNumberOfFiles,s=n.allowedFileTypes;if(a&&t.length+1>a)throw new Fp(""+this.i18n("youCanOnlyUploadX",{smart_count:a}));if(s&&!s.some((function(t){return t.indexOf("/")>-1?!!e.type&&Of(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.substr(1).toLowerCase()}))){var l=s.join(", ");throw new Fp(this.i18n("youCanOnlyUploadFileTypes",{types:l}))}if(i&&null!=e.size){var u=0;if(u+=e.size,t.forEach((function(e){u+=e.size})),u>i)throw new Fp(this.i18n("exceedsSize2",{backwardsCompat:this.i18n("exceedsSize"),size:Ef(i),file:e.name}))}if(r&&null!=e.size&&e.size>r)throw new Fp(this.i18n("exceedsSize2",{backwardsCompat:this.i18n("exceedsSize"),size:Ef(r),file:e.name}));if(o&&null!=e.size&&e.size<o)throw new Fp(this.i18n("inferiorSize",{size:Ef(o)}))},o.checkMinNumberOfFiles=function(e){var t=this.opts.restrictions.minNumberOfFiles;if(Object.keys(e).length<t)throw new Fp(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))},o.checkRequiredMetaFields=function(e){for(var t=this.opts.restrictions.requiredMetaFields,n=Object.prototype.hasOwnProperty.hasOwnProperty,r=[],o=Object.keys(e),i=0;i<o.length;i++)for(var a=this.getFile(o[i]),s=0;s<t.length;s++)if(!n.call(a.meta,t[s])){var l=new Fp(""+this.i18n("missingRequiredMetaFieldOnFile",{fileName:a.name}));r.push(l),this.showOrLogErrorAndThrow(l,{file:a,throwErr:!1})}if(r.length)throw new jp(""+this.i18n("missingRequiredMetaField"),r)},o.showOrLogErrorAndThrow=function(e,t){var n=void 0===t?{}:t,r=n.showInformer,o=void 0===r||r,i=n.file,a=void 0===i?null:i,s=n.throwErr,l=void 0===s||s,u="object"==typeof e?e.message:e,c="object"==typeof e&&e.details?e.details:"",d=u;if(c&&(d+=" "+c),e.isRestriction?(this.log(d),this.emit("restriction-failed",a,e)):this.log(d,"error"),o&&this.info({message:u,details:c},"error",this.opts.infoTimeout),l)throw"object"==typeof e?e:new Error(e)},o.assertNewUploadAllowed=function(e){!1===this.getState().allowNewUpload&&this.showOrLogErrorAndThrow(new Fp(this.i18n("noNewAlreadyUploading")),{file:e})},o.checkAndCreateFileStateObject=function(e,t){var n=function(e){var t=e.name?Tf(e.name).extension:null;return t=t?t.toLowerCase():null,e.type?e.type:t&&Cf[t]?Cf[t]:"application/octet-stream"}(t),r=t;r.type=n;var o,i=this.opts.onBeforeFileAdded(r,e);!1===i&&this.showOrLogErrorAndThrow(new Fp("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,file:r}),"object"==typeof i&&i&&(r=i),o=r.name?r.name:"image"===n.split("/")[0]?n.split("/")[0]+"."+n.split("/")[1]:"noname";var a=Tf(o).extension,s=r.isRemote||!1,l=function(e){var t="uppy";return"string"==typeof e.name&&(t+="-"+Nf(e.name.toLowerCase())),void 0!==e.type&&(t+="-"+e.type),e.meta&&"string"==typeof e.meta.relativePath&&(t+="-"+Nf(e.meta.relativePath.toLowerCase())),void 0!==e.data.size&&(t+="-"+e.data.size),void 0!==e.data.lastModified&&(t+="-"+e.data.lastModified),t}(r);e[l]&&!e[l].isGhost&&this.showOrLogErrorAndThrow(new Fp(this.i18n("noDuplicates",{fileName:o})),{file:r});var u=r.meta||{};u.name=o,u.type=n;var c=Number.isFinite(r.data.size)?r.data.size:null,d={source:r.source||"",id:l,name:o,extension:a||"",meta:Ep({},this.getState().meta,u),type:n,data:r.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isRemote:s,remote:r.remote||"",preview:r.preview};try{var f=Object.keys(e).map((function(t){return e[t]}));this.checkRestrictions(d,f)}catch(e){this.showOrLogErrorAndThrow(e,{file:d})}return d},o.startIfAutoProceed=function(){var e=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((function(){e.scheduledAutoProceed=null,e.upload().catch((function(t){t.isRestriction||e.log(t.stack||t.message||t)}))}),4))},o.addFile=function(e){var t;this.assertNewUploadAllowed(e);var n=this.getState().files,r=this.checkAndCreateFileStateObject(n,e);return n[r.id]&&n[r.id].isGhost&&(r=Ep({},n[r.id],{data:e.data,isGhost:!1}),this.log("Replaced the blob in the restored ghost file: "+r.name+", "+r.id)),this.setState({files:Ep({},n,(t={},t[r.id]=r,t))}),this.emit("file-added",r),this.emit("files-added",[r]),this.log("Added file: "+r.name+", "+r.id+", mime type: "+r.type),this.startIfAutoProceed(),r.id},o.addFiles=function(e){var t=this;this.assertNewUploadAllowed();for(var n=Ep({},this.getState().files),r=[],o=[],i=0;i<e.length;i++)try{var a=this.checkAndCreateFileStateObject(n,e[i]);n[a.id]&&n[a.id].isGhost&&(a=Ep({},n[a.id],{data:e[i].data,isGhost:!1}),this.log("Replaced blob in a ghost file: "+a.name+", "+a.id)),n[a.id]=a,r.push(a)}catch(l){l.isRestriction||o.push(l)}if(this.setState({files:n}),r.forEach((function(e){t.emit("file-added",e)})),this.emit("files-added",r),r.length>5?this.log("Added batch of "+r.length+" files"):Object.keys(r).forEach((function(e){t.log("Added file: "+r[e].name+"\n id: "+r[e].id+"\n type: "+r[e].type)})),r.length>0&&this.startIfAutoProceed(),o.length>0){var s="Multiple errors occurred while adding files:\n";if(o.forEach((function(e){s+="\n * "+e.message})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:s},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(o,s);var l=new Error(s);throw l.errors=o,l}},o.removeFiles=function(e,t){var n=this,r=this.getState(),o=r.files,i=r.currentUploads,a=Ep({},o),s=Ep({},i),l=Object.create(null);function u(e){return void 0===l[e]}e.forEach((function(e){o[e]&&(l[e]=o[e],delete a[e])})),Object.keys(s).forEach((function(e){var t=i[e].fileIDs.filter(u);0!==t.length?s[e]=Ep({},i[e],{fileIDs:t}):delete s[e]}));var c={currentUploads:s,files:a};0===Object.keys(a).length&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),this.calculateTotalProgress();var d=Object.keys(l);d.forEach((function(e){n.emit("file-removed",l[e],t)})),d.length>5?this.log("Removed "+d.length+" files"):this.log("Removed files: "+d.join(", "))},o.removeFile=function(e,t){void 0===t&&(t=null),this.removeFiles([e],t)},o.pauseResume=function(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}},o.pauseAll=function(){var e=Ep({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=Ep({},e[t],{isPaused:!0});e[t]=n})),this.setState({files:e}),this.emit("pause-all")},o.resumeAll=function(){var e=Ep({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=Ep({},e[t],{isPaused:!1,error:null});e[t]=n})),this.setState({files:e}),this.emit("resume-all")},o.retryAll=function(){var e=Ep({},this.getState().files),t=Object.keys(e).filter((function(t){return e[t].error}));if(t.forEach((function(t){var n=Ep({},e[t],{isPaused:!1,error:null});e[t]=n})),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});var n=this.createUpload(t,{forceAllowNewUpload:!0});return this.runUpload(n)},o.cancelAll=function(){this.emit("cancel-all");var e=this.getState().files,t=Object.keys(e);t.length&&this.removeFiles(t,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})},o.retryUpload=function(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=this.createUpload([e],{forceAllowNewUpload:!0});return this.runUpload(t)},o.reset=function(){this.cancelAll()},o.logout=function(){this.iteratePlugins((function(e){e.provider&&e.provider.logout&&e.provider.logout()}))},o.calculateProgress=function(e,t){if(this.getFile(e.id)){var n=Number.isFinite(t.bytesTotal)&&t.bytesTotal>0;this.setFileState(e.id,{progress:Ep({},this.getFile(e.id).progress,{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:n?Math.round(t.bytesUploaded/t.bytesTotal*100):0})}),this.calculateTotalProgress()}else this.log("Not setting progress for a file that has been removed: "+e.id)},o.calculateTotalProgress=function(){var e=this.getFiles().filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess}));if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t=e.filter((function(e){return null!=e.progress.bytesTotal})),n=e.filter((function(e){return null==e.progress.bytesTotal}));if(0!==t.length){var r=t.reduce((function(e,t){return e+t.progress.bytesTotal}),0),o=r/t.length;r+=o*n.length;var i=0;t.forEach((function(e){i+=e.progress.bytesUploaded})),n.forEach((function(e){i+=o*(e.progress.percentage||0)/100}));var a=0===r?0:Math.round(i/r*100);a>100&&(a=100),this.setState({totalProgress:a}),this.emit("progress",a)}else{var s=100*e.length,l=n.reduce((function(e,t){return e+t.progress.percentage}),0),u=Math.round(l/s*100);this.setState({totalProgress:u})}},o.addListeners=function(){var e=this,t=function(t,n,r){var o=t.message||"Unknown error";t.details&&(o+=" "+t.details),e.setState({error:o}),null!=n&&"string"==typeof n.id&&e.setFileState(n.id,{error:o,response:r})};this.on("error",t),this.on("upload-error",(function(n,r,o){if(t(r,n,o),"object"==typeof r&&r.message){var i=new Error(r.message);i.details=r.message,r.details&&(i.details+=" "+r.details),i.message=e.i18n("failedToUpload",{file:n.name}),e.showOrLogErrorAndThrow(i,{throwErr:!1})}else e.showOrLogErrorAndThrow(r,{throwErr:!1})})),this.on("upload",(function(){e.setState({error:null})})),this.on("upload-started",(function(t){e.getFile(t.id)?e.setFileState(t.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:t.size}}):e.log("Not setting progress for a file that has been removed: "+t.id)})),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(function(t,n){if(e.getFile(t.id)){var r=e.getFile(t.id).progress;e.setFileState(t.id,{progress:Ep({},r,{postprocess:e.postProcessors.length>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),null==t.size&&e.setFileState(t.id,{size:n.bytesUploaded||r.bytesTotal}),e.calculateTotalProgress()}else e.log("Not setting progress for a file that has been removed: "+t.id)})),this.on("preprocess-progress",(function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:Ep({},e.getFile(t.id).progress,{preprocess:n})}):e.log("Not setting progress for a file that has been removed: "+t.id)})),this.on("preprocess-complete",(function(t){if(e.getFile(t.id)){var n=Ep({},e.getState().files);n[t.id]=Ep({},n[t.id],{progress:Ep({},n[t.id].progress)}),delete n[t.id].progress.preprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: "+t.id)})),this.on("postprocess-progress",(function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:Ep({},e.getState().files[t.id].progress,{postprocess:n})}):e.log("Not setting progress for a file that has been removed: "+t.id)})),this.on("postprocess-complete",(function(t){if(e.getFile(t.id)){var n=Ep({},e.getState().files);n[t.id]=Ep({},n[t.id],{progress:Ep({},n[t.id].progress)}),delete n[t.id].progress.postprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: "+t.id)})),this.on("restored",(function(){e.calculateTotalProgress()})),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",(function(){return e.updateOnlineStatus()})),window.addEventListener("offline",(function(){return e.updateOnlineStatus()})),setTimeout((function(){return e.updateOnlineStatus()}),3e3))},o.updateOnlineStatus=function(){void 0===window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},o.getID=function(){return this.opts.id},o.use=function(e,t){if("function"!=typeof e)throw new TypeError("Expected a plugin class, but got "+(null===e?"null":typeof e)+". Please verify that the plugin was imported and spelled correctly.");var n=new e(this,t),r=n.id;if(this.plugins[n.type]=this.plugins[n.type]||[],!r)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");var o=this.getPlugin(r);if(o){var i="Already found a plugin named '"+o.id+"'. Tried to use: '"+r+"'.\nUppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(i)}return e.VERSION&&this.log("Using "+r+" v"+e.VERSION),this.plugins[n.type].push(n),n.install(),this},o.getPlugin=function(e){var t=null;return this.iteratePlugins((function(n){if(n.id===e)return t=n,!1})),t},o.iteratePlugins=function(e){var t=this;Object.keys(this.plugins).forEach((function(n){t.plugins[n].forEach(e)}))},o.removePlugin=function(e){var t;this.log("Removing plugin "+e.id),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var n=this.plugins[e.type].slice(),r=Pf(n,(function(t){return t.id===e.id}));-1!==r&&(n.splice(r,1),this.plugins[e.type]=n);var o={plugins:Ep({},this.getState().plugins,(t={},t[e.id]=void 0,t))};this.setState(o)},o.close=function(){var e=this;this.log("Closing Uppy instance "+this.opts.id+": removing all files and uninstalling plugins"),this.reset(),this.storeUnsubscribe(),this.iteratePlugins((function(t){e.removePlugin(t)}))},o.info=function(e,t,n){void 0===t&&(t="info"),void 0===n&&(n=3e3);var r="object"==typeof e;this.setState({info:{isHidden:!1,type:t,message:r?e.message:e,details:r?e.details:null}}),this.emit("info-visible"),clearTimeout(this.infoTimeoutID),this.infoTimeoutID=0!==n?setTimeout(this.hideInfo,n):void 0},o.hideInfo=function(){var e=Ep({},this.getState().info,{isHidden:!0});this.setState({info:e}),this.emit("info-hidden")},o.log=function(e,t){var n=this.opts.logger;switch(t){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e)}},o.run=function(){return this.log("Calling run() is no longer necessary.","warning"),this},o.restore=function(e){return this.log('Core: attempting to restore upload "'+e+'"'),this.getState().currentUploads[e]?this.runUpload(e):(this.removeUpload(e),Promise.reject(new Error("Nonexistent upload")))},o.createUpload=function(e,t){var n;void 0===t&&(t={});var r=t.forceAllowNewUpload,o=void 0!==r&&r,i=this.getState(),a=i.allowNewUpload,s=i.currentUploads;if(!a&&!o)throw new Error("Cannot create a new upload: already uploading.");var l=xf();return this.emit("upload",{id:l,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploads,currentUploads:Ep({},s,(n={},n[l]={fileIDs:e,step:0,result:{}},n))}),l},o.getUpload=function(e){return this.getState().currentUploads[e]},o.addResultData=function(e,t){var n;if(this.getUpload(e)){var r=this.getState().currentUploads,o=Ep({},r[e],{result:Ep({},r[e].result,t)});this.setState({currentUploads:Ep({},r,(n={},n[e]=o,n))})}else this.log("Not setting result for an upload that has been removed: "+e)},o.removeUpload=function(e){var t=Ep({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})},o.runUpload=function(e){var t=this,n=this.getState().currentUploads[e].step,r=[].concat(this.preProcessors,this.uploaders,this.postProcessors),o=Promise.resolve();return r.forEach((function(r,i){i<n||(o=o.then((function(){var n,o=t.getState().currentUploads,a=o[e];if(a){var s=Ep({},a,{step:i});return t.setState({currentUploads:Ep({},o,(n={},n[e]=s,n))}),r(s.fileIDs,e)}})).then((function(){return null})))})),o.catch((function(n){t.emit("error",n),t.removeUpload(e)})),o.then((function(){var n=t.getState().currentUploads[e];if(n){n.fileIDs.forEach((function(e){var n=t.getFile(e);n&&n.progress.postprocess&&t.emit("postprocess-complete",n)}));var r=n.fileIDs.map((function(e){return t.getFile(e)})),o=r.filter((function(e){return!e.error})),i=r.filter((function(e){return e.error}));t.addResultData(e,{successful:o,failed:i,uploadID:e})}})).then((function(){var n=t.getState().currentUploads;if(n[e]){var r=n[e].result;return t.emit("complete",r),t.removeUpload(e),r}})).then((function(n){return null==n&&t.log("Not setting result for an upload that has been removed: "+e),n}))},o.upload=function(){var e=this;this.plugins.uploader||this.log("No uploader type plugins are used","warning");var t=this.getState().files,n=this.opts.onBeforeUpload(t);return!1===n?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(n&&"object"==typeof n&&(t=n,this.setState({files:t})),Promise.resolve().then((function(){e.checkMinNumberOfFiles(t),e.checkRequiredMetaFields(t)})).catch((function(t){e.showOrLogErrorAndThrow(t)})).then((function(){var n=e.getState().currentUploads,r=Object.keys(n).reduce((function(e,t){return e.concat(n[t].fileIDs)}),[]),o=[];Object.keys(t).forEach((function(t){var n=e.getFile(t);n.progress.uploadStarted||-1!==r.indexOf(t)||o.push(n.id)}));var i=e.createUpload(o);return e.runUpload(i)})).catch((function(t){e.showOrLogErrorAndThrow(t,{showInformer:!1})})))},t=e,(n=[{key:"state",get:function(){return this.getState()}}])&&Sp(t.prototype,n),r&&Sp(t,r),e}();Dp.VERSION="1.20.0";var Ip=function(e){return new Dp(e)},Mp=xp,Rp=Pp;function Lp(e){var t="function"==typeof Map?new Map:void 0;return(Lp=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Bp(e,arguments,Up(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Hp(n,e)})(e)}function Bp(e,t,n){return(Bp=zp()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Hp(o,n.prototype),o}).apply(null,arguments)}function zp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Hp(e,t){return(Hp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Up(e){return(Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Ip.Uppy=Dp,Ip.Plugin=Mp,Ip.debugLogger=Rp;var $p=function(e){var t,n;function r(){var t;return(t=e.call(this,"Authorization required")||this).name="AuthError",t.isAuthError=!0,t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Hp(t,n),r}(Lp(Error));function Vp(e){var t="function"==typeof Map?new Map:void 0;return(Vp=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return qp(e,arguments,Kp(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Gp(n,e)})(e)}function qp(e,t,n){return(qp=Wp()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Gp(o,n.prototype),o}).apply(null,arguments)}function Wp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Gp(e,t){return(Gp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kp(e){return(Kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xp,Zp,Yp=function(e){var t,n;function r(t,n){var r;return void 0===n&&(n=null),(r=e.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.\n\nSource error: ["+t+"]")||this).isNetworkError=!0,r.request=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Gp(t,n),r}(Vp(Error)),Jp=function(){return fetch.apply(void 0,arguments).catch((function(e){throw"AbortError"===e.name?e:new Yp(e)}))};function Qp(){return(Qp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var th=(Zp=Xp=function(){function e(e,t){this.uppy=e,this.opts=t,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}var t,n,r,o=e.prototype;return o.headers=function(){var e=this.opts.companionHeaders||this.opts.serverHeaders||{};return Promise.resolve(Qp({},this.defaultHeaders,e))},o._getPostResponseFunc=function(e){var t=this;return function(n){return e?n:t.onReceiveResponse(n)}},o.onReceiveResponse=function(e){var t,n=this.uppy.getState().companion||{},r=this.opts.companionUrl,o=e.headers;o.has("i-am")&&o.get("i-am")!==n[r]&&this.uppy.setState({companion:Qp({},n,(t={},t[r]=o.get("i-am"),t))});return e},o._getUrl=function(e){return/^(https?:|)\/\//.test(e)?e:this.hostname+"/"+e},o._json=function(e){if(401===e.status)throw new $p;if(e.status<200||e.status>300){var t="Failed request with status: "+e.status+". "+e.statusText;return e.json().then((function(e){throw t=e.message?t+" message: "+e.message:t,t=e.requestId?t+" request-Id: "+e.requestId:t,new Error(t)})).catch((function(){throw new Error(t)}))}return e.json()},o.preflight=function(e){var t=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(this._getUrl(e),{method:"OPTIONS"}).then((function(e){return e.headers.has("access-control-allow-headers")&&(t.allowedHeaders=e.headers.get("access-control-allow-headers").split(",").map((function(e){return e.trim().toLowerCase()}))),t.preflightDone=!0,t.allowedHeaders.slice()})).catch((function(e){return t.uppy.log("[CompanionClient] unable to make preflight request "+e,"warning"),t.preflightDone=!0,t.allowedHeaders.slice()}))},o.preflightAndHeaders=function(e){var t=this;return Promise.all([this.preflight(e),this.headers()]).then((function(e){var n=e[0],r=e[1];return Object.keys(r).forEach((function(e){-1===n.indexOf(e.toLowerCase())&&(t.uppy.log("[CompanionClient] excluding unallowed header "+e),delete r[e])})),r}))},o.get=function(e,t){var n=this;return this.preflightAndHeaders(e).then((function(t){return Jp(n._getUrl(e),{method:"get",headers:t,credentials:n.opts.companionCookiesRule||"same-origin"})})).then(this._getPostResponseFunc(t)).then((function(e){return n._json(e)})).catch((function(t){return t.isAuthError||(t.message="Could not get "+n._getUrl(e)+". "+t.message),Promise.reject(t)}))},o.post=function(e,t,n){var r=this;return this.preflightAndHeaders(e).then((function(n){return Jp(r._getUrl(e),{method:"post",headers:n,credentials:r.opts.companionCookiesRule||"same-origin",body:JSON.stringify(t)})})).then(this._getPostResponseFunc(n)).then((function(e){return r._json(e)})).catch((function(t){return t.isAuthError||(t.message="Could not post "+r._getUrl(e)+". "+t.message),Promise.reject(t)}))},o.delete=function(e,t,n){var r=this;return this.preflightAndHeaders(e).then((function(n){return Jp(r.hostname+"/"+e,{method:"delete",headers:n,credentials:r.opts.companionCookiesRule||"same-origin",body:t?JSON.stringify(t):null})})).then(this._getPostResponseFunc(n)).then((function(e){return r._json(e)})).catch((function(t){return t.isAuthError||(t.message="Could not delete "+r._getUrl(e)+". "+t.message),Promise.reject(t)}))},t=e,(n=[{key:"hostname",get:function(){var e=this.uppy.getState().companion,t=this.opts.companionUrl;return(e&&e[t]?e[t]:t).replace(/\/$/,"")}},{key:"defaultHeaders",get:function(){return{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client="+e.VERSION}}}])&&eh(t.prototype,n),r&&eh(t,r),e}(),Xp.VERSION="1.10.2",Zp),nh=Object.prototype.hasOwnProperty,rh=function e(t,n){var r=[];for(var o in t)if(nh.call(t,o)){var i,a=t[o],s=encodeURIComponent(o);i="object"==typeof a?e(a,n?n+"["+s+"]":s):(n?n+"["+s+"]":s)+"="+encodeURIComponent(a),r.push(i)}return r.join("&")},oh=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e},ih=Object.prototype.hasOwnProperty;function ah(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function sh(e){try{return encodeURIComponent(e)}catch(e){return null}}var lh={stringify:function(e,t){t=t||"";var n,r,o=[];for(r in"string"!=typeof t&&(t="?"),e)if(ih.call(e,r)){if((n=e[r])||null!=n&&!isNaN(n)||(n=""),r=sh(r),n=sh(n),null===r||null===n)continue;o.push(r+"="+n)}return o.length?t+o.join("&"):""},parse:function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=ah(t[1]),i=ah(t[2]);null===o||null===i||o in r||(r[o]=i)}return r}},uh=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,ch=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,dh=/^[a-zA-Z]:/,fh=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function ph(e){return(e||"").toString().replace(fh,"")}var hh=[["#","hash"],["?","query"],function(e,t){return mh(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],gh={hash:1,query:1};function vh(e){var t,n=("undefined"!=typeof window?window:void 0!==I?I:"undefined"!=typeof self?self:{}).location||{},r={},o=typeof(e=e||n);if("blob:"===e.protocol)r=new bh(unescape(e.pathname),{});else if("string"===o)for(t in r=new bh(e,{}),gh)delete r[t];else if("object"===o){for(t in e)t in gh||(r[t]=e[t]);void 0===r.slashes&&(r.slashes=uh.test(e.href))}return r}function mh(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function yh(e,t){e=ph(e),t=t||{};var n,r=ch.exec(e),o=r[1]?r[1].toLowerCase():"",i=!!r[2],a=!!r[3],s=0;return i?a?(n=r[2]+r[3]+r[4],s=r[2].length+r[3].length):(n=r[2]+r[4],s=r[2].length):a?(n=r[3]+r[4],s=r[3].length):n=r[4],"file:"===o?s>=2&&(n=n.slice(2)):mh(o)?n=r[4]:o?i&&(n=n.slice(2)):s>=2&&mh(t.protocol)&&(n=r[4]),{protocol:o,slashes:i||mh(o),slashesCount:s,rest:n}}function bh(e,t,n){if(e=ph(e),!(this instanceof bh))return new bh(e,t,n);var r,o,i,a,s,l,u=hh.slice(),c=typeof t,d=this,f=0;for("object"!==c&&"string"!==c&&(n=t,t=null),n&&"function"!=typeof n&&(n=lh.parse),r=!(o=yh(e||"",t=vh(t))).protocol&&!o.slashes,d.slashes=o.slashes||r&&t.slashes,d.protocol=o.protocol||t.protocol||"",e=o.rest,("file:"===o.protocol&&(2!==o.slashesCount||dh.test(e))||!o.slashes&&(o.protocol||o.slashesCount<2||!mh(d.protocol)))&&(u[3]=[/(.*)/,"pathname"]);f<u.length;f++)"function"!=typeof(a=u[f])?(i=a[0],l=a[1],i!=i?d[l]=e:"string"==typeof i?~(s=e.indexOf(i))&&("number"==typeof a[2]?(d[l]=e.slice(0,s),e=e.slice(s+a[2])):(d[l]=e.slice(s),e=e.slice(0,s))):(s=i.exec(e))&&(d[l]=s[1],e=e.slice(0,s.index)),d[l]=d[l]||r&&a[3]&&t[l]||"",a[4]&&(d[l]=d[l].toLowerCase())):e=a(e,d);n&&(d.query=n(d.query)),r&&t.slashes&&"/"!==d.pathname.charAt(0)&&(""!==d.pathname||""!==t.pathname)&&(d.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(d.pathname,t.pathname)),"/"!==d.pathname.charAt(0)&&mh(d.protocol)&&(d.pathname="/"+d.pathname),oh(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(a=d.auth.split(":"),d.username=a[0]||"",d.password=a[1]||""),d.origin="file:"!==d.protocol&&mh(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}bh.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||lh.parse)(t)),r[e]=t;break;case"port":r[e]=t,oh(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";r[e]=t.charAt(0)!==o?o+t:t}else r[e]=t;break;default:r[e]=t}for(var i=0;i<hh.length;i++){var a=hh[i];a[4]&&(r[a[1]]=r[a[1]].toLowerCase())}return r.origin="file:"!==r.protocol&&mh(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=lh.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes||mh(n.protocol)?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},bh.extractProtocol=yh,bh.location=vh,bh.trimLeft=ph,bh.qs=lh;var wh=bh,xh={setItem:function(e,t){return new Promise((function(n){localStorage.setItem(e,t),n()}))},getItem:function(e){return Promise.resolve(localStorage.getItem(e))},removeItem:function(e){return new Promise((function(t){localStorage.removeItem(e),t()}))}};function Eh(){return(Eh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sh(e,t){return(Sh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kh(e,t){return(kh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oh={RequestClient:th,Provider:function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t,n)||this).provider=n.provider,r.id=r.provider,r.name=r.opts.name||r.id.split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "),r.pluginId=r.opts.pluginId,r.tokenKey="companion-"+r.pluginId+"-auth-token",r.companionKeysParams=r.opts.companionKeysParams,r.preAuthToken=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Sh(t,n);var o=r.prototype;return o.headers=function(){var t=this;return Promise.all([e.prototype.headers.call(this),this.getAuthToken()]).then((function(e){var n=e[0],r=e[1],o={};return r&&(o["uppy-auth-token"]=r),t.companionKeysParams&&(o["uppy-credentials-params"]=btoa(JSON.stringify({params:t.companionKeysParams}))),Eh({},n,o)}))},o.onReceiveResponse=function(t){t=e.prototype.onReceiveResponse.call(this,t);var n=this.uppy.getPlugin(this.pluginId),r=n.getPluginState().authenticated?401!==t.status:t.status<400;return n.setPluginState({authenticated:r}),t},o.setAuthToken=function(e){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,e)},o.getAuthToken=function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)},o.authUrl=function(e){void 0===e&&(e={}),this.preAuthToken&&(e.uppyPreAuthToken=this.preAuthToken);var t=rh(e);return t=t?"?"+t:t,this.hostname+"/"+this.id+"/connect"+t},o.fileUrl=function(e){return this.hostname+"/"+this.id+"/get/"+e},o.fetchPreAuthToken=function(){var e=this;return this.companionKeysParams?this.post(this.id+"/preauth/",{params:this.companionKeysParams}).then((function(t){e.preAuthToken=t.token})).catch((function(t){e.uppy.log("[CompanionClient] unable to fetch preAuthToken "+t,"warning")})):Promise.resolve()},o.list=function(e){return this.get(this.id+"/list/"+(e||""))},o.logout=function(){var e=this;return this.get(this.id+"/logout").then((function(t){return Promise.all([t,e.uppy.getPlugin(e.pluginId).storage.removeItem(e.tokenKey)])})).then((function(e){return e[0]}))},r.initPlugin=function(e,t,n){if(e.type="acquirer",e.files=[],n&&(e.opts=Eh({},n,t)),t.serverUrl||t.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(t.companionAllowedHosts){var r=t.companionAllowedHosts;if(!("string"==typeof r||Array.isArray(r)||r instanceof RegExp))throw new TypeError(e.id+': the option "companionAllowedHosts" must be one of string, Array, RegExp');e.opts.companionAllowedHosts=r}else/^(?!https?:\/\/).*$/i.test(t.companionUrl)?e.opts.companionAllowedHosts="https://"+t.companionUrl.replace(/^\/\//,""):e.opts.companionAllowedHosts=new wh(t.companionUrl).origin;e.storage=e.opts.storage||xh},r}(th),SearchProvider:function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t,n)||this).provider=n.provider,r.id=r.provider,r.name=r.opts.name||r.id.split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "),r.pluginId=r.opts.pluginId,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,kh(t,n);var o=r.prototype;return o.fileUrl=function(e){return this.hostname+"/search/"+this.id+"/get/"+e},o.search=function(e,t){return t=t?"&"+t:"",this.get("search/"+this.id+"/list?q="+encodeURIComponent(e)+t)},r}(th),Socket:function(){function e(e){this.opts=e,this._queued=[],this.isOpen=!1,this.emitter=af(),this._handleMessage=this._handleMessage.bind(this),this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this),e&&!1===e.autoOpen||this.open()}var t=e.prototype;return t.open=function(){var e=this;this.socket=new WebSocket(this.opts.target),this.socket.onopen=function(t){for(e.isOpen=!0;e._queued.length>0&&e.isOpen;){var n=e._queued[0];e.send(n.action,n.payload),e._queued=e._queued.slice(1)}},this.socket.onclose=function(t){e.isOpen=!1},this.socket.onmessage=this._handleMessage},t.close=function(){this.socket&&this.socket.close()},t.send=function(e,t){this.isOpen?this.socket.send(JSON.stringify({action:e,payload:t})):this._queued.push({action:e,payload:t})},t.on=function(e,t){this.emitter.on(e,t)},t.emit=function(e,t){this.emitter.emit(e,t)},t.once=function(e,t){this.emitter.once(e,t)},t._handleMessage=function(e){try{var t=JSON.parse(e.data);this.emit(t.action,t.payload)}catch(e){console.log(e)}},e}()};var _h=io((function(e,t,n){var r=t.progress,o=t.bytesUploaded,i=t.bytesTotal;r&&(e.uppy.log("Upload progress: "+r),e.uppy.emit("upload-progress",n,{uploader:e,bytesUploaded:o,bytesTotal:i}))}),300,{leading:!0,trailing:!0}),Ah=function(){function e(e){this._events=[],this._emitter=e}var t=e.prototype;return t.on=function(e,t){return this._events.push([e,t]),this._emitter.on(e,t)},t.remove=function(){var e=this;this._events.forEach((function(t){var n=t[0],r=t[1];e._emitter.off(n,r)}))},e}(),Th=function(){function e(e,t){this._timeout=e,this._onTimedOut=t,this._isDone=!1,this._aliveTimer=null,this._onTimedOut=this._onTimedOut.bind(this)}var t=e.prototype;return t.progress=function(){this._isDone||this._timeout>0&&(this._aliveTimer&&clearTimeout(this._aliveTimer),this._aliveTimer=setTimeout(this._onTimedOut,this._timeout))},t.done=function(){this._aliveTimer&&(clearTimeout(this._aliveTimer),this._aliveTimer=null),this._isDone=!0},e}();function Ch(){return new Error("Cancelled")}var Nh=function(){function e(e){this.limit="number"!=typeof e||0===e?1/0:e,this.activeRequests=0,this.queuedHandlers=[]}var t=e.prototype;return t._call=function(e){var t=this;this.activeRequests+=1;var n,r=!1;try{n=e()}catch(e){throw this.activeRequests-=1,e}return{abort:function(){r||(r=!0,t.activeRequests-=1,n(),t._queueNext())},done:function(){r||(r=!0,t.activeRequests-=1,t._queueNext())}}},t._queueNext=function(){var e=this;Promise.resolve().then((function(){e._next()}))},t._next=function(){if(!(this.activeRequests>=this.limit)&&0!==this.queuedHandlers.length){var e=this.queuedHandlers.shift(),t=this._call(e.fn);e.abort=t.abort,e.done=t.done}},t._queue=function(e,t){var n=this;void 0===t&&(t={});var r={fn:e,priority:t.priority||0,abort:function(){n._dequeue(r)},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")}},o=Pf(this.queuedHandlers,(function(e){return r.priority>e.priority}));return-1===o?this.queuedHandlers.push(r):this.queuedHandlers.splice(o,0,r),r},t._dequeue=function(e){var t=this.queuedHandlers.indexOf(e);-1!==t&&this.queuedHandlers.splice(t,1)},t.run=function(e,t){return this.activeRequests<this.limit?this._call(e):this._queue(e,t)},t.wrapPromiseFunction=function(e,t){var n=this;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a,s=new Promise((function(r,i){a=n.run((function(){var t,n;try{n=Promise.resolve(e.apply(void 0,o))}catch(e){n=Promise.reject(e)}return n.then((function(e){t?i(t):(a.done(),r(e))}),(function(e){t?i(t):(a.done(),i(e))})),function(){t=Ch()}}),t)}));return s.abort=function(){a.abort()},s}},e}();var Ph,Fh,jh=function(e){return!!e&&(0!==e.readyState&&4!==e.readyState||0===e.status)};function Dh(e,t){return(Dh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ih(){return(Ih=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Mh=Oh.Provider,Rh=Oh.RequestClient,Lh=Oh.Socket;function Bh(e,t){return t||(t=new Error("Upload error")),"string"==typeof t&&(t=new Error(t)),t instanceof Error||(t=Ih(new Error("Upload error"),{data:t})),jh(e)?t=new Yp(t,e):(t.request=e,t)}function zh(e){return e.data.slice(0,e.data.size,e.meta.type)}var Hh=(Fh=Ph=function(e){var t,n;function r(t,n){var r;(r=e.call(this,t,n)||this).type="uploader",r.id=r.opts.id||"XHRUpload",r.title="XHRUpload",r.defaultLocale={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};var o={formData:!0,fieldName:"files[]",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:3e4,limit:0,withCredentials:!1,responseType:"",getResponseData:function(e,t){var n={};try{n=JSON.parse(e)}catch(e){console.log(e)}return n},getResponseError:function(e,t){var n=new Error("Upload error");return jh(t)&&(n=new Yp(n,t)),n},validateStatus:function(e,t,n){return e>=200&&e<300}};if(r.opts=Ih({},o,n),r.i18nInit(),r.handleUpload=r.handleUpload.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r.opts.__queue instanceof Nh?r.requests=r.opts.__queue:r.requests=new Nh(r.opts.limit),r.opts.bundle&&!r.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");return r.uploaderEvents=Object.create(null),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Dh(t,n);var o=r.prototype;return o.setOptions=function(t){e.prototype.setOptions.call(this,t),this.i18nInit()},o.i18nInit=function(){this.translator=new of([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},o.getOptions=function(e){var t=this.uppy.getState().xhrUpload,n=this.opts.headers,r=Ih({},this.opts,t||{},e.xhrUpload||{},{headers:{}});return"function"==typeof n?r.headers=n(e):Ih(r.headers,this.opts.headers),t&&Ih(r.headers,t.headers),e.xhrUpload&&Ih(r.headers,e.xhrUpload.headers),r},o.addMetadata=function(e,t,n){(Array.isArray(n.metaFields)?n.metaFields:Object.keys(t)).forEach((function(n){e.append(n,t[n])}))},o.createFormDataUpload=function(e,t){var n=new FormData;this.addMetadata(n,e.meta,t);var r=zh(e);return e.name?n.append(t.fieldName,r,e.meta.name):n.append(t.fieldName,r),n},o.createBundledUpload=function(e,t){var n=this,r=new FormData,o=this.uppy.getState().meta;return this.addMetadata(r,o,t),e.forEach((function(e){var t=n.getOptions(e),o=zh(e);e.name?r.append(t.fieldName,o,e.name):r.append(t.fieldName,o)})),r},o.createBareUpload=function(e,t){return e.data},o.upload=function(e,t,n){var r=this,o=this.getOptions(e);return this.uppy.log("uploading "+t+" of "+n),new Promise((function(t,n){r.uppy.emit("upload-started",e);var i=o.formData?r.createFormDataUpload(e,o):r.createBareUpload(e,o),a=new XMLHttpRequest;r.uploaderEvents[e.id]=new Ah(r.uppy);var s=new Th(o.timeout,(function(){a.abort(),u.done();var t=new Error(r.i18n("timedOut",{seconds:Math.ceil(o.timeout/1e3)}));r.uppy.emit("upload-error",e,t),n(t)})),l=xf();a.upload.addEventListener("loadstart",(function(e){r.uppy.log("[XHRUpload] "+l+" started")})),a.upload.addEventListener("progress",(function(t){r.uppy.log("[XHRUpload] "+l+" progress: "+t.loaded+" / "+t.total),s.progress(),t.lengthComputable&&r.uppy.emit("upload-progress",e,{uploader:r,bytesUploaded:t.loaded,bytesTotal:t.total})})),a.addEventListener("load",(function(i){if(r.uppy.log("[XHRUpload] "+l+" finished"),s.done(),u.done(),r.uploaderEvents[e.id]&&(r.uploaderEvents[e.id].remove(),r.uploaderEvents[e.id]=null),o.validateStatus(i.target.status,a.responseText,a)){var c=o.getResponseData(a.responseText,a),d=c[o.responseUrlFieldName],f={status:i.target.status,body:c,uploadURL:d};return r.uppy.emit("upload-success",e,f),d&&r.uppy.log("Download "+e.name+" from "+d),t(e)}var p=o.getResponseData(a.responseText,a),h=Bh(a,o.getResponseError(a.responseText,a)),g={status:i.target.status,body:p};return r.uppy.emit("upload-error",e,h,g),n(h)})),a.addEventListener("error",(function(t){r.uppy.log("[XHRUpload] "+l+" errored"),s.done(),u.done(),r.uploaderEvents[e.id]&&(r.uploaderEvents[e.id].remove(),r.uploaderEvents[e.id]=null);var i=Bh(a,o.getResponseError(a.responseText,a));return r.uppy.emit("upload-error",e,i),n(i)})),a.open(o.method.toUpperCase(),o.endpoint,!0),a.withCredentials=o.withCredentials,""!==o.responseType&&(a.responseType=o.responseType);var u=r.requests.run((function(){var t=r.getOptions(e);return Object.keys(t.headers).forEach((function(e){a.setRequestHeader(e,t.headers[e])})),a.send(i),function(){s.done(),a.abort()}}));r.onFileRemove(e.id,(function(){u.abort(),n(new Error("File removed"))})),r.onCancelAll(e.id,(function(){u.abort(),n(new Error("Upload cancelled"))}))}))},o.uploadRemote=function(e,t,n){var r=this,o=this.getOptions(e);return new Promise((function(t,n){r.uppy.emit("upload-started",e);var i={};(Array.isArray(o.metaFields)?o.metaFields:Object.keys(e.meta)).forEach((function(t){i[t]=e.meta[t]})),new(e.remote.providerOptions.provider?Mh:Rh)(r.uppy,e.remote.providerOptions).post(e.remote.url,Ih({},e.remote.body,{endpoint:o.endpoint,size:e.data.size,fieldname:o.fieldName,metadata:i,httpMethod:o.method,useFormData:o.formData,headers:o.headers})).then((function(i){var a=i.token,s=function(e){var t=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(e)[1];return(/^http:\/\//i.test(e)?"ws":"wss")+"://"+t}(e.remote.companionUrl),l=new Lh({target:s+"/api/"+a,autoOpen:!1});r.uploaderEvents[e.id]=new Ah(r.uppy),r.onFileRemove(e.id,(function(){l.send("pause",{}),u.abort(),t("upload "+e.id+" was removed")})),r.onCancelAll(e.id,(function(){l.send("pause",{}),u.abort(),t("upload "+e.id+" was canceled")})),r.onRetry(e.id,(function(){l.send("pause",{}),l.send("resume",{})})),r.onRetryAll(e.id,(function(){l.send("pause",{}),l.send("resume",{})})),l.on("progress",(function(t){return _h(r,t,e)})),l.on("success",(function(n){var i=o.getResponseData(n.response.responseText,n.response),a=i[o.responseUrlFieldName],s={status:n.response.status,body:i,uploadURL:a};return r.uppy.emit("upload-success",e,s),u.done(),r.uploaderEvents[e.id]&&(r.uploaderEvents[e.id].remove(),r.uploaderEvents[e.id]=null),t()})),l.on("error",(function(t){var i=t.response,a=i?o.getResponseError(i.responseText,i):Ih(new Error(t.error.message),{cause:t.error});r.uppy.emit("upload-error",e,a),u.done(),r.uploaderEvents[e.id]&&(r.uploaderEvents[e.id].remove(),r.uploaderEvents[e.id]=null),n(a)}));var u=r.requests.run((function(){return l.open(),e.isPaused&&l.send("pause",{}),function(){return l.close()}}))})).catch((function(t){r.uppy.emit("upload-error",e,t),n(t)}))}))},o.uploadBundle=function(e){var t=this;return new Promise((function(n,r){var o=t.opts.endpoint,i=t.opts.method,a=t.uppy.getState().xhrUpload,s=t.createBundledUpload(e,Ih({},t.opts,a||{})),l=new XMLHttpRequest,u=new Th(t.opts.timeout,(function(){l.abort();var e=new Error(t.i18n("timedOut",{seconds:Math.ceil(t.opts.timeout/1e3)}));c(e),r(e)})),c=function(n){e.forEach((function(e){t.uppy.emit("upload-error",e,n)}))};l.upload.addEventListener("loadstart",(function(e){t.uppy.log("[XHRUpload] started uploading bundle"),u.progress()})),l.upload.addEventListener("progress",(function(n){u.progress(),n.lengthComputable&&e.forEach((function(e){t.uppy.emit("upload-progress",e,{uploader:t,bytesUploaded:n.loaded/n.total*e.size,bytesTotal:e.size})}))})),l.addEventListener("load",(function(o){if(u.done(),t.opts.validateStatus(o.target.status,l.responseText,l)){var i=t.opts.getResponseData(l.responseText,l),a={status:o.target.status,body:i};return e.forEach((function(e){t.uppy.emit("upload-success",e,a)})),n()}var s=t.opts.getResponseError(l.responseText,l)||new Error("Upload error");return s.request=l,c(s),r(s)})),l.addEventListener("error",(function(e){u.done();var n=t.opts.getResponseError(l.responseText,l)||new Error("Upload error");return c(n),r(n)})),t.uppy.on("cancel-all",(function(){u.done(),l.abort()})),l.open(i.toUpperCase(),o,!0),l.withCredentials=t.opts.withCredentials,""!==t.opts.responseType&&(l.responseType=t.opts.responseType),Object.keys(t.opts.headers).forEach((function(e){l.setRequestHeader(e,t.opts.headers[e])})),l.send(s),e.forEach((function(e){t.uppy.emit("upload-started",e)}))}))},o.uploadFiles=function(e){var t=this;return function(e){var t=[],n=[];function r(e){t.push(e)}function o(e){n.push(e)}return Promise.all(e.map((function(e){return e.then(r,o)}))).then((function(){return{successful:t,failed:n}}))}(e.map((function(n,r){var o=parseInt(r,10)+1,i=e.length;return n.error?Promise.reject(new Error(n.error)):n.isRemote?t.uploadRemote(n,o,i):t.upload(n,o,i)})))},o.onFileRemove=function(e,t){this.uploaderEvents[e].on("file-removed",(function(n){e===n.id&&t(n.id)}))},o.onRetry=function(e,t){this.uploaderEvents[e].on("upload-retry",(function(n){e===n&&t()}))},o.onRetryAll=function(e,t){var n=this;this.uploaderEvents[e].on("retry-all",(function(r){n.uppy.getFile(e)&&t()}))},o.onCancelAll=function(e,t){var n=this;this.uploaderEvents[e].on("cancel-all",(function(){n.uppy.getFile(e)&&t()}))},o.handleUpload=function(e){var t=this;if(0===e.length)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();0!==this.opts.limit||this.opts.__queue||this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");var n=e.map((function(e){return t.uppy.getFile(e)}));if(this.opts.bundle){if(n.some((function(e){return e.isRemote})))throw new Error("Can’t upload remote files when the `bundle: true` option is set");if("function"==typeof this.opts.headers)throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(n)}return this.uploadFiles(n).then((function(){return null}))},o.install=function(){if(this.opts.bundle){var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:Ih({},e,{individualCancellation:!1})})}this.uppy.addUploader(this.handleUpload)},o.uninstall=function(){if(this.opts.bundle){var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:Ih({},e,{individualCancellation:!0})})}this.uppy.removeUploader(this.handleUpload)},r}(Ip.Plugin),Ph.VERSION="1.7.5",Fh),Uh=function(){return(Uh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function $h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Vh(e){var t=e.server,n=void 0===t?"":t,r=e.fieldName,o=void 0===r?"":r,i=e.maxFileSize,a=void 0===i?10485760:i,s=e.maxNumberOfFiles,l=void 0===s?100:s,u=e.meta,c=void 0===u?{}:u,d=e.headers,f=void 0===d?{}:d,p=e.withCredentials,h=void 0!==p&&p,g=e.timeout,v=void 0===g?1e4:g,m=e.onBeforeUpload,y=void 0===m?function(e){return e}:m,b=e.onSuccess,w=void 0===b?function(e,t){}:b,x=e.onError,E=void 0===x?function(e,t,n){console.error(e.name+" upload error",t,n),alert(e.name+" upload error")}:x,S=e.onProgress,k=void 0===S?function(e){}:S;if(!n)throw new Error("Cannot get upload server address from menu config");if(!o)throw new Error("Cannot get fieldName from menu config");var O=Ip({onBeforeUpload:y,restrictions:{maxFileSize:a,maxNumberOfFiles:l},meta:c}).use(Hh,{endpoint:n,headers:f,formData:!0,fieldName:o,bundle:!0,withCredentials:h,timeout:v});return O.on("upload-success",(function(e,t){var n=t.body;w(e,void 0===n?{}:n),O.removeFile(e.id)})),O.on("progress",(function(e){k(e)})),O.on("error",(function(e){console.error("wangEditor file upload error",e.stack)})),O.on("upload-error",(function(e,t,n){E(e,t,n),O.removeFile(e.id)})),O}function qh(e){var t=e.selection;return null==t||!Et.isCollapsed(t)||!!$h(st.nodes(e,{match:function(t){var n=os.getNodeType(t);return"code"===n||"pre"===n||"link"===n||"list-item"===n||!!n.startsWith("header")||"blockquote"===n||!!st.isVoid(e,t)},universal:!0}),1)[0]}var Wh=new WeakMap;mr.fn.append=Dr,mr.fn.on=Or,mr.fn.remove=Lr,mr.fn.val=kr,mr.fn.click=Hr,mr.fn.hide=Tr;var Gh,Kh=function(){function e(){this.title="上传图片",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M828.708571 585.045333a48.761905 48.761905 0 0 0-48.737523 48.761905v18.529524l-72.143238-72.167619a135.972571 135.972571 0 0 0-191.585524 0l-34.133334 34.133333-120.880762-120.953905a138.898286 138.898286 0 0 0-191.585523 0l-72.167619 72.167619V292.400762a48.786286 48.786286 0 0 1 48.761904-48.761905h341.23581a48.737524 48.737524 0 0 0 34.474667-83.285333 48.737524 48.737524 0 0 0-34.474667-14.287238H146.236952A146.212571 146.212571 0 0 0 0 292.400762v585.289143A146.358857 146.358857 0 0 0 146.236952 1024h584.996572a146.212571 146.212571 0 0 0 146.236952-146.310095V633.807238a48.786286 48.786286 0 0 0-48.761905-48.761905zM146.261333 926.45181a48.737524 48.737524 0 0 1-48.761904-48.761905v-174.128762l141.409523-141.458286a38.497524 38.497524 0 0 1 53.126096 0l154.526476 154.624 209.627428 209.724953H146.236952z m633.734096-48.761905c-0.073143 9.337905-3.145143 18.383238-8.777143 25.843809l-219.843048-220.94019 34.133333-34.133334a37.546667 37.546667 0 0 1 53.613715 0l140.873143 141.897143V877.714286zM1009.615238 160.231619L863.329524 13.897143a48.737524 48.737524 0 0 0-16.091429-10.24c-11.849143-4.87619-25.161143-4.87619-37.059047 0a48.761905 48.761905 0 0 0-16.067048 10.24l-146.236952 146.334476a49.005714 49.005714 0 0 0 69.217523 69.241905l62.902858-63.390476v272.627809a48.761905 48.761905 0 1 0 97.475047 0V166.083048l62.902857 63.390476a48.737524 48.737524 0 0 0 69.217524 0 48.761905 48.761905 0 0 0 0-69.241905z"></path></svg>',this.tag="button",this.uppy=null}return e.prototype.getValue=function(e){return""},e.prototype.isActive=function(e){return!1},e.prototype.isDisabled=function(e){return qh(e)},e.prototype.getMenuConfig=function(e){return e.getMenuConfig("uploadImage")},e.prototype.exec=function(e,t){var n=this,r=this.getMenuConfig(e),o=r.allowedFileTypes,i=void 0===o?[]:o,a=r.customBrowseAndUpload;if(a)a((function(t,n,r){return Oc(e,t,n,r)}));else{var s="";i.length>0&&(s='accept="'+i.join(", ")+'"');var l=mr("body"),u=mr('<input type="file" '+s+" multiple/>");u.hide(),l.append(u),u.click(),u.on("change",(function(){var t=u[0].files;n.handleFiles(e,t)}))}},e.prototype.handleFiles=function(e,t){var n=this;if(null!=t){var r=Array.prototype.slice.call(t),o=[],i=this.getMenuConfig(e),a=i.customUpload,s=i.base64LimitKB;s?r.forEach((function(t){t.size/1024>s?o.push(t):n.insertBase64(e,t)})):o=r,a?a(o,(function(t,n,r){return Oc(e,t,n,r)})):this.uploadFiles(e,o)}},e.prototype.insertBase64=function(e,t){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){var r=n.result;if(r){var o=r.toString();Oc(e,o,t.name,o)}}},e.prototype.uploadFiles=function(e,t){var n=this.getMenuConfig(e),r=n.onSuccess,o=n.onProgress,i=n.onFailed,a=n.customInsert,s=n.onError;null==this.uppy&&(this.uppy=Vh(Uh(Uh({},n),{onProgress:function(t){e.showProgressBar(t),o&&o(t)},onSuccess:function(t,n){if(a)a(n,(function(t,n,r){return Oc(e,t,n,r)}));else{var o=n.errno,s=void 0===o?1:o,l=n.message,u=void 0===l?"上传失败\nUpload failed":l,c=n.data,d=void 0===c?[]:c;if(0!==s)return console.error("'"+t.name+"' upload failed",n),e.alert(u,"error"),void i(t,n);d.forEach((function(t){var n=t.url,r=void 0===n?"":n,o=t.alt,i=void 0===o?"":o,a=t.href;Oc(e,r,i,void 0===a?"":a)})),r(t,n)}},onError:function(t,n,r){console.error("'"+t.name+" upload error",n,r);var o="'"+t.name+"' 上传错误\n'"+t.name+"' upload error";e.alert(o,"error"),s&&s(t,n,r)}})));var l=this.uppy;t.forEach((function(e){var t=e.name,n=e.type,r=e.size;l.addFile({name:t,type:n,size:r,data:e}),l.upload()}))},e}(),Xh={menus:[{key:"uploadImage",factory:function(){return new Kh},config:{server:"",fieldName:"wangeditor-uploaded-file",maxFileSize:2097152,maxNumberOfFiles:100,allowedFileTypes:["image/*"],meta:{},headers:{},withCredentials:!1,timeout:1e4,onBeforeUpload:function(e){return e},onProgress:function(e){},onSuccess:function(e,t){},onFailed:function(e,t){},onError:function(e,t,n){},base64LimitKB:0}}],editorPlugin:function(e){var t=e.insertData,n=e;return n.insertData=function(r){if(qh(n))t(r);else{var o=r.files;if(o.length<=0)t(r);else{var i=!1,a=Wh.get(n);if(null==a){var s=e.getMenuConfig("uploadImage"),l=s.onSuccess,u=s.onFailed;a=Vh(Uh(Uh({},s),{onSuccess:function(e,t){var r=t.errno,o=void 0===r?1:r,i=t.data,a=void 0===i?[]:i;if(0!==o)return console.error("'"+e.name+"' upload failed",t),void u(e,t);a.forEach((function(e){var t=e.url,r=void 0===t?"":t,o=e.alt,i=void 0===o?"":o,a=e.href;Oc(n,r,i,void 0===a?"":a)})),l(e,t)}})),Wh.set(n,a)}for(var c=0;c<o.length;c++){var d=o[c];if("image"===$h(d.type.split("/"),1)[0]){i=!0;var f=d.name,p=d.type,h=d.size;a.addFile({name:f,type:p,size:h,data:d})}}a.upload(),i||t(r)}}},n}},Zh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Yh=(function(e){var t=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,i;switch(n=n||{},o.util.type(t)){case"Object":if(i=o.util.objId(t),n[i])return n[i];for(var a in r={},n[i]=r,t)t.hasOwnProperty(a)&&(r[a]=e(t[a],n));return r;case"Array":return i=o.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach((function(t,o){r[o]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e&&!t.test(e.className);)e=e.parentElement;return e?(e.className.match(t)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var i=(r=r||o.languages)[e],a={};for(var s in i)if(i.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(s)||(a[s]=i[s])}var u=r[e];return r[e]=a,o.languages.DFS(o.languages,(function(t,n){n===u&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,r,i){i=i||{};var a=o.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var l=t[s],u=o.util.type(l);"Object"!==u||i[a(l)]?"Array"!==u||i[a(l)]||(i[a(l)]=!0,e(l,n,s,i)):(i[a(l)]=!0,e(l,n,null,i))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var i,a=0;i=r.elements[a++];)o.highlightElement(i,!0===t,r.callback)},highlightElement:function(n,r,i){var a=o.util.getLanguage(n),s=o.languages[a];n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+a;var l=n.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+a);var u={element:n,language:a,grammar:s,code:n.textContent};function c(e){u.highlightedCode=e,o.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,o.hooks.run("after-highlight",u),o.hooks.run("complete",u),i&&i.call(u.element)}if(o.hooks.run("before-sanity-check",u),(l=u.element.parentElement)&&"pre"===l.nodeName.toLowerCase()&&!l.hasAttribute("tabindex")&&l.setAttribute("tabindex","0"),!u.code)return o.hooks.run("complete",u),void(i&&i.call(u.element));if(o.hooks.run("before-highlight",u),u.grammar)if(r&&e.Worker){var d=new Worker(o.filename);d.onmessage=function(e){c(e.data)},d.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else c(o.highlight(u.code,u.grammar,u.language));else c(o.util.encode(u.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};return o.hooks.run("before-tokenize",r),r.tokens=o.tokenize(r.code,r.grammar),o.hooks.run("after-tokenize",r),i.stringify(o.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var o=new l;return u(o,o.head,e),s(e,o,t,o.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function a(e,t,n,r){e.lastIndex=t;var o=e.exec(n);if(o&&r&&o[1]){var i=o[1].length;o.index+=i,o[0]=o[0].slice(i)}return o}function s(e,t,n,r,l,d){for(var f in n)if(n.hasOwnProperty(f)&&n[f]){var p=n[f];p=Array.isArray(p)?p:[p];for(var h=0;h<p.length;++h){if(d&&d.cause==f+","+h)return;var g=p[h],v=g.inside,m=!!g.lookbehind,y=!!g.greedy,b=g.alias;if(y&&!g.pattern.global){var w=g.pattern.toString().match(/[imsuy]*$/)[0];g.pattern=RegExp(g.pattern.source,w+"g")}for(var x=g.pattern||g,E=r.next,S=l;E!==t.tail&&!(d&&S>=d.reach);S+=E.value.length,E=E.next){var k=E.value;if(t.length>e.length)return;if(!(k instanceof i)){var O,_=1;if(y){if(!(O=a(x,S,e,m)))break;var A=O.index,T=O.index+O[0].length,C=S;for(C+=E.value.length;A>=C;)C+=(E=E.next).value.length;if(S=C-=E.value.length,E.value instanceof i)continue;for(var N=E;N!==t.tail&&(C<T||"string"==typeof N.value);N=N.next)_++,C+=N.value.length;_--,k=e.slice(S,C),O.index-=S}else if(!(O=a(x,0,k,m)))continue;A=O.index;var P=O[0],F=k.slice(0,A),j=k.slice(A+P.length),D=S+k.length;d&&D>d.reach&&(d.reach=D);var I=E.prev;if(F&&(I=u(t,I,F),S+=F.length),c(t,I,_),E=u(t,I,new i(f,v?o.tokenize(P,v):P,b,P)),j&&u(t,E,j),_>1){var M={cause:f+","+h,reach:D};s(e,t,n,E.prev,S,M),d&&M.reach>d.reach&&(d.reach=M.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function u(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}function c(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;t.next=r,r.prev=t,e.length-=o}if(e.Prism=o,i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},a=t.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(i.classes,a):i.classes.push(a)),o.hooks.run("wrap",i);var s="";for(var l in i.attributes)s+=" "+l+'="'+(i.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+s+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,a=n.immediateClose;e.postMessage(o.highlight(i,o.languages[r],r)),a&&e.close()}),!1),o):o;var d=o.util.currentScript();function f(){o.manual||o.highlightAll()}if(d&&(o.filename=d.src,d.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return o}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
       * Prism: Lightweight, robust, elegant syntax highlighting
       *
       * @license MIT <https://opensource.org/licenses/MIT>
       * @author Lea Verou <https://lea.verou.me>
       * @namespace
       * @public
       */e.exports&&(e.exports=t),void 0!==Zh&&(Zh.Prism=t),t.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?\]\]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:o},t.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(void 0!==t&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},n="data-src-status",r='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',o=/\blang(?:uage)?-([\w-]+)\b/i;t.hooks.add("before-highlightall",(function(e){e.selector+=", "+r})),t.hooks.add("before-sanity-check",(function(o){var i=o.element;if(i.matches(r)){o.code="",i.setAttribute(n,"loading");var s=i.appendChild(document.createElement("CODE"));s.textContent="Loading…";var l=i.getAttribute("data-src"),u=o.language;if("none"===u){var c=(/\.(\w+)$/.exec(l)||[,"none"])[1];u=e[c]||c}a(s,u),a(i,u);var d=t.plugins.autoloader;d&&d.loadLanguages(u);var f=new XMLHttpRequest;f.open("GET",l,!0),f.onreadystatechange=function(){4==f.readyState&&(f.status<400&&f.responseText?(i.setAttribute(n,"loaded"),s.textContent=f.responseText,t.highlightElement(s)):(i.setAttribute(n,"failed"),f.status>=400?s.textContent="✖ Error "+f.status+" while fetching file: "+f.statusText:s.textContent="✖ Error: File does not exist or is empty"))},f.send(null)}})),t.plugins.fileHighlight={highlight:function(e){for(var n,o=(e||document).querySelectorAll(r),i=0;n=o[i++];)t.highlightElement(n)}};var i=!1;t.fileHighlight=function(){i||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),i=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}function a(e,t){var n=e.className;n=n.replace(o," ")+" language-"+t,e.className=n.replace(/\s+/g," ").trim()}}()}(Gh={exports:{}}),Gh.exports);!function(e){var t=e.util.clone(e.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,o=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function i(e,t){return e=e.replace(/<S>/g,(function(){return n})).replace(/<BRACES>/g,(function(){return r})).replace(/<SPREAD>/g,(function(){return o})),RegExp(e,t)}o=i(o).source,e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=i(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/i,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/i,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=t.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:i(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:i(/=<BRACES>/.source),inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx},alias:"language-javascript"}},e.languages.jsx.tag);var a=function(e){return e?"string"==typeof e?e:"string"==typeof e.content?e.content:e.content.map(a).join(""):""},s=function(t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=!1;if("string"!=typeof o&&("tag"===o.type&&o.content[0]&&"tag"===o.content[0].type?"</"===o.content[0].content[0].content?n.length>0&&n[n.length-1].tagName===a(o.content[0].content[1])&&n.pop():"/>"===o.content[o.content.length-1].content||n.push({tagName:a(o.content[0].content[1]),openedBraces:0}):n.length>0&&"punctuation"===o.type&&"{"===o.content?n[n.length-1].openedBraces++:n.length>0&&n[n.length-1].openedBraces>0&&"punctuation"===o.type&&"}"===o.content?n[n.length-1].openedBraces--:i=!0),(i||"string"==typeof o)&&n.length>0&&0===n[n.length-1].openedBraces){var l=a(o);r<t.length-1&&("string"==typeof t[r+1]||"plain-text"===t[r+1].type)&&(l+=a(t[r+1]),t.splice(r+1,1)),r>0&&("string"==typeof t[r-1]||"plain-text"===t[r-1].type)&&(l=a(t[r-1])+l,t.splice(r-1,1),r--),t[r]=new e.Token("plain-text",l,null,l)}o.content&&"string"!=typeof o.content&&s(o.content)}};e.hooks.add("after-tokenize",(function(e){"jsx"!==e.language&&"tsx"!==e.language||s(e.tokens)}))}(Prism),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|as|declare|implements|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)(?!\s*[^\s_${}*a-zA-Z\xA0-\uFFFF])/),delete e.languages.typescript.parameter;var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(Prism),Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?\]\]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|iota|nil|true|false)\b/,number:/(?:\b0x[a-f\d]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[-+]?\d+)?)i?/i,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\b/}),delete Prism.languages.go["class-name"],function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],r=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,o=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,i=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[\w|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[\w|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:r,operator:o,punctuation:i};var a={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},s=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:a}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:a}}];e.languages.insertBefore("php","variable",{string:s,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:s,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:r,operator:o,punctuation:i}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(t){/<\?/.test(t.code)&&e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/gi)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{"class-name":[r,{pattern:RegExp(n+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:module|import)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b[a-z_]\w*\s*<(?:[^<>]|<(?:[^<>])*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,(function(e,n){return"(?:"+t[+n]+")"}))}function n(e,n,r){return RegExp(t(e,n),r||"")}function r(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,(function(){return"(?:"+e+")"}));return e.replace(/<<self>>/g,"[^\\s\\S]")}var o="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",i="class enum interface struct",a="add alias and ascending async await by descending from get global group into join let nameof not notnull on or orderby partial remove select set unmanaged value when where",s="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function l(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var u=l(i),c=RegExp(l(o+" "+i+" "+a+" "+s)),d=l(i+" "+a+" "+s),f=l(o+" "+i+" "+s),p=r(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),h=r(/\((?:[^()]|<<self>>)*\)/.source,2),g=/@?\b[A-Za-z_]\w*\b/.source,v=t(/<<0>>(?:\s*<<1>>)?/.source,[g,p]),m=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,v]),y=/\[\s*(?:,\s*)*\]/.source,b=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[m,y]),w=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,h,y]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),E=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,m,y]),S={keyword:c,punctuation:/[<>()?,.:[\]]/},k=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,O=/"(?:\\.|[^\\"\r\n])*"/.source,_=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[_]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[O]),lookbehind:!0,greedy:!0},{pattern:RegExp(k),greedy:!0,alias:"character"}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[m]),lookbehind:!0,inside:S},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[g,E]),lookbehind:!0,inside:S},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[g]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[u,v]),lookbehind:!0,inside:S},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[m]),lookbehind:!0,inside:S},{pattern:n(/(\bwhere\s+)<<0>>/.source,[g]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[b]),lookbehind:!0,inside:S},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[E,f,g]),inside:S}],keyword:c,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[g]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[g]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[h]),lookbehind:!0,alias:"class-name",inside:S},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[E,m]),inside:S,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[E]),lookbehind:!0,inside:S,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[g,p]),inside:{function:n(/^<<0>>/.source,[g]),generic:{pattern:RegExp(p),alias:"class-name",inside:S}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>)(?:\s*,\s*(?:<<3>>|<<4>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[u,v,g,E,c.source]),lookbehind:!0,inside:{keyword:c,"class-name":{pattern:RegExp(E),greedy:!0,inside:S},punctuation:/,/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var A=O+"|"+k,T=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[A]),C=r(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[T]),2),N=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,P=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[m,C]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[N,P]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[N]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[C]),inside:e.languages.csharp},"class-name":{pattern:RegExp(m),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var F=/:[^}\r\n]+/.source,j=r(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[T]),2),D=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[j,F]),I=r(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[A]),2),M=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[I,F]);function R(t,r){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[r,F]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[D]),lookbehind:!0,greedy:!0,inside:R(D,j)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[M]),lookbehind:!0,greedy:!0,inside:R(M,I)}]})}(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp,Prism.languages["visual-basic"]={comment:{pattern:/(?:['‘’]|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:[^\S\r\n]_[^\S\r\n]*(?:\r\n?|\n)|.)+/i,alias:"comment",greedy:!0},string:{pattern:/\$?["“”](?:["“”]{2}|[^"“”])*["“”]C?/i,greedy:!0},date:{pattern:/#[^\S\r\n]*(?:\d+([/-])\d+\1\d+(?:[^\S\r\n]+(?:\d+[^\S\r\n]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[^\S\r\n]*(?:AM|PM))?))?|\d+[^\S\r\n]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[^\S\r\n]*(?:AM|PM))?)[^\S\r\n]*#/i,alias:"builtin"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:U?[ILS]|[FRD])?/i,boolean:/\b(?:True|False|Nothing)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Until|Xor)\b/i,operator:[/[+\-*/\\^<=>&#@$%!]/,{pattern:/([^\S\r\n])_(?=[^\S\r\n]*[\r\n])/,lookbehind:!0}],punctuation:/[{}().,:?]/},Prism.languages.vb=Prism.languages["visual-basic"],Prism.languages.vba=Prism.languages["visual-basic"],Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:S|ING)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|IN|ILIKE|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){e.languages.ruby=e.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.languages.ruby}};delete e.languages.ruby.function,e.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:e.languages.ruby}}}),e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:t}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?/}},interpolation:t}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?'|'$/}}}}],e.languages.rb=e.languages.ruby}(Prism),Prism.languages.swift=Prism.languages.extend("clike",{string:{pattern:/("|')(?:\\(?:\((?:[^()]|\([^)]+\))+\)|\r\n|[^(])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/\\\((?:[^()]|\([^)]+\))+\)/,inside:{delimiter:{pattern:/^\\\(|\)$/,alias:"variable"}}}}},keyword:/\b(?:as|associativity|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic(?:Type)?|else|enum|extension|fallthrough|final|for|func|get|guard|if|import|in|infix|init|inout|internal|is|lazy|left|let|mutating|new|none|nonmutating|operator|optional|override|postfix|precedence|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|Self|set|some|static|struct|subscript|super|switch|throws?|try|Type|typealias|unowned|unsafe|var|weak|where|while|willSet|__(?:COLUMN__|FILE__|FUNCTION__|LINE__))\b/,number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,constant:/\b(?:nil|[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,atrule:/@\b(?:IB(?:Outlet|Designable|Action|Inspectable)|class_protocol|exported|noreturn|NS(?:Copying|Managed)|objc|UIApplicationMain|auto_closure)\b/,builtin:/\b(?:[A-Z]\S+|abs|advance|alignof(?:Value)?|assert|contains|count(?:Elements)?|debugPrint(?:ln)?|distance|drop(?:First|Last)|dump|enumerate|equal|filter|find|first|getVaList|indices|isEmpty|join|last|lexicographicalCompare|map|max(?:Element)?|min(?:Element)?|numericCast|overlaps|partition|print(?:ln)?|reduce|reflect|reverse|sizeof(?:Value)?|sort(?:ed)?|split|startsWith|stride(?:of(?:Value)?)?|suffix|swap|toDebugString|toString|transcode|underestimateCount|unsafeBitCast|with(?:ExtendedLifetime|Unsafe(?:MutablePointers?|Pointers?)|VaList))\b/}),Prism.languages.swift.string.inside.interpolation.inside.rest=Prism.languages.swift,function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var o=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],i=r.variable[1].inside,a=0;a<o.length;a++)i[o[a]]=e.languages.bash[o[a]];e.languages.shell=e.languages.bash}(Prism),function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"font-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+i+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+i+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike","code-snippet"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!=typeof t)for(var n=0,r=t.length;n<r;n++){var o=t[n];if("code"===o.type){var i=o.content[1],a=o.content[3];if(i&&a&&"code-language"===i.type&&"code-block"===a.type&&"string"==typeof i.content){var s=i.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),l="language-"+(s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase());a.alias?"string"==typeof a.alias?a.alias=[a.alias,l]:a.alias.push(l):a.alias=[l]}}else e(o.content)}}(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,o=t.classes.length;r<o;r++){var i=t.classes[r],u=/language-(.+)/.exec(i);if(u){n=u[1];break}}var c=e.languages[n];if(c)t.content=e.highlight(t.content.replace(a,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(e,t){var n;return"#"===(t=t.toLowerCase())[0]?(n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),l(n)):s[t]||e})),c,n);else if(n&&"none"!==n&&e.plugins.autoloader){var d="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=d,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(d);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}}));var a=RegExp(e.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(Prism);var Jh=["comment","prolog","doctype","cdata","punctuation","namespace","property","tag","boolean","number","constant","symbol","deleted","selector","attr-name","string","builtin","inserted","operator","entity","url","string","atrule","attr-value","keyword","function","class-name","regex","important","variable","bold","italic","entity","char"];function Qh(e){return"string"==typeof e?e.length:"string"==typeof e.content?e.content.length:e.content.reduce((function(e,t){return e+Qh(t)}),0)}var eg=function(){function e(){this.title="选择语言",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M64 64v896h896V64H64z m487.6 698.8c0 87.2-51.2 127-125.8 127-67.4 0-106.4-34.8-126.4-77l68.6-41.4c13.2 23.4 25.2 43.2 54.2 43.2 27.6 0 45.2-10.8 45.2-53V475.4h84.2v287.4z m199.2 127c-78.2 0-128.8-37.2-153.4-86l68.6-39.6c18 29.4 41.6 51.2 83 51.2 34.8 0 57.2-17.4 57.2-41.6 0-28.8-22.8-39-61.4-56l-21-9c-60.8-25.8-101-58.4-101-127 0-63.2 48.2-111.2 123.2-111.2 53.6 0 92 18.6 119.6 67.4L800 580c-14.4-25.8-30-36-54.2-36-24.6 0-40.2 15.6-40.2 36 0 25.2 15.6 35.4 51.8 51.2l21 9c71.6 30.6 111.8 62 111.8 132.4 0 75.6-59.6 117.2-139.4 117.2z"></path></svg>',this.tag="select",this.width=95,this.selectPanelWidth=115}return e.prototype.getOptions=function(e){var t=[],n=e.getMenuConfig("codeSelectLang").codeLangs,r=void 0===n?[]:n;t.push({text:"plain text",value:""}),r.forEach((function(e){var n=e.text,r=e.value;t.push({text:n,value:r})}));var o=this.getValue(e);return t.forEach((function(e){e.value===o?e.selected=!0:delete e.selected})),t},e.prototype.isActive=function(e){return!1},e.prototype.getValue=function(e){var t=this.getSelectCodeElem(e);return null==t?"":rt.isElement(t)&&t.language||""},e.prototype.isDisabled=function(e){return null==e.selection||!this.getSelectCodeElem(e)},e.prototype.exec=function(e,t){if(null!=this.getSelectCodeElem(e)){var n={language:t.toString()};Ht.setNodes(e,n,{match:function(e){return os.checkNodeType(e,"code")}})}},e.prototype.getSelectCodeElem=function(e){var t=os.getSelectedNodeByType(e,"code");if(null==t)return null;var n=os.getParentNode(e,t);return rt.isElement(n)?"pre"!==n.type?null:t:null},e}(),tg={renderTextStyle:function(e,t){var n=e,r=t,o="";return Jh.forEach((function(e){n[e]&&(o=e)})),o&&function(e,t){null==e.data&&(e.data={});var n=e.data;null==n.props&&(n.props={}),Object.assign(n.props,{className:t})}(r,o="token "+o),r},menus:[{key:"codeSelectLang",factory:function(){return new eg},config:{codeLangs:[{text:"CSS",value:"css"},{text:"HTML",value:"html"},{text:"XML",value:"xml"},{text:"Javascript",value:"javascript"},{text:"Typescript",value:"typescript"},{text:"JSX",value:"jsx"},{text:"Go",value:"go"},{text:"PHP",value:"php"},{text:"C",value:"c"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C++",value:"cpp"},{text:"C#",value:"csharp"},{text:"Visual Basic",value:"visual-basic"},{text:"SQL",value:"sql"},{text:"Ruby",value:"ruby"},{text:"Swift",value:"swift"},{text:"Bash",value:"bash"},{text:"Markdown",value:"markdown"}]}}],elemsToHtml:[{type:"code",elemToHtml:function(e,t,n){var r=e.language,o=void 0===r?"":r;return"<code "+(o?'class="language-'+o+'"':"")+">"+t+"</code>"}}]},ng=function(e){var t,n,r,o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,2),i=o[0],a=o[1],s=[],l=function(e){if(!_t.isText(e))return null;var t=os.getParentNode(null,e);if(t&&"code"===os.getNodeType(t)){var n=os.getParentNode(null,t);if(n&&"pre"===os.getNodeType(n))return t}return null}(i);if(null==l)return s;var u=l.language,c=void 0===u?"":u;if(!c)return s;var d=function(e,t){return t?Yh.tokenize(e.text,Yh.languages[t]):[]}(i,c),f=0;try{for(var p=
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
      
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
      
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */
function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),h=p.next();!h.done;h=p.next()){var g=h.value,v=f+Qh(g);"string"!=typeof g&&s.push(((r={})[g.type]=!0,r.anchor={path:a,offset:f},r.focus={path:a,offset:v},r)),f=v}}catch(e){t={error:e}}finally{try{h&&!h.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}return s},rg=function(){return(rg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function og(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function ig(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var ag=function(){function e(){throw new Error("不能实例化\nCan not construct a instance")}return e.setEditorConfig=function(e){void 0===e&&(e={}),this.editorConfig=rg(rg({},this.editorConfig),e)},e.setSimpleEditorConfig=function(e){void 0===e&&(e={}),this.simpleEditorConfig=rg(rg({},this.simpleEditorConfig),e)},e.setToolbarConfig=function(e){void 0===e&&(e={}),this.toolbarConfig=rg(rg({},this.toolbarConfig),e)},e.setSimpleToolbarConfig=function(e){void 0===e&&(e={}),this.simpleToolbarConfig=rg(rg({},this.simpleToolbarConfig),e)},e.registerPlugin=function(e){this.plugins.push(e)},e.registerMenu=function(e,t){!function(e,t){var n=e.key,r=e.factory,o=e.config,i=ca(ca({},o),t||{});if(null!=ss[n])throw new Error("Duplicated key '"+n+"' in menu items");ss[n]=r,function(e,t){null!=t&&(as[e]=t)}(n,i)}(e,t)},e.registerRenderElem=function(e){!function(e){var t=e.type,n=e.renderElem;tl[t||""]=n}(e)},e.registerRenderTextStyle=function(e){var t;t=e,el.push(t)},e.registerElemToHtml=function(e){!function(e){var t=e.type,n=e.elemToHtml;vs[t||""]=n}(e)},e.registerTextToHtml=function(e){var t;t=e,gs.push(t)},e.registerTextStyleToHtml=function(e){var t;t=e,hs.push(t)},e.editorConfig={},e.simpleEditorConfig={},e.toolbarConfig={},e.simpleToolbarConfig={},e.plugins=[],e}();function sg(e){var t=e.menus,n=e.renderElems,r=e.renderTextStyle,o=e.elemsToHtml,i=e.textToHtml,a=e.textStyleToHtml,s=e.editorPlugin;t&&t.forEach((function(e){return ag.registerMenu(e)})),n&&n.forEach((function(e){return ag.registerRenderElem(e)})),r&&ag.registerRenderTextStyle(r),o&&o.forEach((function(e){return ag.registerElemToHtml(e)})),i&&ag.registerTextToHtml(i),a&&ag.registerTextStyleToHtml(a),s&&ag.registerPlugin(s)}hd.forEach((function(e){return sg(e)})),sg(jd),sg(Kd),sg(ef),sg(Xh),sg(tg);var lg='<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>';var ug=[{desc:"选中链接 selected link",match:function(e,t){return os.checkNodeType(t,"link")},menuKeys:["updateLink","unLink","viewLink"]},{desc:"选中图片 selected image",match:function(e,t){return os.checkNodeType(t,"image")},menuKeys:["imageWidth30","imageWidth50","imageWidth100","editImage","viewImageLink","deleteImage"]},{desc:"选中视频 selected video",match:function(e,t){return os.checkNodeType(t,"video")},menuKeys:["deleteVideo"]},{desc:"选中代码块 selected code block",match:function(e,t){return os.checkNodeType(t,"pre")},menuKeys:["codeBlock","codeSelectLang"]},{desc:"选中表格 selected table",match:function(e,t){return os.checkNodeType(t,"table")},menuKeys:["tableHeader","tableFullWidth","insertTableRow","deleteTableRow","insertTableCol","deleteTableCol","deleteTable"]}];var cg={hoverbarKeys:ig(ig([],og(ug)),[{desc:"选中文本 selected text",match:function(e,t){var n=e.selection;if(null==n)return!1;if(Et.isCollapsed(n))return!1;var r="",o=og(st.parent(e,n,{edge:"start"}),1)[0];return rt.isElement(o)&&(r=o.type),"code"!==r&&"pre"!==r&&!r.startsWith("header")&&!!_t.isText(t)},menuKeys:["headerSelect","insertLink","bulletedList","|","bold","through","color","bgColor","clearStyle"]}])};ag.setEditorConfig(rg(rg({},cg),{decorate:ng}));var dg={hoverbarKeys:ug};ag.setSimpleEditorConfig(rg(rg({},dg),{decorate:ng}));var fg={toolbarKeys:["headerSelect","blockquote","|","bold","underline","italic",{key:"group-more-style",title:"更多样式",iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M204.8 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path><path d="M505.6 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path><path d="M806.4 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path></svg>',menuKeys:["through","code","clearStyle"]},"color","bgColor","|","fontSize","fontFamily","lineHeight","|","bulletedList","numberedList",{key:"group-justify",title:"对齐",iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',menuKeys:["justifyLeft","justifyRight","justifyCenter","justifyJustify"]},{key:"group-indent",title:"缩进",iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m0-128V320l256 192z"></path></svg>',menuKeys:["indent","delIndent"]},"|","emotion","insertLink",{key:"group-image",title:"图片",iconSvg:lg,menuKeys:["insertImage","uploadImage"]},"insertVideo","insertTable","codeBlock","divider","|","undo","redo","|","fullScreen"]};ag.setToolbarConfig(fg);var pg={toolbarKeys:["blockquote","header1","header2","header3","|","bold","underline","italic","through","color","bgColor","clearStyle","|","bulletedList","numberedList","justifyLeft","justifyRight","justifyCenter","|","insertLink",{key:"group-image",title:"图片",iconSvg:lg,menuKeys:["insertImage","uploadImage"]},"insertTable","codeBlock","|","undo","redo","|","fullScreen"]};ag.setSimpleToolbarConfig(pg);e.Boot=ag,e.DomEditor=os,e.SlateEditor=st,e.SlateElement=rt,e.SlateLocation=lt,e.SlateNode=dt,e.SlatePath=gt,e.SlatePoint=bt,e.SlateRange=Et,e.SlateText=_t,e.SlateTransforms=Ht,e.Toolbar=Xl,e.createEditor=function(e){void 0===e&&(e={});var t=e.textareaSelector,n=void 0===t?"":t,r=e.content,o=void 0===r?[]:r,i=e.config,a=void 0===i?{}:i,s=e.mode,l="simple"===(void 0===s?"default":s)?ag.simpleEditorConfig:ag.editorConfig;return Kl({textareaSelector:n,config:rg(rg({},l),a),content:o,plugins:ag.plugins})},e.createToolbar=function(e){var t=e.toolbarSelector,n=e.editor,r=e.config,o=void 0===r?{}:r,i=e.mode,a=void 0===i?"default":i;if(!t)throw new Error("Cannot find 'toolbarSelector' when create toolbar");var s="simple"===a?ag.simpleToolbarConfig:ag.toolbarConfig;return function(e,t){if(null==e)throw new Error("Cannot create toolbar, because editor is null");var n=t.toolbarSelector,r=t.config,o=void 0===r?{}:r;if(function(e,t){return Gl(e,"data-w-e-toolbar",t)}(e,n))throw new Error("Repeated create toolbar by toolbarSelector '"+n+"'");var i=ca({toolbarKeys:[],excludeKeys:[]},o||{}),a=new Xl(n,i);return ya.set(a,e),ba.set(e,a),a}(n,{toolbarSelector:t,config:rg(rg({},s),o)})},e.default={},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
